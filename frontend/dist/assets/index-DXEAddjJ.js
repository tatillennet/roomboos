function yx(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const i=Object.getOwnPropertyDescriptor(r,a);i&&Object.defineProperty(e,a,i.get?i:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var xS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vx(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var h5={exports:{}},nf={},p5={exports:{}},_t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fu=Symbol.for("react.element"),xx=Symbol.for("react.portal"),bx=Symbol.for("react.fragment"),wx=Symbol.for("react.strict_mode"),Nx=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),jx=Symbol.for("react.context"),kx=Symbol.for("react.forward_ref"),Ax=Symbol.for("react.suspense"),Lx=Symbol.for("react.memo"),Cx=Symbol.for("react.lazy"),r0=Symbol.iterator;function _x(e){return e===null||typeof e!="object"?null:(e=r0&&e[r0]||e["@@iterator"],typeof e=="function"?e:null)}var m5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g5=Object.assign,y5={};function rl(e,t,n){this.props=e,this.context=t,this.refs=y5,this.updater=n||m5}rl.prototype.isReactComponent={};rl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function v5(){}v5.prototype=rl.prototype;function km(e,t,n){this.props=e,this.context=t,this.refs=y5,this.updater=n||m5}var Am=km.prototype=new v5;Am.constructor=km;g5(Am,rl.prototype);Am.isPureReactComponent=!0;var a0=Array.isArray,x5=Object.prototype.hasOwnProperty,Lm={current:null},b5={key:!0,ref:!0,__self:!0,__source:!0};function w5(e,t,n){var r,a={},i=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(i=""+t.key),t)x5.call(t,r)&&!b5.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){for(var c=Array(u),f=0;f<u;f++)c[f]=arguments[f+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)a[r]===void 0&&(a[r]=u[r]);return{$$typeof:Fu,type:e,key:i,ref:s,props:a,_owner:Lm.current}}function Px(e,t){return{$$typeof:Fu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cm(e){return typeof e=="object"&&e!==null&&e.$$typeof===Fu}function Tx(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var i0=/\/+/g;function gh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Tx(""+e.key):t.toString(36)}function ad(e,t,n,r,a){var i=typeof e;(i==="undefined"||i==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case Fu:case xx:s=!0}}if(s)return s=e,a=a(s),e=r===""?"."+gh(s,0):r,a0(a)?(n="",e!=null&&(n=e.replace(i0,"$&/")+"/"),ad(a,t,n,"",function(f){return f})):a!=null&&(Cm(a)&&(a=Px(a,n+(!a.key||s&&s.key===a.key?"":(""+a.key).replace(i0,"$&/")+"/")+e)),t.push(a)),1;if(s=0,r=r===""?".":r+":",a0(e))for(var u=0;u<e.length;u++){i=e[u];var c=r+gh(i,u);s+=ad(i,t,n,c,a)}else if(c=_x(e),typeof c=="function")for(e=c.call(e),u=0;!(i=e.next()).done;)i=i.value,c=r+gh(i,u++),s+=ad(i,t,n,c,a);else if(i==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function Ic(e,t,n){if(e==null)return e;var r=[],a=0;return ad(e,r,"","",function(i){return t.call(n,i,a++)}),r}function Ex(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var br={current:null},id={transition:null},Rx={ReactCurrentDispatcher:br,ReactCurrentBatchConfig:id,ReactCurrentOwner:Lm};function N5(){throw Error("act(...) is not supported in production builds of React.")}_t.Children={map:Ic,forEach:function(e,t,n){Ic(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ic(e,function(){t++}),t},toArray:function(e){return Ic(e,function(t){return t})||[]},only:function(e){if(!Cm(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};_t.Component=rl;_t.Fragment=bx;_t.Profiler=Nx;_t.PureComponent=km;_t.StrictMode=wx;_t.Suspense=Ax;_t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rx;_t.act=N5;_t.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=g5({},e.props),a=e.key,i=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(i=t.ref,s=Lm.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(c in t)x5.call(t,c)&&!b5.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&u!==void 0?u[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){u=Array(c);for(var f=0;f<c;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Fu,type:e.type,key:a,ref:i,props:r,_owner:s}};_t.createContext=function(e){return e={$$typeof:jx,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:Sx,_context:e},e.Consumer=e};_t.createElement=w5;_t.createFactory=function(e){var t=w5.bind(null,e);return t.type=e,t};_t.createRef=function(){return{current:null}};_t.forwardRef=function(e){return{$$typeof:kx,render:e}};_t.isValidElement=Cm;_t.lazy=function(e){return{$$typeof:Cx,_payload:{_status:-1,_result:e},_init:Ex}};_t.memo=function(e,t){return{$$typeof:Lx,type:e,compare:t===void 0?null:t}};_t.startTransition=function(e){var t=id.transition;id.transition={};try{e()}finally{id.transition=t}};_t.unstable_act=N5;_t.useCallback=function(e,t){return br.current.useCallback(e,t)};_t.useContext=function(e){return br.current.useContext(e)};_t.useDebugValue=function(){};_t.useDeferredValue=function(e){return br.current.useDeferredValue(e)};_t.useEffect=function(e,t){return br.current.useEffect(e,t)};_t.useId=function(){return br.current.useId()};_t.useImperativeHandle=function(e,t,n){return br.current.useImperativeHandle(e,t,n)};_t.useInsertionEffect=function(e,t){return br.current.useInsertionEffect(e,t)};_t.useLayoutEffect=function(e,t){return br.current.useLayoutEffect(e,t)};_t.useMemo=function(e,t){return br.current.useMemo(e,t)};_t.useReducer=function(e,t,n){return br.current.useReducer(e,t,n)};_t.useRef=function(e){return br.current.useRef(e)};_t.useState=function(e){return br.current.useState(e)};_t.useSyncExternalStore=function(e,t,n){return br.current.useSyncExternalStore(e,t,n)};_t.useTransition=function(){return br.current.useTransition()};_t.version="18.3.1";p5.exports=_t;var ee=p5.exports;const Ix=vx(ee),Ox=yx({__proto__:null,default:Ix},[ee]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dx=ee,Fx=Symbol.for("react.element"),Mx=Symbol.for("react.fragment"),Bx=Object.prototype.hasOwnProperty,zx=Dx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ux={key:!0,ref:!0,__self:!0,__source:!0};function S5(e,t,n){var r,a={},i=null,s=null;n!==void 0&&(i=""+n),t.key!==void 0&&(i=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)Bx.call(t,r)&&!Ux.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:Fx,type:e,key:i,ref:s,props:a,_owner:zx.current}}nf.Fragment=Mx;nf.jsx=S5;nf.jsxs=S5;h5.exports=nf;var o=h5.exports,ip={},j5={exports:{}},Gr={},k5={exports:{}},A5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(D,X){var re=D.length;D.push(X);e:for(;0<re;){var ke=re-1>>>1,C=D[ke];if(0<a(C,X))D[ke]=X,D[re]=C,re=ke;else break e}}function n(D){return D.length===0?null:D[0]}function r(D){if(D.length===0)return null;var X=D[0],re=D.pop();if(re!==X){D[0]=re;e:for(var ke=0,C=D.length,$=C>>>1;ke<$;){var q=2*(ke+1)-1,Y=D[q],ae=q+1,fe=D[ae];if(0>a(Y,re))ae<C&&0>a(fe,Y)?(D[ke]=fe,D[ae]=re,ke=ae):(D[ke]=Y,D[q]=re,ke=q);else if(ae<C&&0>a(fe,re))D[ke]=fe,D[ae]=re,ke=ae;else break e}}return X}function a(D,X){var re=D.sortIndex-X.sortIndex;return re!==0?re:D.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;e.unstable_now=function(){return i.now()}}else{var s=Date,u=s.now();e.unstable_now=function(){return s.now()-u}}var c=[],f=[],y=1,g=null,b=3,m=!1,j=!1,w=!1,P=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(D){for(var X=n(f);X!==null;){if(X.callback===null)r(f);else if(X.startTime<=D)r(f),X.sortIndex=X.expirationTime,t(c,X);else break;X=n(f)}}function B(D){if(w=!1,S(D),!j)if(n(c)!==null)j=!0,Z(J);else{var X=n(f);X!==null&&de(B,X.startTime-D)}}function J(D,X){j=!1,w&&(w=!1,x(T),T=-1),m=!0;var re=b;try{for(S(X),g=n(c);g!==null&&(!(g.expirationTime>X)||D&&!E());){var ke=g.callback;if(typeof ke=="function"){g.callback=null,b=g.priorityLevel;var C=ke(g.expirationTime<=X);X=e.unstable_now(),typeof C=="function"?g.callback=C:g===n(c)&&r(c),S(X)}else r(c);g=n(c)}if(g!==null)var $=!0;else{var q=n(f);q!==null&&de(B,q.startTime-X),$=!1}return $}finally{g=null,b=re,m=!1}}var ne=!1,U=null,T=-1,V=5,se=-1;function E(){return!(e.unstable_now()-se<V)}function _(){if(U!==null){var D=e.unstable_now();se=D;var X=!0;try{X=U(!0,D)}finally{X?W():(ne=!1,U=null)}}else ne=!1}var W;if(typeof v=="function")W=function(){v(_)};else if(typeof MessageChannel<"u"){var F=new MessageChannel,te=F.port2;F.port1.onmessage=_,W=function(){te.postMessage(null)}}else W=function(){P(_,0)};function Z(D){U=D,ne||(ne=!0,W())}function de(D,X){T=P(function(){D(e.unstable_now())},X)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(D){D.callback=null},e.unstable_continueExecution=function(){j||m||(j=!0,Z(J))},e.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<D?Math.floor(1e3/D):5},e.unstable_getCurrentPriorityLevel=function(){return b},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(D){switch(b){case 1:case 2:case 3:var X=3;break;default:X=b}var re=b;b=X;try{return D()}finally{b=re}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(D,X){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var re=b;b=D;try{return X()}finally{b=re}},e.unstable_scheduleCallback=function(D,X,re){var ke=e.unstable_now();switch(typeof re=="object"&&re!==null?(re=re.delay,re=typeof re=="number"&&0<re?ke+re:ke):re=ke,D){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=re+C,D={id:y++,callback:X,priorityLevel:D,startTime:re,expirationTime:C,sortIndex:-1},re>ke?(D.sortIndex=re,t(f,D),n(c)===null&&D===n(f)&&(w?(x(T),T=-1):w=!0,de(B,re-ke))):(D.sortIndex=C,t(c,D),j||m||(j=!0,Z(J))),D},e.unstable_shouldYield=E,e.unstable_wrapCallback=function(D){var X=b;return function(){var re=b;b=X;try{return D.apply(this,arguments)}finally{b=re}}}})(A5);k5.exports=A5;var qx=k5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $x=ee,Wr=qx;function Ue(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var L5=new Set,gu={};function zs(e,t){Yo(e,t),Yo(e+"Capture",t)}function Yo(e,t){for(gu[e]=t,e=0;e<t.length;e++)L5.add(t[e])}var oi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),sp=Object.prototype.hasOwnProperty,Hx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,s0={},o0={};function Vx(e){return sp.call(o0,e)?!0:sp.call(s0,e)?!1:Hx.test(e)?o0[e]=!0:(s0[e]=!0,!1)}function Wx(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Gx(e,t,n,r){if(t===null||typeof t>"u"||Wx(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function wr(e,t,n,r,a,i,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=s}var Jn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Jn[e]=new wr(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Jn[t]=new wr(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Jn[e]=new wr(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Jn[e]=new wr(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Jn[e]=new wr(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Jn[e]=new wr(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Jn[e]=new wr(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Jn[e]=new wr(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Jn[e]=new wr(e,5,!1,e.toLowerCase(),null,!1,!1)});var _m=/[\-:]([a-z])/g;function Pm(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(_m,Pm);Jn[t]=new wr(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(_m,Pm);Jn[t]=new wr(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(_m,Pm);Jn[t]=new wr(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Jn[e]=new wr(e,1,!1,e.toLowerCase(),null,!1,!1)});Jn.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Jn[e]=new wr(e,1,!1,e.toLowerCase(),null,!0,!0)});function Tm(e,t,n,r){var a=Jn.hasOwnProperty(t)?Jn[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Gx(t,n,a,r)&&(n=null),r||a===null?Vx(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var di=$x.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Oc=Symbol.for("react.element"),Ao=Symbol.for("react.portal"),Lo=Symbol.for("react.fragment"),Em=Symbol.for("react.strict_mode"),op=Symbol.for("react.profiler"),C5=Symbol.for("react.provider"),_5=Symbol.for("react.context"),Rm=Symbol.for("react.forward_ref"),lp=Symbol.for("react.suspense"),up=Symbol.for("react.suspense_list"),Im=Symbol.for("react.memo"),Oi=Symbol.for("react.lazy"),P5=Symbol.for("react.offscreen"),l0=Symbol.iterator;function zl(e){return e===null||typeof e!="object"?null:(e=l0&&e[l0]||e["@@iterator"],typeof e=="function"?e:null)}var un=Object.assign,yh;function eu(e){if(yh===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);yh=t&&t[1]||""}return`
`+yh+e}var vh=!1;function xh(e,t){if(!e||vh)return"";vh=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),i=r.stack.split(`
`),s=a.length-1,u=i.length-1;1<=s&&0<=u&&a[s]!==i[u];)u--;for(;1<=s&&0<=u;s--,u--)if(a[s]!==i[u]){if(s!==1||u!==1)do if(s--,u--,0>u||a[s]!==i[u]){var c=`
`+a[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=u);break}}}finally{vh=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?eu(e):""}function Kx(e){switch(e.tag){case 5:return eu(e.type);case 16:return eu("Lazy");case 13:return eu("Suspense");case 19:return eu("SuspenseList");case 0:case 2:case 15:return e=xh(e.type,!1),e;case 11:return e=xh(e.type.render,!1),e;case 1:return e=xh(e.type,!0),e;default:return""}}function cp(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Lo:return"Fragment";case Ao:return"Portal";case op:return"Profiler";case Em:return"StrictMode";case lp:return"Suspense";case up:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _5:return(e.displayName||"Context")+".Consumer";case C5:return(e._context.displayName||"Context")+".Provider";case Rm:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Im:return t=e.displayName||null,t!==null?t:cp(e.type)||"Memo";case Oi:t=e._payload,e=e._init;try{return cp(e(t))}catch{}}return null}function Yx(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return cp(t);case 8:return t===Em?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function es(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function T5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Jx(e){var t=T5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,i=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Dc(e){e._valueTracker||(e._valueTracker=Jx(e))}function E5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=T5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ad(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dp(e,t){var n=t.checked;return un({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function u0(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=es(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function R5(e,t){t=t.checked,t!=null&&Tm(e,"checked",t,!1)}function fp(e,t){R5(e,t);var n=es(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hp(e,t.type,n):t.hasOwnProperty("defaultValue")&&hp(e,t.type,es(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function c0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hp(e,t,n){(t!=="number"||Ad(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var tu=Array.isArray;function Bo(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+es(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function pp(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(Ue(91));return un({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function d0(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(Ue(92));if(tu(n)){if(1<n.length)throw Error(Ue(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:es(n)}}function I5(e,t){var n=es(t.value),r=es(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function f0(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function O5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mp(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?O5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fc,D5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function yu(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var au={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xx=["Webkit","ms","Moz","O"];Object.keys(au).forEach(function(e){Xx.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),au[t]=au[e]})});function F5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||au.hasOwnProperty(e)&&au[e]?(""+t).trim():t+"px"}function M5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=F5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var Qx=un({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gp(e,t){if(t){if(Qx[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(Ue(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(Ue(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(Ue(61))}if(t.style!=null&&typeof t.style!="object")throw Error(Ue(62))}}function yp(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vp=null;function Om(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xp=null,zo=null,Uo=null;function h0(e){if(e=zu(e)){if(typeof xp!="function")throw Error(Ue(280));var t=e.stateNode;t&&(t=lf(t),xp(e.stateNode,e.type,t))}}function B5(e){zo?Uo?Uo.push(e):Uo=[e]:zo=e}function z5(){if(zo){var e=zo,t=Uo;if(Uo=zo=null,h0(e),t)for(e=0;e<t.length;e++)h0(t[e])}}function U5(e,t){return e(t)}function q5(){}var bh=!1;function $5(e,t,n){if(bh)return e(t,n);bh=!0;try{return U5(e,t,n)}finally{bh=!1,(zo!==null||Uo!==null)&&(q5(),z5())}}function vu(e,t){var n=e.stateNode;if(n===null)return null;var r=lf(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(Ue(231,t,typeof n));return n}var bp=!1;if(oi)try{var Ul={};Object.defineProperty(Ul,"passive",{get:function(){bp=!0}}),window.addEventListener("test",Ul,Ul),window.removeEventListener("test",Ul,Ul)}catch{bp=!1}function Zx(e,t,n,r,a,i,s,u,c){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(y){this.onError(y)}}var iu=!1,Ld=null,Cd=!1,wp=null,eb={onError:function(e){iu=!0,Ld=e}};function tb(e,t,n,r,a,i,s,u,c){iu=!1,Ld=null,Zx.apply(eb,arguments)}function nb(e,t,n,r,a,i,s,u,c){if(tb.apply(this,arguments),iu){if(iu){var f=Ld;iu=!1,Ld=null}else throw Error(Ue(198));Cd||(Cd=!0,wp=f)}}function Us(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function H5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p0(e){if(Us(e)!==e)throw Error(Ue(188))}function rb(e){var t=e.alternate;if(!t){if(t=Us(e),t===null)throw Error(Ue(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var i=a.alternate;if(i===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return p0(a),e;if(i===r)return p0(a),t;i=i.sibling}throw Error(Ue(188))}if(n.return!==r.return)n=a,r=i;else{for(var s=!1,u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s){for(u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s)throw Error(Ue(189))}}if(n.alternate!==r)throw Error(Ue(190))}if(n.tag!==3)throw Error(Ue(188));return n.stateNode.current===n?e:t}function V5(e){return e=rb(e),e!==null?W5(e):null}function W5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=W5(e);if(t!==null)return t;e=e.sibling}return null}var G5=Wr.unstable_scheduleCallback,m0=Wr.unstable_cancelCallback,ab=Wr.unstable_shouldYield,ib=Wr.unstable_requestPaint,bn=Wr.unstable_now,sb=Wr.unstable_getCurrentPriorityLevel,Dm=Wr.unstable_ImmediatePriority,K5=Wr.unstable_UserBlockingPriority,_d=Wr.unstable_NormalPriority,ob=Wr.unstable_LowPriority,Y5=Wr.unstable_IdlePriority,rf=null,Ba=null;function lb(e){if(Ba&&typeof Ba.onCommitFiberRoot=="function")try{Ba.onCommitFiberRoot(rf,e,void 0,(e.current.flags&128)===128)}catch{}}var Na=Math.clz32?Math.clz32:db,ub=Math.log,cb=Math.LN2;function db(e){return e>>>=0,e===0?32:31-(ub(e)/cb|0)|0}var Mc=64,Bc=4194304;function nu(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Pd(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,i=e.pingedLanes,s=n&268435455;if(s!==0){var u=s&~a;u!==0?r=nu(u):(i&=s,i!==0&&(r=nu(i)))}else s=n&~a,s!==0?r=nu(s):i!==0&&(r=nu(i));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,i=t&-t,a>=i||a===16&&(i&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Na(t),a=1<<n,r|=e[n],t&=~a;return r}function fb(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function hb(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,i=e.pendingLanes;0<i;){var s=31-Na(i),u=1<<s,c=a[s];c===-1?(!(u&n)||u&r)&&(a[s]=fb(u,t)):c<=t&&(e.expiredLanes|=u),i&=~u}}function Np(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function J5(){var e=Mc;return Mc<<=1,!(Mc&4194240)&&(Mc=64),e}function wh(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Mu(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Na(t),e[t]=n}function pb(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-Na(n),i=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~i}}function Fm(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Na(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ht=0;function X5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Q5,Mm,Z5,eg,tg,Sp=!1,zc=[],Vi=null,Wi=null,Gi=null,xu=new Map,bu=new Map,Fi=[],mb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function g0(e,t){switch(e){case"focusin":case"focusout":Vi=null;break;case"dragenter":case"dragleave":Wi=null;break;case"mouseover":case"mouseout":Gi=null;break;case"pointerover":case"pointerout":xu.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":bu.delete(t.pointerId)}}function ql(e,t,n,r,a,i){return e===null||e.nativeEvent!==i?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[a]},t!==null&&(t=zu(t),t!==null&&Mm(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function gb(e,t,n,r,a){switch(t){case"focusin":return Vi=ql(Vi,e,t,n,r,a),!0;case"dragenter":return Wi=ql(Wi,e,t,n,r,a),!0;case"mouseover":return Gi=ql(Gi,e,t,n,r,a),!0;case"pointerover":var i=a.pointerId;return xu.set(i,ql(xu.get(i)||null,e,t,n,r,a)),!0;case"gotpointercapture":return i=a.pointerId,bu.set(i,ql(bu.get(i)||null,e,t,n,r,a)),!0}return!1}function ng(e){var t=As(e.target);if(t!==null){var n=Us(t);if(n!==null){if(t=n.tag,t===13){if(t=H5(n),t!==null){e.blockedOn=t,tg(e.priority,function(){Z5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function sd(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=jp(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vp=r,n.target.dispatchEvent(r),vp=null}else return t=zu(n),t!==null&&Mm(t),e.blockedOn=n,!1;t.shift()}return!0}function y0(e,t,n){sd(e)&&n.delete(t)}function yb(){Sp=!1,Vi!==null&&sd(Vi)&&(Vi=null),Wi!==null&&sd(Wi)&&(Wi=null),Gi!==null&&sd(Gi)&&(Gi=null),xu.forEach(y0),bu.forEach(y0)}function $l(e,t){e.blockedOn===t&&(e.blockedOn=null,Sp||(Sp=!0,Wr.unstable_scheduleCallback(Wr.unstable_NormalPriority,yb)))}function wu(e){function t(a){return $l(a,e)}if(0<zc.length){$l(zc[0],e);for(var n=1;n<zc.length;n++){var r=zc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Vi!==null&&$l(Vi,e),Wi!==null&&$l(Wi,e),Gi!==null&&$l(Gi,e),xu.forEach(t),bu.forEach(t),n=0;n<Fi.length;n++)r=Fi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Fi.length&&(n=Fi[0],n.blockedOn===null);)ng(n),n.blockedOn===null&&Fi.shift()}var qo=di.ReactCurrentBatchConfig,Td=!0;function vb(e,t,n,r){var a=Ht,i=qo.transition;qo.transition=null;try{Ht=1,Bm(e,t,n,r)}finally{Ht=a,qo.transition=i}}function xb(e,t,n,r){var a=Ht,i=qo.transition;qo.transition=null;try{Ht=4,Bm(e,t,n,r)}finally{Ht=a,qo.transition=i}}function Bm(e,t,n,r){if(Td){var a=jp(e,t,n,r);if(a===null)Th(e,t,r,Ed,n),g0(e,r);else if(gb(a,e,t,n,r))r.stopPropagation();else if(g0(e,r),t&4&&-1<mb.indexOf(e)){for(;a!==null;){var i=zu(a);if(i!==null&&Q5(i),i=jp(e,t,n,r),i===null&&Th(e,t,r,Ed,n),i===a)break;a=i}a!==null&&r.stopPropagation()}else Th(e,t,r,null,n)}}var Ed=null;function jp(e,t,n,r){if(Ed=null,e=Om(r),e=As(e),e!==null)if(t=Us(e),t===null)e=null;else if(n=t.tag,n===13){if(e=H5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ed=e,null}function rg(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(sb()){case Dm:return 1;case K5:return 4;case _d:case ob:return 16;case Y5:return 536870912;default:return 16}default:return 16}}var Bi=null,zm=null,od=null;function ag(){if(od)return od;var e,t=zm,n=t.length,r,a="value"in Bi?Bi.value:Bi.textContent,i=a.length;for(e=0;e<n&&t[e]===a[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===a[i-r];r++);return od=a.slice(e,1<r?1-r:void 0)}function ld(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uc(){return!0}function v0(){return!1}function Kr(e){function t(n,r,a,i,s){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(i):i[u]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Uc:v0,this.isPropagationStopped=v0,this}return un(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uc)},persist:function(){},isPersistent:Uc}),t}var al={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Um=Kr(al),Bu=un({},al,{view:0,detail:0}),bb=Kr(Bu),Nh,Sh,Hl,af=un({},Bu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qm,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Hl&&(Hl&&e.type==="mousemove"?(Nh=e.screenX-Hl.screenX,Sh=e.screenY-Hl.screenY):Sh=Nh=0,Hl=e),Nh)},movementY:function(e){return"movementY"in e?e.movementY:Sh}}),x0=Kr(af),wb=un({},af,{dataTransfer:0}),Nb=Kr(wb),Sb=un({},Bu,{relatedTarget:0}),jh=Kr(Sb),jb=un({},al,{animationName:0,elapsedTime:0,pseudoElement:0}),kb=Kr(jb),Ab=un({},al,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Lb=Kr(Ab),Cb=un({},al,{data:0}),b0=Kr(Cb),_b={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tb[e])?!!t[e]:!1}function qm(){return Eb}var Rb=un({},Bu,{key:function(e){if(e.key){var t=_b[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ld(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qm,charCode:function(e){return e.type==="keypress"?ld(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ld(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ib=Kr(Rb),Ob=un({},af,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),w0=Kr(Ob),Db=un({},Bu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qm}),Fb=Kr(Db),Mb=un({},al,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bb=Kr(Mb),zb=un({},af,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ub=Kr(zb),qb=[9,13,27,32],$m=oi&&"CompositionEvent"in window,su=null;oi&&"documentMode"in document&&(su=document.documentMode);var $b=oi&&"TextEvent"in window&&!su,ig=oi&&(!$m||su&&8<su&&11>=su),N0=" ",S0=!1;function sg(e,t){switch(e){case"keyup":return qb.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Co=!1;function Hb(e,t){switch(e){case"compositionend":return og(t);case"keypress":return t.which!==32?null:(S0=!0,N0);case"textInput":return e=t.data,e===N0&&S0?null:e;default:return null}}function Vb(e,t){if(Co)return e==="compositionend"||!$m&&sg(e,t)?(e=ag(),od=zm=Bi=null,Co=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ig&&t.locale!=="ko"?null:t.data;default:return null}}var Wb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function j0(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Wb[e.type]:t==="textarea"}function lg(e,t,n,r){B5(r),t=Rd(t,"onChange"),0<t.length&&(n=new Um("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ou=null,Nu=null;function Gb(e){xg(e,0)}function sf(e){var t=To(e);if(E5(t))return e}function Kb(e,t){if(e==="change")return t}var ug=!1;if(oi){var kh;if(oi){var Ah="oninput"in document;if(!Ah){var k0=document.createElement("div");k0.setAttribute("oninput","return;"),Ah=typeof k0.oninput=="function"}kh=Ah}else kh=!1;ug=kh&&(!document.documentMode||9<document.documentMode)}function A0(){ou&&(ou.detachEvent("onpropertychange",cg),Nu=ou=null)}function cg(e){if(e.propertyName==="value"&&sf(Nu)){var t=[];lg(t,Nu,e,Om(e)),$5(Gb,t)}}function Yb(e,t,n){e==="focusin"?(A0(),ou=t,Nu=n,ou.attachEvent("onpropertychange",cg)):e==="focusout"&&A0()}function Jb(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sf(Nu)}function Xb(e,t){if(e==="click")return sf(t)}function Qb(e,t){if(e==="input"||e==="change")return sf(t)}function Zb(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ja=typeof Object.is=="function"?Object.is:Zb;function Su(e,t){if(ja(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!sp.call(t,a)||!ja(e[a],t[a]))return!1}return!0}function L0(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function C0(e,t){var n=L0(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=L0(n)}}function dg(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?dg(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function fg(){for(var e=window,t=Ad();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ad(e.document)}return t}function Hm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function ew(e){var t=fg(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dg(n.ownerDocument.documentElement,n)){if(r!==null&&Hm(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,i=Math.min(r.start,a);r=r.end===void 0?i:Math.min(r.end,a),!e.extend&&i>r&&(a=r,r=i,i=a),a=C0(n,i);var s=C0(n,r);a&&s&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),i>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var tw=oi&&"documentMode"in document&&11>=document.documentMode,_o=null,kp=null,lu=null,Ap=!1;function _0(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Ap||_o==null||_o!==Ad(r)||(r=_o,"selectionStart"in r&&Hm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),lu&&Su(lu,r)||(lu=r,r=Rd(kp,"onSelect"),0<r.length&&(t=new Um("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=_o)))}function qc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Po={animationend:qc("Animation","AnimationEnd"),animationiteration:qc("Animation","AnimationIteration"),animationstart:qc("Animation","AnimationStart"),transitionend:qc("Transition","TransitionEnd")},Lh={},hg={};oi&&(hg=document.createElement("div").style,"AnimationEvent"in window||(delete Po.animationend.animation,delete Po.animationiteration.animation,delete Po.animationstart.animation),"TransitionEvent"in window||delete Po.transitionend.transition);function of(e){if(Lh[e])return Lh[e];if(!Po[e])return e;var t=Po[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in hg)return Lh[e]=t[n];return e}var pg=of("animationend"),mg=of("animationiteration"),gg=of("animationstart"),yg=of("transitionend"),vg=new Map,P0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(e,t){vg.set(e,t),zs(t,[e])}for(var Ch=0;Ch<P0.length;Ch++){var _h=P0[Ch],nw=_h.toLowerCase(),rw=_h[0].toUpperCase()+_h.slice(1);as(nw,"on"+rw)}as(pg,"onAnimationEnd");as(mg,"onAnimationIteration");as(gg,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(yg,"onTransitionEnd");Yo("onMouseEnter",["mouseout","mouseover"]);Yo("onMouseLeave",["mouseout","mouseover"]);Yo("onPointerEnter",["pointerout","pointerover"]);Yo("onPointerLeave",["pointerout","pointerover"]);zs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zs("onBeforeInput",["compositionend","keypress","textInput","paste"]);zs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ru="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),aw=new Set("cancel close invalid load scroll toggle".split(" ").concat(ru));function T0(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,nb(r,t,void 0,e),e.currentTarget=null}function xg(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var i=void 0;if(t)for(var s=r.length-1;0<=s;s--){var u=r[s],c=u.instance,f=u.currentTarget;if(u=u.listener,c!==i&&a.isPropagationStopped())break e;T0(a,u,f),i=c}else for(s=0;s<r.length;s++){if(u=r[s],c=u.instance,f=u.currentTarget,u=u.listener,c!==i&&a.isPropagationStopped())break e;T0(a,u,f),i=c}}}if(Cd)throw e=wp,Cd=!1,wp=null,e}function Zt(e,t){var n=t[Tp];n===void 0&&(n=t[Tp]=new Set);var r=e+"__bubble";n.has(r)||(bg(t,e,2,!1),n.add(r))}function Ph(e,t,n){var r=0;t&&(r|=4),bg(n,e,r,t)}var $c="_reactListening"+Math.random().toString(36).slice(2);function ju(e){if(!e[$c]){e[$c]=!0,L5.forEach(function(n){n!=="selectionchange"&&(aw.has(n)||Ph(n,!1,e),Ph(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[$c]||(t[$c]=!0,Ph("selectionchange",!1,t))}}function bg(e,t,n,r){switch(rg(t)){case 1:var a=vb;break;case 4:a=xb;break;default:a=Bm}n=a.bind(null,t,n,e),a=void 0,!bp||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Th(e,t,n,r,a){var i=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var u=r.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===a||c.nodeType===8&&c.parentNode===a))return;s=s.return}for(;u!==null;){if(s=As(u),s===null)return;if(c=s.tag,c===5||c===6){r=i=s;continue e}u=u.parentNode}}r=r.return}$5(function(){var f=i,y=Om(n),g=[];e:{var b=vg.get(e);if(b!==void 0){var m=Um,j=e;switch(e){case"keypress":if(ld(n)===0)break e;case"keydown":case"keyup":m=Ib;break;case"focusin":j="focus",m=jh;break;case"focusout":j="blur",m=jh;break;case"beforeblur":case"afterblur":m=jh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=x0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Nb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Fb;break;case pg:case mg:case gg:m=kb;break;case yg:m=Bb;break;case"scroll":m=bb;break;case"wheel":m=Ub;break;case"copy":case"cut":case"paste":m=Lb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=w0}var w=(t&4)!==0,P=!w&&e==="scroll",x=w?b!==null?b+"Capture":null:b;w=[];for(var v=f,S;v!==null;){S=v;var B=S.stateNode;if(S.tag===5&&B!==null&&(S=B,x!==null&&(B=vu(v,x),B!=null&&w.push(ku(v,B,S)))),P)break;v=v.return}0<w.length&&(b=new m(b,j,null,n,y),g.push({event:b,listeners:w}))}}if(!(t&7)){e:{if(b=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",b&&n!==vp&&(j=n.relatedTarget||n.fromElement)&&(As(j)||j[li]))break e;if((m||b)&&(b=y.window===y?y:(b=y.ownerDocument)?b.defaultView||b.parentWindow:window,m?(j=n.relatedTarget||n.toElement,m=f,j=j?As(j):null,j!==null&&(P=Us(j),j!==P||j.tag!==5&&j.tag!==6)&&(j=null)):(m=null,j=f),m!==j)){if(w=x0,B="onMouseLeave",x="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(w=w0,B="onPointerLeave",x="onPointerEnter",v="pointer"),P=m==null?b:To(m),S=j==null?b:To(j),b=new w(B,v+"leave",m,n,y),b.target=P,b.relatedTarget=S,B=null,As(y)===f&&(w=new w(x,v+"enter",j,n,y),w.target=S,w.relatedTarget=P,B=w),P=B,m&&j)t:{for(w=m,x=j,v=0,S=w;S;S=po(S))v++;for(S=0,B=x;B;B=po(B))S++;for(;0<v-S;)w=po(w),v--;for(;0<S-v;)x=po(x),S--;for(;v--;){if(w===x||x!==null&&w===x.alternate)break t;w=po(w),x=po(x)}w=null}else w=null;m!==null&&E0(g,b,m,w,!1),j!==null&&P!==null&&E0(g,P,j,w,!0)}}e:{if(b=f?To(f):window,m=b.nodeName&&b.nodeName.toLowerCase(),m==="select"||m==="input"&&b.type==="file")var J=Kb;else if(j0(b))if(ug)J=Qb;else{J=Jb;var ne=Yb}else(m=b.nodeName)&&m.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(J=Xb);if(J&&(J=J(e,f))){lg(g,J,n,y);break e}ne&&ne(e,b,f),e==="focusout"&&(ne=b._wrapperState)&&ne.controlled&&b.type==="number"&&hp(b,"number",b.value)}switch(ne=f?To(f):window,e){case"focusin":(j0(ne)||ne.contentEditable==="true")&&(_o=ne,kp=f,lu=null);break;case"focusout":lu=kp=_o=null;break;case"mousedown":Ap=!0;break;case"contextmenu":case"mouseup":case"dragend":Ap=!1,_0(g,n,y);break;case"selectionchange":if(tw)break;case"keydown":case"keyup":_0(g,n,y)}var U;if($m)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Co?sg(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(ig&&n.locale!=="ko"&&(Co||T!=="onCompositionStart"?T==="onCompositionEnd"&&Co&&(U=ag()):(Bi=y,zm="value"in Bi?Bi.value:Bi.textContent,Co=!0)),ne=Rd(f,T),0<ne.length&&(T=new b0(T,e,null,n,y),g.push({event:T,listeners:ne}),U?T.data=U:(U=og(n),U!==null&&(T.data=U)))),(U=$b?Hb(e,n):Vb(e,n))&&(f=Rd(f,"onBeforeInput"),0<f.length&&(y=new b0("onBeforeInput","beforeinput",null,n,y),g.push({event:y,listeners:f}),y.data=U))}xg(g,t)})}function ku(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Rd(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,i=a.stateNode;a.tag===5&&i!==null&&(a=i,i=vu(e,n),i!=null&&r.unshift(ku(e,i,a)),i=vu(e,t),i!=null&&r.push(ku(e,i,a))),e=e.return}return r}function po(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function E0(e,t,n,r,a){for(var i=t._reactName,s=[];n!==null&&n!==r;){var u=n,c=u.alternate,f=u.stateNode;if(c!==null&&c===r)break;u.tag===5&&f!==null&&(u=f,a?(c=vu(n,i),c!=null&&s.unshift(ku(n,c,u))):a||(c=vu(n,i),c!=null&&s.push(ku(n,c,u)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var iw=/\r\n?/g,sw=/\u0000|\uFFFD/g;function R0(e){return(typeof e=="string"?e:""+e).replace(iw,`
`).replace(sw,"")}function Hc(e,t,n){if(t=R0(t),R0(e)!==t&&n)throw Error(Ue(425))}function Id(){}var Lp=null,Cp=null;function _p(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Pp=typeof setTimeout=="function"?setTimeout:void 0,ow=typeof clearTimeout=="function"?clearTimeout:void 0,I0=typeof Promise=="function"?Promise:void 0,lw=typeof queueMicrotask=="function"?queueMicrotask:typeof I0<"u"?function(e){return I0.resolve(null).then(e).catch(uw)}:Pp;function uw(e){setTimeout(function(){throw e})}function Eh(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),wu(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);wu(t)}function Ki(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function O0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var il=Math.random().toString(36).slice(2),Fa="__reactFiber$"+il,Au="__reactProps$"+il,li="__reactContainer$"+il,Tp="__reactEvents$"+il,cw="__reactListeners$"+il,dw="__reactHandles$"+il;function As(e){var t=e[Fa];if(t)return t;for(var n=e.parentNode;n;){if(t=n[li]||n[Fa]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=O0(e);e!==null;){if(n=e[Fa])return n;e=O0(e)}return t}e=n,n=e.parentNode}return null}function zu(e){return e=e[Fa]||e[li],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function To(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(Ue(33))}function lf(e){return e[Au]||null}var Ep=[],Eo=-1;function is(e){return{current:e}}function tn(e){0>Eo||(e.current=Ep[Eo],Ep[Eo]=null,Eo--)}function Xt(e,t){Eo++,Ep[Eo]=e.current,e.current=t}var ts={},ur=is(ts),_r=is(!1),Is=ts;function Jo(e,t){var n=e.type.contextTypes;if(!n)return ts;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},i;for(i in n)a[i]=t[i];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Pr(e){return e=e.childContextTypes,e!=null}function Od(){tn(_r),tn(ur)}function D0(e,t,n){if(ur.current!==ts)throw Error(Ue(168));Xt(ur,t),Xt(_r,n)}function wg(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(Ue(108,Yx(e)||"Unknown",a));return un({},n,r)}function Dd(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||ts,Is=ur.current,Xt(ur,e),Xt(_r,_r.current),!0}function F0(e,t,n){var r=e.stateNode;if(!r)throw Error(Ue(169));n?(e=wg(e,t,Is),r.__reactInternalMemoizedMergedChildContext=e,tn(_r),tn(ur),Xt(ur,e)):tn(_r),Xt(_r,n)}var ti=null,uf=!1,Rh=!1;function Ng(e){ti===null?ti=[e]:ti.push(e)}function fw(e){uf=!0,Ng(e)}function ss(){if(!Rh&&ti!==null){Rh=!0;var e=0,t=Ht;try{var n=ti;for(Ht=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ti=null,uf=!1}catch(a){throw ti!==null&&(ti=ti.slice(e+1)),G5(Dm,ss),a}finally{Ht=t,Rh=!1}}return null}var Ro=[],Io=0,Fd=null,Md=0,aa=[],ia=0,Os=null,ai=1,ii="";function Ns(e,t){Ro[Io++]=Md,Ro[Io++]=Fd,Fd=e,Md=t}function Sg(e,t,n){aa[ia++]=ai,aa[ia++]=ii,aa[ia++]=Os,Os=e;var r=ai;e=ii;var a=32-Na(r)-1;r&=~(1<<a),n+=1;var i=32-Na(t)+a;if(30<i){var s=a-a%5;i=(r&(1<<s)-1).toString(32),r>>=s,a-=s,ai=1<<32-Na(t)+a|n<<a|r,ii=i+e}else ai=1<<i|n<<a|r,ii=e}function Vm(e){e.return!==null&&(Ns(e,1),Sg(e,1,0))}function Wm(e){for(;e===Fd;)Fd=Ro[--Io],Ro[Io]=null,Md=Ro[--Io],Ro[Io]=null;for(;e===Os;)Os=aa[--ia],aa[ia]=null,ii=aa[--ia],aa[ia]=null,ai=aa[--ia],aa[ia]=null}var Vr=null,$r=null,nn=!1,wa=null;function jg(e,t){var n=sa(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function M0(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Vr=e,$r=Ki(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Vr=e,$r=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Os!==null?{id:ai,overflow:ii}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=sa(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Vr=e,$r=null,!0):!1;default:return!1}}function Rp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ip(e){if(nn){var t=$r;if(t){var n=t;if(!M0(e,t)){if(Rp(e))throw Error(Ue(418));t=Ki(n.nextSibling);var r=Vr;t&&M0(e,t)?jg(r,n):(e.flags=e.flags&-4097|2,nn=!1,Vr=e)}}else{if(Rp(e))throw Error(Ue(418));e.flags=e.flags&-4097|2,nn=!1,Vr=e}}}function B0(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Vr=e}function Vc(e){if(e!==Vr)return!1;if(!nn)return B0(e),nn=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!_p(e.type,e.memoizedProps)),t&&(t=$r)){if(Rp(e))throw kg(),Error(Ue(418));for(;t;)jg(e,t),t=Ki(t.nextSibling)}if(B0(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(Ue(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$r=Ki(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$r=null}}else $r=Vr?Ki(e.stateNode.nextSibling):null;return!0}function kg(){for(var e=$r;e;)e=Ki(e.nextSibling)}function Xo(){$r=Vr=null,nn=!1}function Gm(e){wa===null?wa=[e]:wa.push(e)}var hw=di.ReactCurrentBatchConfig;function Vl(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Ue(309));var r=n.stateNode}if(!r)throw Error(Ue(147,e));var a=r,i=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===i?t.ref:(t=function(s){var u=a.refs;s===null?delete u[i]:u[i]=s},t._stringRef=i,t)}if(typeof e!="string")throw Error(Ue(284));if(!n._owner)throw Error(Ue(290,e))}return e}function Wc(e,t){throw e=Object.prototype.toString.call(t),Error(Ue(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function z0(e){var t=e._init;return t(e._payload)}function Ag(e){function t(x,v){if(e){var S=x.deletions;S===null?(x.deletions=[v],x.flags|=16):S.push(v)}}function n(x,v){if(!e)return null;for(;v!==null;)t(x,v),v=v.sibling;return null}function r(x,v){for(x=new Map;v!==null;)v.key!==null?x.set(v.key,v):x.set(v.index,v),v=v.sibling;return x}function a(x,v){return x=Qi(x,v),x.index=0,x.sibling=null,x}function i(x,v,S){return x.index=S,e?(S=x.alternate,S!==null?(S=S.index,S<v?(x.flags|=2,v):S):(x.flags|=2,v)):(x.flags|=1048576,v)}function s(x){return e&&x.alternate===null&&(x.flags|=2),x}function u(x,v,S,B){return v===null||v.tag!==6?(v=zh(S,x.mode,B),v.return=x,v):(v=a(v,S),v.return=x,v)}function c(x,v,S,B){var J=S.type;return J===Lo?y(x,v,S.props.children,B,S.key):v!==null&&(v.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Oi&&z0(J)===v.type)?(B=a(v,S.props),B.ref=Vl(x,v,S),B.return=x,B):(B=md(S.type,S.key,S.props,null,x.mode,B),B.ref=Vl(x,v,S),B.return=x,B)}function f(x,v,S,B){return v===null||v.tag!==4||v.stateNode.containerInfo!==S.containerInfo||v.stateNode.implementation!==S.implementation?(v=Uh(S,x.mode,B),v.return=x,v):(v=a(v,S.children||[]),v.return=x,v)}function y(x,v,S,B,J){return v===null||v.tag!==7?(v=Ts(S,x.mode,B,J),v.return=x,v):(v=a(v,S),v.return=x,v)}function g(x,v,S){if(typeof v=="string"&&v!==""||typeof v=="number")return v=zh(""+v,x.mode,S),v.return=x,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Oc:return S=md(v.type,v.key,v.props,null,x.mode,S),S.ref=Vl(x,null,v),S.return=x,S;case Ao:return v=Uh(v,x.mode,S),v.return=x,v;case Oi:var B=v._init;return g(x,B(v._payload),S)}if(tu(v)||zl(v))return v=Ts(v,x.mode,S,null),v.return=x,v;Wc(x,v)}return null}function b(x,v,S,B){var J=v!==null?v.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return J!==null?null:u(x,v,""+S,B);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Oc:return S.key===J?c(x,v,S,B):null;case Ao:return S.key===J?f(x,v,S,B):null;case Oi:return J=S._init,b(x,v,J(S._payload),B)}if(tu(S)||zl(S))return J!==null?null:y(x,v,S,B,null);Wc(x,S)}return null}function m(x,v,S,B,J){if(typeof B=="string"&&B!==""||typeof B=="number")return x=x.get(S)||null,u(v,x,""+B,J);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case Oc:return x=x.get(B.key===null?S:B.key)||null,c(v,x,B,J);case Ao:return x=x.get(B.key===null?S:B.key)||null,f(v,x,B,J);case Oi:var ne=B._init;return m(x,v,S,ne(B._payload),J)}if(tu(B)||zl(B))return x=x.get(S)||null,y(v,x,B,J,null);Wc(v,B)}return null}function j(x,v,S,B){for(var J=null,ne=null,U=v,T=v=0,V=null;U!==null&&T<S.length;T++){U.index>T?(V=U,U=null):V=U.sibling;var se=b(x,U,S[T],B);if(se===null){U===null&&(U=V);break}e&&U&&se.alternate===null&&t(x,U),v=i(se,v,T),ne===null?J=se:ne.sibling=se,ne=se,U=V}if(T===S.length)return n(x,U),nn&&Ns(x,T),J;if(U===null){for(;T<S.length;T++)U=g(x,S[T],B),U!==null&&(v=i(U,v,T),ne===null?J=U:ne.sibling=U,ne=U);return nn&&Ns(x,T),J}for(U=r(x,U);T<S.length;T++)V=m(U,x,T,S[T],B),V!==null&&(e&&V.alternate!==null&&U.delete(V.key===null?T:V.key),v=i(V,v,T),ne===null?J=V:ne.sibling=V,ne=V);return e&&U.forEach(function(E){return t(x,E)}),nn&&Ns(x,T),J}function w(x,v,S,B){var J=zl(S);if(typeof J!="function")throw Error(Ue(150));if(S=J.call(S),S==null)throw Error(Ue(151));for(var ne=J=null,U=v,T=v=0,V=null,se=S.next();U!==null&&!se.done;T++,se=S.next()){U.index>T?(V=U,U=null):V=U.sibling;var E=b(x,U,se.value,B);if(E===null){U===null&&(U=V);break}e&&U&&E.alternate===null&&t(x,U),v=i(E,v,T),ne===null?J=E:ne.sibling=E,ne=E,U=V}if(se.done)return n(x,U),nn&&Ns(x,T),J;if(U===null){for(;!se.done;T++,se=S.next())se=g(x,se.value,B),se!==null&&(v=i(se,v,T),ne===null?J=se:ne.sibling=se,ne=se);return nn&&Ns(x,T),J}for(U=r(x,U);!se.done;T++,se=S.next())se=m(U,x,T,se.value,B),se!==null&&(e&&se.alternate!==null&&U.delete(se.key===null?T:se.key),v=i(se,v,T),ne===null?J=se:ne.sibling=se,ne=se);return e&&U.forEach(function(_){return t(x,_)}),nn&&Ns(x,T),J}function P(x,v,S,B){if(typeof S=="object"&&S!==null&&S.type===Lo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Oc:e:{for(var J=S.key,ne=v;ne!==null;){if(ne.key===J){if(J=S.type,J===Lo){if(ne.tag===7){n(x,ne.sibling),v=a(ne,S.props.children),v.return=x,x=v;break e}}else if(ne.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===Oi&&z0(J)===ne.type){n(x,ne.sibling),v=a(ne,S.props),v.ref=Vl(x,ne,S),v.return=x,x=v;break e}n(x,ne);break}else t(x,ne);ne=ne.sibling}S.type===Lo?(v=Ts(S.props.children,x.mode,B,S.key),v.return=x,x=v):(B=md(S.type,S.key,S.props,null,x.mode,B),B.ref=Vl(x,v,S),B.return=x,x=B)}return s(x);case Ao:e:{for(ne=S.key;v!==null;){if(v.key===ne)if(v.tag===4&&v.stateNode.containerInfo===S.containerInfo&&v.stateNode.implementation===S.implementation){n(x,v.sibling),v=a(v,S.children||[]),v.return=x,x=v;break e}else{n(x,v);break}else t(x,v);v=v.sibling}v=Uh(S,x.mode,B),v.return=x,x=v}return s(x);case Oi:return ne=S._init,P(x,v,ne(S._payload),B)}if(tu(S))return j(x,v,S,B);if(zl(S))return w(x,v,S,B);Wc(x,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,v!==null&&v.tag===6?(n(x,v.sibling),v=a(v,S),v.return=x,x=v):(n(x,v),v=zh(S,x.mode,B),v.return=x,x=v),s(x)):n(x,v)}return P}var Qo=Ag(!0),Lg=Ag(!1),Bd=is(null),zd=null,Oo=null,Km=null;function Ym(){Km=Oo=zd=null}function Jm(e){var t=Bd.current;tn(Bd),e._currentValue=t}function Op(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function $o(e,t){zd=e,Km=Oo=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Cr=!0),e.firstContext=null)}function la(e){var t=e._currentValue;if(Km!==e)if(e={context:e,memoizedValue:t,next:null},Oo===null){if(zd===null)throw Error(Ue(308));Oo=e,zd.dependencies={lanes:0,firstContext:e}}else Oo=Oo.next=e;return t}var Ls=null;function Xm(e){Ls===null?Ls=[e]:Ls.push(e)}function Cg(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Xm(t)):(n.next=a.next,a.next=n),t.interleaved=n,ui(e,r)}function ui(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Di=!1;function Qm(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _g(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function si(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Yi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mt&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ui(e,n)}return a=r.interleaved,a===null?(t.next=t,Xm(r)):(t.next=a.next,a.next=t),r.interleaved=t,ui(e,n)}function ud(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fm(e,n)}}function U0(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?a=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?a=i=t:i=i.next=t}else a=i=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:i,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Ud(e,t,n,r){var a=e.updateQueue;Di=!1;var i=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var c=u,f=c.next;c.next=null,s===null?i=f:s.next=f,s=c;var y=e.alternate;y!==null&&(y=y.updateQueue,u=y.lastBaseUpdate,u!==s&&(u===null?y.firstBaseUpdate=f:u.next=f,y.lastBaseUpdate=c))}if(i!==null){var g=a.baseState;s=0,y=f=c=null,u=i;do{var b=u.lane,m=u.eventTime;if((r&b)===b){y!==null&&(y=y.next={eventTime:m,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,w=u;switch(b=t,m=n,w.tag){case 1:if(j=w.payload,typeof j=="function"){g=j.call(m,g,b);break e}g=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=w.payload,b=typeof j=="function"?j.call(m,g,b):j,b==null)break e;g=un({},g,b);break e;case 2:Di=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,b=a.effects,b===null?a.effects=[u]:b.push(u))}else m={eventTime:m,lane:b,tag:u.tag,payload:u.payload,callback:u.callback,next:null},y===null?(f=y=m,c=g):y=y.next=m,s|=b;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;b=u,u=b.next,b.next=null,a.lastBaseUpdate=b,a.shared.pending=null}}while(!0);if(y===null&&(c=g),a.baseState=c,a.firstBaseUpdate=f,a.lastBaseUpdate=y,t=a.shared.interleaved,t!==null){a=t;do s|=a.lane,a=a.next;while(a!==t)}else i===null&&(a.shared.lanes=0);Fs|=s,e.lanes=s,e.memoizedState=g}}function q0(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(Ue(191,a));a.call(r)}}}var Uu={},za=is(Uu),Lu=is(Uu),Cu=is(Uu);function Cs(e){if(e===Uu)throw Error(Ue(174));return e}function Zm(e,t){switch(Xt(Cu,t),Xt(Lu,e),Xt(za,Uu),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mp(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mp(t,e)}tn(za),Xt(za,t)}function Zo(){tn(za),tn(Lu),tn(Cu)}function Pg(e){Cs(Cu.current);var t=Cs(za.current),n=mp(t,e.type);t!==n&&(Xt(Lu,e),Xt(za,n))}function e1(e){Lu.current===e&&(tn(za),tn(Lu))}var sn=is(0);function qd(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ih=[];function t1(){for(var e=0;e<Ih.length;e++)Ih[e]._workInProgressVersionPrimary=null;Ih.length=0}var cd=di.ReactCurrentDispatcher,Oh=di.ReactCurrentBatchConfig,Ds=0,on=null,Dn=null,qn=null,$d=!1,uu=!1,_u=0,pw=0;function Zn(){throw Error(Ue(321))}function n1(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ja(e[n],t[n]))return!1;return!0}function r1(e,t,n,r,a,i){if(Ds=i,on=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,cd.current=e===null||e.memoizedState===null?vw:xw,e=n(r,a),uu){i=0;do{if(uu=!1,_u=0,25<=i)throw Error(Ue(301));i+=1,qn=Dn=null,t.updateQueue=null,cd.current=bw,e=n(r,a)}while(uu)}if(cd.current=Hd,t=Dn!==null&&Dn.next!==null,Ds=0,qn=Dn=on=null,$d=!1,t)throw Error(Ue(300));return e}function a1(){var e=_u!==0;return _u=0,e}function Da(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return qn===null?on.memoizedState=qn=e:qn=qn.next=e,qn}function ua(){if(Dn===null){var e=on.alternate;e=e!==null?e.memoizedState:null}else e=Dn.next;var t=qn===null?on.memoizedState:qn.next;if(t!==null)qn=t,Dn=e;else{if(e===null)throw Error(Ue(310));Dn=e,e={memoizedState:Dn.memoizedState,baseState:Dn.baseState,baseQueue:Dn.baseQueue,queue:Dn.queue,next:null},qn===null?on.memoizedState=qn=e:qn=qn.next=e}return qn}function Pu(e,t){return typeof t=="function"?t(e):t}function Dh(e){var t=ua(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=Dn,a=r.baseQueue,i=n.pending;if(i!==null){if(a!==null){var s=a.next;a.next=i.next,i.next=s}r.baseQueue=a=i,n.pending=null}if(a!==null){i=a.next,r=r.baseState;var u=s=null,c=null,f=i;do{var y=f.lane;if((Ds&y)===y)c!==null&&(c=c.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var g={lane:y,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};c===null?(u=c=g,s=r):c=c.next=g,on.lanes|=y,Fs|=y}f=f.next}while(f!==null&&f!==i);c===null?s=r:c.next=u,ja(r,t.memoizedState)||(Cr=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do i=a.lane,on.lanes|=i,Fs|=i,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Fh(e){var t=ua(),n=t.queue;if(n===null)throw Error(Ue(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(a!==null){n.pending=null;var s=a=a.next;do i=e(i,s.action),s=s.next;while(s!==a);ja(i,t.memoizedState)||(Cr=!0),t.memoizedState=i,t.baseQueue===null&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function Tg(){}function Eg(e,t){var n=on,r=ua(),a=t(),i=!ja(r.memoizedState,a);if(i&&(r.memoizedState=a,Cr=!0),r=r.queue,i1(Og.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||qn!==null&&qn.memoizedState.tag&1){if(n.flags|=2048,Tu(9,Ig.bind(null,n,r,a,t),void 0,null),Hn===null)throw Error(Ue(349));Ds&30||Rg(n,t,a)}return a}function Rg(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ig(e,t,n,r){t.value=n,t.getSnapshot=r,Dg(t)&&Fg(e)}function Og(e,t,n){return n(function(){Dg(t)&&Fg(e)})}function Dg(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ja(e,n)}catch{return!0}}function Fg(e){var t=ui(e,1);t!==null&&Sa(t,e,1,-1)}function $0(e){var t=Da();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Pu,lastRenderedState:e},t.queue=e,e=e.dispatch=yw.bind(null,on,e),[t.memoizedState,e]}function Tu(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=on.updateQueue,t===null?(t={lastEffect:null,stores:null},on.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Mg(){return ua().memoizedState}function dd(e,t,n,r){var a=Da();on.flags|=e,a.memoizedState=Tu(1|t,n,void 0,r===void 0?null:r)}function cf(e,t,n,r){var a=ua();r=r===void 0?null:r;var i=void 0;if(Dn!==null){var s=Dn.memoizedState;if(i=s.destroy,r!==null&&n1(r,s.deps)){a.memoizedState=Tu(t,n,i,r);return}}on.flags|=e,a.memoizedState=Tu(1|t,n,i,r)}function H0(e,t){return dd(8390656,8,e,t)}function i1(e,t){return cf(2048,8,e,t)}function Bg(e,t){return cf(4,2,e,t)}function zg(e,t){return cf(4,4,e,t)}function Ug(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function qg(e,t,n){return n=n!=null?n.concat([e]):null,cf(4,4,Ug.bind(null,t,e),n)}function s1(){}function $g(e,t){var n=ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Hg(e,t){var n=ua();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&n1(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Vg(e,t,n){return Ds&21?(ja(n,t)||(n=J5(),on.lanes|=n,Fs|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Cr=!0),e.memoizedState=n)}function mw(e,t){var n=Ht;Ht=n!==0&&4>n?n:4,e(!0);var r=Oh.transition;Oh.transition={};try{e(!1),t()}finally{Ht=n,Oh.transition=r}}function Wg(){return ua().memoizedState}function gw(e,t,n){var r=Xi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gg(e))Kg(t,n);else if(n=Cg(e,t,n,r),n!==null){var a=xr();Sa(n,e,r,a),Yg(n,t,r)}}function yw(e,t,n){var r=Xi(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gg(e))Kg(t,a);else{var i=e.alternate;if(e.lanes===0&&(i===null||i.lanes===0)&&(i=t.lastRenderedReducer,i!==null))try{var s=t.lastRenderedState,u=i(s,n);if(a.hasEagerState=!0,a.eagerState=u,ja(u,s)){var c=t.interleaved;c===null?(a.next=a,Xm(t)):(a.next=c.next,c.next=a),t.interleaved=a;return}}catch{}finally{}n=Cg(e,t,a,r),n!==null&&(a=xr(),Sa(n,e,r,a),Yg(n,t,r))}}function Gg(e){var t=e.alternate;return e===on||t!==null&&t===on}function Kg(e,t){uu=$d=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yg(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Fm(e,n)}}var Hd={readContext:la,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},vw={readContext:la,useCallback:function(e,t){return Da().memoizedState=[e,t===void 0?null:t],e},useContext:la,useEffect:H0,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,dd(4194308,4,Ug.bind(null,t,e),n)},useLayoutEffect:function(e,t){return dd(4194308,4,e,t)},useInsertionEffect:function(e,t){return dd(4,2,e,t)},useMemo:function(e,t){var n=Da();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Da();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=gw.bind(null,on,e),[r.memoizedState,e]},useRef:function(e){var t=Da();return e={current:e},t.memoizedState=e},useState:$0,useDebugValue:s1,useDeferredValue:function(e){return Da().memoizedState=e},useTransition:function(){var e=$0(!1),t=e[0];return e=mw.bind(null,e[1]),Da().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=on,a=Da();if(nn){if(n===void 0)throw Error(Ue(407));n=n()}else{if(n=t(),Hn===null)throw Error(Ue(349));Ds&30||Rg(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,H0(Og.bind(null,r,i,e),[e]),r.flags|=2048,Tu(9,Ig.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=Da(),t=Hn.identifierPrefix;if(nn){var n=ii,r=ai;n=(r&~(1<<32-Na(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_u++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=pw++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},xw={readContext:la,useCallback:$g,useContext:la,useEffect:i1,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:zg,useMemo:Hg,useReducer:Dh,useRef:Mg,useState:function(){return Dh(Pu)},useDebugValue:s1,useDeferredValue:function(e){var t=ua();return Vg(t,Dn.memoizedState,e)},useTransition:function(){var e=Dh(Pu)[0],t=ua().memoizedState;return[e,t]},useMutableSource:Tg,useSyncExternalStore:Eg,useId:Wg,unstable_isNewReconciler:!1},bw={readContext:la,useCallback:$g,useContext:la,useEffect:i1,useImperativeHandle:qg,useInsertionEffect:Bg,useLayoutEffect:zg,useMemo:Hg,useReducer:Fh,useRef:Mg,useState:function(){return Fh(Pu)},useDebugValue:s1,useDeferredValue:function(e){var t=ua();return Dn===null?t.memoizedState=e:Vg(t,Dn.memoizedState,e)},useTransition:function(){var e=Fh(Pu)[0],t=ua().memoizedState;return[e,t]},useMutableSource:Tg,useSyncExternalStore:Eg,useId:Wg,unstable_isNewReconciler:!1};function va(e,t){if(e&&e.defaultProps){t=un({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Dp(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:un({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var df={isMounted:function(e){return(e=e._reactInternals)?Us(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=xr(),a=Xi(e),i=si(r,a);i.payload=t,n!=null&&(i.callback=n),t=Yi(e,i,a),t!==null&&(Sa(t,e,a,r),ud(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=xr(),a=Xi(e),i=si(r,a);i.tag=1,i.payload=t,n!=null&&(i.callback=n),t=Yi(e,i,a),t!==null&&(Sa(t,e,a,r),ud(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=xr(),r=Xi(e),a=si(n,r);a.tag=2,t!=null&&(a.callback=t),t=Yi(e,a,r),t!==null&&(Sa(t,e,r,n),ud(t,e,r))}};function V0(e,t,n,r,a,i,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,i,s):t.prototype&&t.prototype.isPureReactComponent?!Su(n,r)||!Su(a,i):!0}function Jg(e,t,n){var r=!1,a=ts,i=t.contextType;return typeof i=="object"&&i!==null?i=la(i):(a=Pr(t)?Is:ur.current,r=t.contextTypes,i=(r=r!=null)?Jo(e,a):ts),t=new t(n,i),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=df,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=i),t}function W0(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&df.enqueueReplaceState(t,t.state,null)}function Fp(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Qm(e);var i=t.contextType;typeof i=="object"&&i!==null?a.context=la(i):(i=Pr(t)?Is:ur.current,a.context=Jo(e,i)),a.state=e.memoizedState,i=t.getDerivedStateFromProps,typeof i=="function"&&(Dp(e,t,i,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&df.enqueueReplaceState(a,a.state,null),Ud(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function el(e,t){try{var n="",r=t;do n+=Kx(r),r=r.return;while(r);var a=n}catch(i){a=`
Error generating stack: `+i.message+`
`+i.stack}return{value:e,source:t,stack:a,digest:null}}function Mh(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Mp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ww=typeof WeakMap=="function"?WeakMap:Map;function Xg(e,t,n){n=si(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Wd||(Wd=!0,Kp=r),Mp(e,t)},n}function Qg(e,t,n){n=si(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Mp(e,t)}}var i=e.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Mp(e,t),typeof r!="function"&&(Ji===null?Ji=new Set([this]):Ji.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function G0(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ww;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Ow.bind(null,e,t,n),t.then(e,e))}function K0(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Y0(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=si(-1,1),t.tag=2,Yi(n,t,1))),n.lanes|=1),e)}var Nw=di.ReactCurrentOwner,Cr=!1;function vr(e,t,n,r){t.child=e===null?Lg(t,null,n,r):Qo(t,e.child,n,r)}function J0(e,t,n,r,a){n=n.render;var i=t.ref;return $o(t,a),r=r1(e,t,n,r,i,a),n=a1(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ci(e,t,a)):(nn&&n&&Vm(t),t.flags|=1,vr(e,t,r,a),t.child)}function X0(e,t,n,r,a){if(e===null){var i=n.type;return typeof i=="function"&&!p1(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=i,Zg(e,t,i,r,a)):(e=md(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(i=e.child,!(e.lanes&a)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Su,n(s,r)&&e.ref===t.ref)return ci(e,t,a)}return t.flags|=1,e=Qi(i,r),e.ref=t.ref,e.return=t,t.child=e}function Zg(e,t,n,r,a){if(e!==null){var i=e.memoizedProps;if(Su(i,r)&&e.ref===t.ref)if(Cr=!1,t.pendingProps=r=i,(e.lanes&a)!==0)e.flags&131072&&(Cr=!0);else return t.lanes=e.lanes,ci(e,t,a)}return Bp(e,t,n,r,a)}function ey(e,t,n){var r=t.pendingProps,a=r.children,i=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Xt(Fo,Ur),Ur|=n;else{if(!(n&1073741824))return e=i!==null?i.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Xt(Fo,Ur),Ur|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,Xt(Fo,Ur),Ur|=r}else i!==null?(r=i.baseLanes|n,t.memoizedState=null):r=n,Xt(Fo,Ur),Ur|=r;return vr(e,t,a,n),t.child}function ty(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Bp(e,t,n,r,a){var i=Pr(n)?Is:ur.current;return i=Jo(t,i),$o(t,a),n=r1(e,t,n,r,i,a),r=a1(),e!==null&&!Cr?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,ci(e,t,a)):(nn&&r&&Vm(t),t.flags|=1,vr(e,t,n,a),t.child)}function Q0(e,t,n,r,a){if(Pr(n)){var i=!0;Dd(t)}else i=!1;if($o(t,a),t.stateNode===null)fd(e,t),Jg(t,n,r),Fp(t,n,r,a),r=!0;else if(e===null){var s=t.stateNode,u=t.memoizedProps;s.props=u;var c=s.context,f=n.contextType;typeof f=="object"&&f!==null?f=la(f):(f=Pr(n)?Is:ur.current,f=Jo(t,f));var y=n.getDerivedStateFromProps,g=typeof y=="function"||typeof s.getSnapshotBeforeUpdate=="function";g||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==r||c!==f)&&W0(t,s,r,f),Di=!1;var b=t.memoizedState;s.state=b,Ud(t,r,s,a),c=t.memoizedState,u!==r||b!==c||_r.current||Di?(typeof y=="function"&&(Dp(t,n,y,r),c=t.memoizedState),(u=Di||V0(t,n,u,r,b,c,f))?(g||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=f,r=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,_g(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:va(t.type,u),s.props=f,g=t.pendingProps,b=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=la(c):(c=Pr(n)?Is:ur.current,c=Jo(t,c));var m=n.getDerivedStateFromProps;(y=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(u!==g||b!==c)&&W0(t,s,r,c),Di=!1,b=t.memoizedState,s.state=b,Ud(t,r,s,a);var j=t.memoizedState;u!==g||b!==j||_r.current||Di?(typeof m=="function"&&(Dp(t,n,m,r),j=t.memoizedState),(f=Di||V0(t,n,f,r,b,j,c)||!1)?(y||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,j,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,j,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),s.props=r,s.state=j,s.context=c,r=f):(typeof s.componentDidUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&b===e.memoizedState||(t.flags|=1024),r=!1)}return zp(e,t,n,r,i,a)}function zp(e,t,n,r,a,i){ty(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return a&&F0(t,n,!1),ci(e,t,i);r=t.stateNode,Nw.current=t;var u=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=Qo(t,e.child,null,i),t.child=Qo(t,null,u,i)):vr(e,t,u,i),t.memoizedState=r.state,a&&F0(t,n,!0),t.child}function ny(e){var t=e.stateNode;t.pendingContext?D0(e,t.pendingContext,t.pendingContext!==t.context):t.context&&D0(e,t.context,!1),Zm(e,t.containerInfo)}function Z0(e,t,n,r,a){return Xo(),Gm(a),t.flags|=256,vr(e,t,n,r),t.child}var Up={dehydrated:null,treeContext:null,retryLane:0};function qp(e){return{baseLanes:e,cachePool:null,transitions:null}}function ry(e,t,n){var r=t.pendingProps,a=sn.current,i=!1,s=(t.flags&128)!==0,u;if((u=s)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(i=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Xt(sn,a&1),e===null)return Ip(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,i?(r=t.mode,i=t.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=pf(s,r,0,null),e=Ts(e,r,n,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=qp(n),t.memoizedState=Up,e):o1(t,s));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return Sw(e,t,s,r,u,a,n);if(i){i=r.fallback,s=t.mode,a=e.child,u=a.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=Qi(a,c),r.subtreeFlags=a.subtreeFlags&14680064),u!==null?i=Qi(u,i):(i=Ts(i,s,n,null),i.flags|=2),i.return=t,r.return=t,r.sibling=i,t.child=r,r=i,i=t.child,s=e.child.memoizedState,s=s===null?qp(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=e.childLanes&~n,t.memoizedState=Up,r}return i=e.child,e=i.sibling,r=Qi(i,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function o1(e,t){return t=pf({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Gc(e,t,n,r){return r!==null&&Gm(r),Qo(t,e.child,null,n),e=o1(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Sw(e,t,n,r,a,i,s){if(n)return t.flags&256?(t.flags&=-257,r=Mh(Error(Ue(422))),Gc(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=pf({mode:"visible",children:r.children},a,0,null),i=Ts(i,a,s,null),i.flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,t.mode&1&&Qo(t,e.child,null,s),t.child.memoizedState=qp(s),t.memoizedState=Up,i);if(!(t.mode&1))return Gc(e,t,s,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var u=r.dgst;return r=u,i=Error(Ue(419)),r=Mh(i,r,void 0),Gc(e,t,s,r)}if(u=(s&e.childLanes)!==0,Cr||u){if(r=Hn,r!==null){switch(s&-s){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|s)?0:a,a!==0&&a!==i.retryLane&&(i.retryLane=a,ui(e,a),Sa(r,e,a,-1))}return h1(),r=Mh(Error(Ue(421))),Gc(e,t,s,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=Dw.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,$r=Ki(a.nextSibling),Vr=t,nn=!0,wa=null,e!==null&&(aa[ia++]=ai,aa[ia++]=ii,aa[ia++]=Os,ai=e.id,ii=e.overflow,Os=t),t=o1(t,r.children),t.flags|=4096,t)}function e2(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Op(e.return,t,n)}function Bh(e,t,n,r,a){var i=e.memoizedState;i===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(i.isBackwards=t,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=a)}function ay(e,t,n){var r=t.pendingProps,a=r.revealOrder,i=r.tail;if(vr(e,t,r.children,n),r=sn.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&e2(e,n,t);else if(e.tag===19)e2(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Xt(sn,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&qd(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Bh(t,!1,a,n,i);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&qd(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Bh(t,!0,n,null,i);break;case"together":Bh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function fd(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function ci(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Fs|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(Ue(153));if(t.child!==null){for(e=t.child,n=Qi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Qi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function jw(e,t,n){switch(t.tag){case 3:ny(t),Xo();break;case 5:Pg(t);break;case 1:Pr(t.type)&&Dd(t);break;case 4:Zm(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Xt(Bd,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Xt(sn,sn.current&1),t.flags|=128,null):n&t.child.childLanes?ry(e,t,n):(Xt(sn,sn.current&1),e=ci(e,t,n),e!==null?e.sibling:null);Xt(sn,sn.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return ay(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Xt(sn,sn.current),r)break;return null;case 22:case 23:return t.lanes=0,ey(e,t,n)}return ci(e,t,n)}var iy,$p,sy,oy;iy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};$p=function(){};sy=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Cs(za.current);var i=null;switch(n){case"input":a=dp(e,a),r=dp(e,r),i=[];break;case"select":a=un({},a,{value:void 0}),r=un({},r,{value:void 0}),i=[];break;case"textarea":a=pp(e,a),r=pp(e,r),i=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Id)}gp(n,r);var s;n=null;for(f in a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&a[f]!=null)if(f==="style"){var u=a[f];for(s in u)u.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(gu.hasOwnProperty(f)?i||(i=[]):(i=i||[]).push(f,null));for(f in r){var c=r[f];if(u=a!=null?a[f]:void 0,r.hasOwnProperty(f)&&c!==u&&(c!=null||u!=null))if(f==="style")if(u){for(s in u)!u.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&u[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(f,n)),n=c;else f==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,u=u?u.__html:void 0,c!=null&&u!==c&&(i=i||[]).push(f,c)):f==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(f,""+c):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(gu.hasOwnProperty(f)?(c!=null&&f==="onScroll"&&Zt("scroll",e),i||u===c||(i=[])):(i=i||[]).push(f,c))}n&&(i=i||[]).push("style",n);var f=i;(t.updateQueue=f)&&(t.flags|=4)}};oy=function(e,t,n,r){n!==r&&(t.flags|=4)};function Wl(e,t){if(!nn)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function er(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function kw(e,t,n){var r=t.pendingProps;switch(Wm(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return er(t),null;case 1:return Pr(t.type)&&Od(),er(t),null;case 3:return r=t.stateNode,Zo(),tn(_r),tn(ur),t1(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Vc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,wa!==null&&(Xp(wa),wa=null))),$p(e,t),er(t),null;case 5:e1(t);var a=Cs(Cu.current);if(n=t.type,e!==null&&t.stateNode!=null)sy(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(Ue(166));return er(t),null}if(e=Cs(za.current),Vc(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[Fa]=t,r[Au]=i,e=(t.mode&1)!==0,n){case"dialog":Zt("cancel",r),Zt("close",r);break;case"iframe":case"object":case"embed":Zt("load",r);break;case"video":case"audio":for(a=0;a<ru.length;a++)Zt(ru[a],r);break;case"source":Zt("error",r);break;case"img":case"image":case"link":Zt("error",r),Zt("load",r);break;case"details":Zt("toggle",r);break;case"input":u0(r,i),Zt("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Zt("invalid",r);break;case"textarea":d0(r,i),Zt("invalid",r)}gp(n,i),a=null;for(var s in i)if(i.hasOwnProperty(s)){var u=i[s];s==="children"?typeof u=="string"?r.textContent!==u&&(i.suppressHydrationWarning!==!0&&Hc(r.textContent,u,e),a=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(i.suppressHydrationWarning!==!0&&Hc(r.textContent,u,e),a=["children",""+u]):gu.hasOwnProperty(s)&&u!=null&&s==="onScroll"&&Zt("scroll",r)}switch(n){case"input":Dc(r),c0(r,i,!0);break;case"textarea":Dc(r),f0(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Id)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=O5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[Fa]=t,e[Au]=r,iy(e,t,!1,!1),t.stateNode=e;e:{switch(s=yp(n,r),n){case"dialog":Zt("cancel",e),Zt("close",e),a=r;break;case"iframe":case"object":case"embed":Zt("load",e),a=r;break;case"video":case"audio":for(a=0;a<ru.length;a++)Zt(ru[a],e);a=r;break;case"source":Zt("error",e),a=r;break;case"img":case"image":case"link":Zt("error",e),Zt("load",e),a=r;break;case"details":Zt("toggle",e),a=r;break;case"input":u0(e,r),a=dp(e,r),Zt("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=un({},r,{value:void 0}),Zt("invalid",e);break;case"textarea":d0(e,r),a=pp(e,r),Zt("invalid",e);break;default:a=r}gp(n,a),u=a;for(i in u)if(u.hasOwnProperty(i)){var c=u[i];i==="style"?M5(e,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&D5(e,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&yu(e,c):typeof c=="number"&&yu(e,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(gu.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Zt("scroll",e):c!=null&&Tm(e,i,c,s))}switch(n){case"input":Dc(e),c0(e,r,!1);break;case"textarea":Dc(e),f0(e);break;case"option":r.value!=null&&e.setAttribute("value",""+es(r.value));break;case"select":e.multiple=!!r.multiple,i=r.value,i!=null?Bo(e,!!r.multiple,i,!1):r.defaultValue!=null&&Bo(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Id)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return er(t),null;case 6:if(e&&t.stateNode!=null)oy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(Ue(166));if(n=Cs(Cu.current),Cs(za.current),Vc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Fa]=t,(i=r.nodeValue!==n)&&(e=Vr,e!==null))switch(e.tag){case 3:Hc(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Hc(r.nodeValue,n,(e.mode&1)!==0)}i&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Fa]=t,t.stateNode=r}return er(t),null;case 13:if(tn(sn),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(nn&&$r!==null&&t.mode&1&&!(t.flags&128))kg(),Xo(),t.flags|=98560,i=!1;else if(i=Vc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!i)throw Error(Ue(318));if(i=t.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(Ue(317));i[Fa]=t}else Xo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;er(t),i=!1}else wa!==null&&(Xp(wa),wa=null),i=!0;if(!i)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||sn.current&1?Fn===0&&(Fn=3):h1())),t.updateQueue!==null&&(t.flags|=4),er(t),null);case 4:return Zo(),$p(e,t),e===null&&ju(t.stateNode.containerInfo),er(t),null;case 10:return Jm(t.type._context),er(t),null;case 17:return Pr(t.type)&&Od(),er(t),null;case 19:if(tn(sn),i=t.memoizedState,i===null)return er(t),null;if(r=(t.flags&128)!==0,s=i.rendering,s===null)if(r)Wl(i,!1);else{if(Fn!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=qd(e),s!==null){for(t.flags|=128,Wl(i,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)i=n,e=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,e=s.dependencies,i.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Xt(sn,sn.current&1|2),t.child}e=e.sibling}i.tail!==null&&bn()>tl&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304)}else{if(!r)if(e=qd(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Wl(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!nn)return er(t),null}else 2*bn()-i.renderingStartTime>tl&&n!==1073741824&&(t.flags|=128,r=!0,Wl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(n=i.last,n!==null?n.sibling=s:t.child=s,i.last=s)}return i.tail!==null?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=bn(),t.sibling=null,n=sn.current,Xt(sn,r?n&1|2:n&1),t):(er(t),null);case 22:case 23:return f1(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ur&1073741824&&(er(t),t.subtreeFlags&6&&(t.flags|=8192)):er(t),null;case 24:return null;case 25:return null}throw Error(Ue(156,t.tag))}function Aw(e,t){switch(Wm(t),t.tag){case 1:return Pr(t.type)&&Od(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Zo(),tn(_r),tn(ur),t1(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return e1(t),null;case 13:if(tn(sn),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(Ue(340));Xo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return tn(sn),null;case 4:return Zo(),null;case 10:return Jm(t.type._context),null;case 22:case 23:return f1(),null;case 24:return null;default:return null}}var Kc=!1,sr=!1,Lw=typeof WeakSet=="function"?WeakSet:Set,tt=null;function Do(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){hn(e,t,r)}else n.current=null}function Hp(e,t,n){try{n()}catch(r){hn(e,t,r)}}var t2=!1;function Cw(e,t){if(Lp=Td,e=fg(),Hm(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,u=-1,c=-1,f=0,y=0,g=e,b=null;t:for(;;){for(var m;g!==n||a!==0&&g.nodeType!==3||(u=s+a),g!==i||r!==0&&g.nodeType!==3||(c=s+r),g.nodeType===3&&(s+=g.nodeValue.length),(m=g.firstChild)!==null;)b=g,g=m;for(;;){if(g===e)break t;if(b===n&&++f===a&&(u=s),b===i&&++y===r&&(c=s),(m=g.nextSibling)!==null)break;g=b,b=g.parentNode}g=m}n=u===-1||c===-1?null:{start:u,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Cp={focusedElem:e,selectionRange:n},Td=!1,tt=t;tt!==null;)if(t=tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,tt=e;else for(;tt!==null;){t=tt;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var w=j.memoizedProps,P=j.memoizedState,x=t.stateNode,v=x.getSnapshotBeforeUpdate(t.elementType===t.type?w:va(t.type,w),P);x.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var S=t.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Ue(163))}}catch(B){hn(t,t.return,B)}if(e=t.sibling,e!==null){e.return=t.return,tt=e;break}tt=t.return}return j=t2,t2=!1,j}function cu(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var i=a.destroy;a.destroy=void 0,i!==void 0&&Hp(t,n,i)}a=a.next}while(a!==r)}}function ff(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Vp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function ly(e){var t=e.alternate;t!==null&&(e.alternate=null,ly(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Fa],delete t[Au],delete t[Tp],delete t[cw],delete t[dw])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function uy(e){return e.tag===5||e.tag===3||e.tag===4}function n2(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||uy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Id));else if(r!==4&&(e=e.child,e!==null))for(Wp(e,t,n),e=e.sibling;e!==null;)Wp(e,t,n),e=e.sibling}function Gp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Gp(e,t,n),e=e.sibling;e!==null;)Gp(e,t,n),e=e.sibling}var Kn=null,ba=!1;function Ci(e,t,n){for(n=n.child;n!==null;)cy(e,t,n),n=n.sibling}function cy(e,t,n){if(Ba&&typeof Ba.onCommitFiberUnmount=="function")try{Ba.onCommitFiberUnmount(rf,n)}catch{}switch(n.tag){case 5:sr||Do(n,t);case 6:var r=Kn,a=ba;Kn=null,Ci(e,t,n),Kn=r,ba=a,Kn!==null&&(ba?(e=Kn,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Kn.removeChild(n.stateNode));break;case 18:Kn!==null&&(ba?(e=Kn,n=n.stateNode,e.nodeType===8?Eh(e.parentNode,n):e.nodeType===1&&Eh(e,n),wu(e)):Eh(Kn,n.stateNode));break;case 4:r=Kn,a=ba,Kn=n.stateNode.containerInfo,ba=!0,Ci(e,t,n),Kn=r,ba=a;break;case 0:case 11:case 14:case 15:if(!sr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var i=a,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Hp(n,t,s),a=a.next}while(a!==r)}Ci(e,t,n);break;case 1:if(!sr&&(Do(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){hn(n,t,u)}Ci(e,t,n);break;case 21:Ci(e,t,n);break;case 22:n.mode&1?(sr=(r=sr)||n.memoizedState!==null,Ci(e,t,n),sr=r):Ci(e,t,n);break;default:Ci(e,t,n)}}function r2(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new Lw),t.forEach(function(r){var a=Fw.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function ma(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,s=t,u=s;e:for(;u!==null;){switch(u.tag){case 5:Kn=u.stateNode,ba=!1;break e;case 3:Kn=u.stateNode.containerInfo,ba=!0;break e;case 4:Kn=u.stateNode.containerInfo,ba=!0;break e}u=u.return}if(Kn===null)throw Error(Ue(160));cy(i,s,a),Kn=null,ba=!1;var c=a.alternate;c!==null&&(c.return=null),a.return=null}catch(f){hn(a,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)dy(t,e),t=t.sibling}function dy(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ma(t,e),Ra(e),r&4){try{cu(3,e,e.return),ff(3,e)}catch(w){hn(e,e.return,w)}try{cu(5,e,e.return)}catch(w){hn(e,e.return,w)}}break;case 1:ma(t,e),Ra(e),r&512&&n!==null&&Do(n,n.return);break;case 5:if(ma(t,e),Ra(e),r&512&&n!==null&&Do(n,n.return),e.flags&32){var a=e.stateNode;try{yu(a,"")}catch(w){hn(e,e.return,w)}}if(r&4&&(a=e.stateNode,a!=null)){var i=e.memoizedProps,s=n!==null?n.memoizedProps:i,u=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{u==="input"&&i.type==="radio"&&i.name!=null&&R5(a,i),yp(u,s);var f=yp(u,i);for(s=0;s<c.length;s+=2){var y=c[s],g=c[s+1];y==="style"?M5(a,g):y==="dangerouslySetInnerHTML"?D5(a,g):y==="children"?yu(a,g):Tm(a,y,g,f)}switch(u){case"input":fp(a,i);break;case"textarea":I5(a,i);break;case"select":var b=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?Bo(a,!!i.multiple,m,!1):b!==!!i.multiple&&(i.defaultValue!=null?Bo(a,!!i.multiple,i.defaultValue,!0):Bo(a,!!i.multiple,i.multiple?[]:"",!1))}a[Au]=i}catch(w){hn(e,e.return,w)}}break;case 6:if(ma(t,e),Ra(e),r&4){if(e.stateNode===null)throw Error(Ue(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(w){hn(e,e.return,w)}}break;case 3:if(ma(t,e),Ra(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{wu(t.containerInfo)}catch(w){hn(e,e.return,w)}break;case 4:ma(t,e),Ra(e);break;case 13:ma(t,e),Ra(e),a=e.child,a.flags&8192&&(i=a.memoizedState!==null,a.stateNode.isHidden=i,!i||a.alternate!==null&&a.alternate.memoizedState!==null||(c1=bn())),r&4&&r2(e);break;case 22:if(y=n!==null&&n.memoizedState!==null,e.mode&1?(sr=(f=sr)||y,ma(t,e),sr=f):ma(t,e),Ra(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!y&&e.mode&1)for(tt=e,y=e.child;y!==null;){for(g=tt=y;tt!==null;){switch(b=tt,m=b.child,b.tag){case 0:case 11:case 14:case 15:cu(4,b,b.return);break;case 1:Do(b,b.return);var j=b.stateNode;if(typeof j.componentWillUnmount=="function"){r=b,n=b.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(w){hn(r,n,w)}}break;case 5:Do(b,b.return);break;case 22:if(b.memoizedState!==null){i2(g);continue}}m!==null?(m.return=b,tt=m):i2(g)}y=y.sibling}e:for(y=null,g=e;;){if(g.tag===5){if(y===null){y=g;try{a=g.stateNode,f?(i=a.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(u=g.stateNode,c=g.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,u.style.display=F5("display",s))}catch(w){hn(e,e.return,w)}}}else if(g.tag===6){if(y===null)try{g.stateNode.nodeValue=f?"":g.memoizedProps}catch(w){hn(e,e.return,w)}}else if((g.tag!==22&&g.tag!==23||g.memoizedState===null||g===e)&&g.child!==null){g.child.return=g,g=g.child;continue}if(g===e)break e;for(;g.sibling===null;){if(g.return===null||g.return===e)break e;y===g&&(y=null),g=g.return}y===g&&(y=null),g.sibling.return=g.return,g=g.sibling}}break;case 19:ma(t,e),Ra(e),r&4&&r2(e);break;case 21:break;default:ma(t,e),Ra(e)}}function Ra(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(uy(n)){var r=n;break e}n=n.return}throw Error(Ue(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(yu(a,""),r.flags&=-33);var i=n2(e);Gp(e,i,a);break;case 3:case 4:var s=r.stateNode.containerInfo,u=n2(e);Wp(e,u,s);break;default:throw Error(Ue(161))}}catch(c){hn(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _w(e,t,n){tt=e,fy(e)}function fy(e,t,n){for(var r=(e.mode&1)!==0;tt!==null;){var a=tt,i=a.child;if(a.tag===22&&r){var s=a.memoizedState!==null||Kc;if(!s){var u=a.alternate,c=u!==null&&u.memoizedState!==null||sr;u=Kc;var f=sr;if(Kc=s,(sr=c)&&!f)for(tt=a;tt!==null;)s=tt,c=s.child,s.tag===22&&s.memoizedState!==null?s2(a):c!==null?(c.return=s,tt=c):s2(a);for(;i!==null;)tt=i,fy(i),i=i.sibling;tt=a,Kc=u,sr=f}a2(e)}else a.subtreeFlags&8772&&i!==null?(i.return=a,tt=i):a2(e)}}function a2(e){for(;tt!==null;){var t=tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:sr||ff(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!sr)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:va(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;i!==null&&q0(t,i,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}q0(t,s,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var y=f.memoizedState;if(y!==null){var g=y.dehydrated;g!==null&&wu(g)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Ue(163))}sr||t.flags&512&&Vp(t)}catch(b){hn(t,t.return,b)}}if(t===e){tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,tt=n;break}tt=t.return}}function i2(e){for(;tt!==null;){var t=tt;if(t===e){tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,tt=n;break}tt=t.return}}function s2(e){for(;tt!==null;){var t=tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{ff(4,t)}catch(c){hn(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(c){hn(t,a,c)}}var i=t.return;try{Vp(t)}catch(c){hn(t,i,c)}break;case 5:var s=t.return;try{Vp(t)}catch(c){hn(t,s,c)}}}catch(c){hn(t,t.return,c)}if(t===e){tt=null;break}var u=t.sibling;if(u!==null){u.return=t.return,tt=u;break}tt=t.return}}var Pw=Math.ceil,Vd=di.ReactCurrentDispatcher,l1=di.ReactCurrentOwner,oa=di.ReactCurrentBatchConfig,Mt=0,Hn=null,Pn=null,Yn=0,Ur=0,Fo=is(0),Fn=0,Eu=null,Fs=0,hf=0,u1=0,du=null,Lr=null,c1=0,tl=1/0,ei=null,Wd=!1,Kp=null,Ji=null,Yc=!1,zi=null,Gd=0,fu=0,Yp=null,hd=-1,pd=0;function xr(){return Mt&6?bn():hd!==-1?hd:hd=bn()}function Xi(e){return e.mode&1?Mt&2&&Yn!==0?Yn&-Yn:hw.transition!==null?(pd===0&&(pd=J5()),pd):(e=Ht,e!==0||(e=window.event,e=e===void 0?16:rg(e.type)),e):1}function Sa(e,t,n,r){if(50<fu)throw fu=0,Yp=null,Error(Ue(185));Mu(e,n,r),(!(Mt&2)||e!==Hn)&&(e===Hn&&(!(Mt&2)&&(hf|=n),Fn===4&&Mi(e,Yn)),Tr(e,r),n===1&&Mt===0&&!(t.mode&1)&&(tl=bn()+500,uf&&ss()))}function Tr(e,t){var n=e.callbackNode;hb(e,t);var r=Pd(e,e===Hn?Yn:0);if(r===0)n!==null&&m0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&m0(n),t===1)e.tag===0?fw(o2.bind(null,e)):Ng(o2.bind(null,e)),lw(function(){!(Mt&6)&&ss()}),n=null;else{switch(X5(r)){case 1:n=Dm;break;case 4:n=K5;break;case 16:n=_d;break;case 536870912:n=Y5;break;default:n=_d}n=by(n,hy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function hy(e,t){if(hd=-1,pd=0,Mt&6)throw Error(Ue(327));var n=e.callbackNode;if(Ho()&&e.callbackNode!==n)return null;var r=Pd(e,e===Hn?Yn:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kd(e,r);else{t=r;var a=Mt;Mt|=2;var i=my();(Hn!==e||Yn!==t)&&(ei=null,tl=bn()+500,Ps(e,t));do try{Rw();break}catch(u){py(e,u)}while(!0);Ym(),Vd.current=i,Mt=a,Pn!==null?t=0:(Hn=null,Yn=0,t=Fn)}if(t!==0){if(t===2&&(a=Np(e),a!==0&&(r=a,t=Jp(e,a))),t===1)throw n=Eu,Ps(e,0),Mi(e,r),Tr(e,bn()),n;if(t===6)Mi(e,r);else{if(a=e.current.alternate,!(r&30)&&!Tw(a)&&(t=Kd(e,r),t===2&&(i=Np(e),i!==0&&(r=i,t=Jp(e,i))),t===1))throw n=Eu,Ps(e,0),Mi(e,r),Tr(e,bn()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(Ue(345));case 2:Ss(e,Lr,ei);break;case 3:if(Mi(e,r),(r&130023424)===r&&(t=c1+500-bn(),10<t)){if(Pd(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){xr(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Pp(Ss.bind(null,e,Lr,ei),t);break}Ss(e,Lr,ei);break;case 4:if(Mi(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var s=31-Na(r);i=1<<s,s=t[s],s>a&&(a=s),r&=~i}if(r=a,r=bn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Pw(r/1960))-r,10<r){e.timeoutHandle=Pp(Ss.bind(null,e,Lr,ei),r);break}Ss(e,Lr,ei);break;case 5:Ss(e,Lr,ei);break;default:throw Error(Ue(329))}}}return Tr(e,bn()),e.callbackNode===n?hy.bind(null,e):null}function Jp(e,t){var n=du;return e.current.memoizedState.isDehydrated&&(Ps(e,t).flags|=256),e=Kd(e,t),e!==2&&(t=Lr,Lr=n,t!==null&&Xp(t)),e}function Xp(e){Lr===null?Lr=e:Lr.push.apply(Lr,e)}function Tw(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],i=a.getSnapshot;a=a.value;try{if(!ja(i(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Mi(e,t){for(t&=~u1,t&=~hf,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Na(t),r=1<<n;e[n]=-1,t&=~r}}function o2(e){if(Mt&6)throw Error(Ue(327));Ho();var t=Pd(e,0);if(!(t&1))return Tr(e,bn()),null;var n=Kd(e,t);if(e.tag!==0&&n===2){var r=Np(e);r!==0&&(t=r,n=Jp(e,r))}if(n===1)throw n=Eu,Ps(e,0),Mi(e,t),Tr(e,bn()),n;if(n===6)throw Error(Ue(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ss(e,Lr,ei),Tr(e,bn()),null}function d1(e,t){var n=Mt;Mt|=1;try{return e(t)}finally{Mt=n,Mt===0&&(tl=bn()+500,uf&&ss())}}function Ms(e){zi!==null&&zi.tag===0&&!(Mt&6)&&Ho();var t=Mt;Mt|=1;var n=oa.transition,r=Ht;try{if(oa.transition=null,Ht=1,e)return e()}finally{Ht=r,oa.transition=n,Mt=t,!(Mt&6)&&ss()}}function f1(){Ur=Fo.current,tn(Fo)}function Ps(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ow(n)),Pn!==null)for(n=Pn.return;n!==null;){var r=n;switch(Wm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Od();break;case 3:Zo(),tn(_r),tn(ur),t1();break;case 5:e1(r);break;case 4:Zo();break;case 13:tn(sn);break;case 19:tn(sn);break;case 10:Jm(r.type._context);break;case 22:case 23:f1()}n=n.return}if(Hn=e,Pn=e=Qi(e.current,null),Yn=Ur=t,Fn=0,Eu=null,u1=hf=Fs=0,Lr=du=null,Ls!==null){for(t=0;t<Ls.length;t++)if(n=Ls[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=a,r.next=s}n.pending=r}Ls=null}return e}function py(e,t){do{var n=Pn;try{if(Ym(),cd.current=Hd,$d){for(var r=on.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}$d=!1}if(Ds=0,qn=Dn=on=null,uu=!1,_u=0,l1.current=null,n===null||n.return===null){Fn=1,Eu=t,Pn=null;break}e:{var i=e,s=n.return,u=n,c=t;if(t=Yn,u.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var f=c,y=u,g=y.tag;if(!(y.mode&1)&&(g===0||g===11||g===15)){var b=y.alternate;b?(y.updateQueue=b.updateQueue,y.memoizedState=b.memoizedState,y.lanes=b.lanes):(y.updateQueue=null,y.memoizedState=null)}var m=K0(s);if(m!==null){m.flags&=-257,Y0(m,s,u,i,t),m.mode&1&&G0(i,f,t),t=m,c=f;var j=t.updateQueue;if(j===null){var w=new Set;w.add(c),t.updateQueue=w}else j.add(c);break e}else{if(!(t&1)){G0(i,f,t),h1();break e}c=Error(Ue(426))}}else if(nn&&u.mode&1){var P=K0(s);if(P!==null){!(P.flags&65536)&&(P.flags|=256),Y0(P,s,u,i,t),Gm(el(c,u));break e}}i=c=el(c,u),Fn!==4&&(Fn=2),du===null?du=[i]:du.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t;var x=Xg(i,c,t);U0(i,x);break e;case 1:u=c;var v=i.type,S=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(Ji===null||!Ji.has(S)))){i.flags|=65536,t&=-t,i.lanes|=t;var B=Qg(i,u,t);U0(i,B);break e}}i=i.return}while(i!==null)}yy(n)}catch(J){t=J,Pn===n&&n!==null&&(Pn=n=n.return);continue}break}while(!0)}function my(){var e=Vd.current;return Vd.current=Hd,e===null?Hd:e}function h1(){(Fn===0||Fn===3||Fn===2)&&(Fn=4),Hn===null||!(Fs&268435455)&&!(hf&268435455)||Mi(Hn,Yn)}function Kd(e,t){var n=Mt;Mt|=2;var r=my();(Hn!==e||Yn!==t)&&(ei=null,Ps(e,t));do try{Ew();break}catch(a){py(e,a)}while(!0);if(Ym(),Mt=n,Vd.current=r,Pn!==null)throw Error(Ue(261));return Hn=null,Yn=0,Fn}function Ew(){for(;Pn!==null;)gy(Pn)}function Rw(){for(;Pn!==null&&!ab();)gy(Pn)}function gy(e){var t=xy(e.alternate,e,Ur);e.memoizedProps=e.pendingProps,t===null?yy(e):Pn=t,l1.current=null}function yy(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Aw(n,t),n!==null){n.flags&=32767,Pn=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Fn=6,Pn=null;return}}else if(n=kw(n,t,Ur),n!==null){Pn=n;return}if(t=t.sibling,t!==null){Pn=t;return}Pn=t=e}while(t!==null);Fn===0&&(Fn=5)}function Ss(e,t,n){var r=Ht,a=oa.transition;try{oa.transition=null,Ht=1,Iw(e,t,n,r)}finally{oa.transition=a,Ht=r}return null}function Iw(e,t,n,r){do Ho();while(zi!==null);if(Mt&6)throw Error(Ue(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(Ue(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(pb(e,i),e===Hn&&(Pn=Hn=null,Yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Yc||(Yc=!0,by(_d,function(){return Ho(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=oa.transition,oa.transition=null;var s=Ht;Ht=1;var u=Mt;Mt|=4,l1.current=null,Cw(e,n),dy(n,e),ew(Cp),Td=!!Lp,Cp=Lp=null,e.current=n,_w(n),ib(),Mt=u,Ht=s,oa.transition=i}else e.current=n;if(Yc&&(Yc=!1,zi=e,Gd=a),i=e.pendingLanes,i===0&&(Ji=null),lb(n.stateNode),Tr(e,bn()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(Wd)throw Wd=!1,e=Kp,Kp=null,e;return Gd&1&&e.tag!==0&&Ho(),i=e.pendingLanes,i&1?e===Yp?fu++:(fu=0,Yp=e):fu=0,ss(),null}function Ho(){if(zi!==null){var e=X5(Gd),t=oa.transition,n=Ht;try{if(oa.transition=null,Ht=16>e?16:e,zi===null)var r=!1;else{if(e=zi,zi=null,Gd=0,Mt&6)throw Error(Ue(331));var a=Mt;for(Mt|=4,tt=e.current;tt!==null;){var i=tt,s=i.child;if(tt.flags&16){var u=i.deletions;if(u!==null){for(var c=0;c<u.length;c++){var f=u[c];for(tt=f;tt!==null;){var y=tt;switch(y.tag){case 0:case 11:case 15:cu(8,y,i)}var g=y.child;if(g!==null)g.return=y,tt=g;else for(;tt!==null;){y=tt;var b=y.sibling,m=y.return;if(ly(y),y===f){tt=null;break}if(b!==null){b.return=m,tt=b;break}tt=m}}}var j=i.alternate;if(j!==null){var w=j.child;if(w!==null){j.child=null;do{var P=w.sibling;w.sibling=null,w=P}while(w!==null)}}tt=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,tt=s;else e:for(;tt!==null;){if(i=tt,i.flags&2048)switch(i.tag){case 0:case 11:case 15:cu(9,i,i.return)}var x=i.sibling;if(x!==null){x.return=i.return,tt=x;break e}tt=i.return}}var v=e.current;for(tt=v;tt!==null;){s=tt;var S=s.child;if(s.subtreeFlags&2064&&S!==null)S.return=s,tt=S;else e:for(s=v;tt!==null;){if(u=tt,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:ff(9,u)}}catch(J){hn(u,u.return,J)}if(u===s){tt=null;break e}var B=u.sibling;if(B!==null){B.return=u.return,tt=B;break e}tt=u.return}}if(Mt=a,ss(),Ba&&typeof Ba.onPostCommitFiberRoot=="function")try{Ba.onPostCommitFiberRoot(rf,e)}catch{}r=!0}return r}finally{Ht=n,oa.transition=t}}return!1}function l2(e,t,n){t=el(n,t),t=Xg(e,t,1),e=Yi(e,t,1),t=xr(),e!==null&&(Mu(e,1,t),Tr(e,t))}function hn(e,t,n){if(e.tag===3)l2(e,e,n);else for(;t!==null;){if(t.tag===3){l2(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ji===null||!Ji.has(r))){e=el(n,e),e=Qg(t,e,1),t=Yi(t,e,1),e=xr(),t!==null&&(Mu(t,1,e),Tr(t,e));break}}t=t.return}}function Ow(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=xr(),e.pingedLanes|=e.suspendedLanes&n,Hn===e&&(Yn&n)===n&&(Fn===4||Fn===3&&(Yn&130023424)===Yn&&500>bn()-c1?Ps(e,0):u1|=n),Tr(e,t)}function vy(e,t){t===0&&(e.mode&1?(t=Bc,Bc<<=1,!(Bc&130023424)&&(Bc=4194304)):t=1);var n=xr();e=ui(e,t),e!==null&&(Mu(e,t,n),Tr(e,n))}function Dw(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),vy(e,n)}function Fw(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(Ue(314))}r!==null&&r.delete(t),vy(e,n)}var xy;xy=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||_r.current)Cr=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Cr=!1,jw(e,t,n);Cr=!!(e.flags&131072)}else Cr=!1,nn&&t.flags&1048576&&Sg(t,Md,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;fd(e,t),e=t.pendingProps;var a=Jo(t,ur.current);$o(t,n),a=r1(null,t,r,e,a,n);var i=a1();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pr(r)?(i=!0,Dd(t)):i=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,Qm(t),a.updater=df,t.stateNode=a,a._reactInternals=t,Fp(t,r,e,n),t=zp(null,t,r,!0,i,n)):(t.tag=0,nn&&i&&Vm(t),vr(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(fd(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=Bw(r),e=va(r,e),a){case 0:t=Bp(null,t,r,e,n);break e;case 1:t=Q0(null,t,r,e,n);break e;case 11:t=J0(null,t,r,e,n);break e;case 14:t=X0(null,t,r,va(r.type,e),n);break e}throw Error(Ue(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),Bp(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),Q0(e,t,r,a,n);case 3:e:{if(ny(t),e===null)throw Error(Ue(387));r=t.pendingProps,i=t.memoizedState,a=i.element,_g(e,t),Ud(t,r,null,n);var s=t.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=i,t.memoizedState=i,t.flags&256){a=el(Error(Ue(423)),t),t=Z0(e,t,r,n,a);break e}else if(r!==a){a=el(Error(Ue(424)),t),t=Z0(e,t,r,n,a);break e}else for($r=Ki(t.stateNode.containerInfo.firstChild),Vr=t,nn=!0,wa=null,n=Lg(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xo(),r===a){t=ci(e,t,n);break e}vr(e,t,r,n)}t=t.child}return t;case 5:return Pg(t),e===null&&Ip(t),r=t.type,a=t.pendingProps,i=e!==null?e.memoizedProps:null,s=a.children,_p(r,a)?s=null:i!==null&&_p(r,i)&&(t.flags|=32),ty(e,t),vr(e,t,s,n),t.child;case 6:return e===null&&Ip(t),null;case 13:return ry(e,t,n);case 4:return Zm(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qo(t,null,r,n):vr(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),J0(e,t,r,a,n);case 7:return vr(e,t,t.pendingProps,n),t.child;case 8:return vr(e,t,t.pendingProps.children,n),t.child;case 12:return vr(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,s=a.value,Xt(Bd,r._currentValue),r._currentValue=s,i!==null)if(ja(i.value,s)){if(i.children===a.children&&!_r.current){t=ci(e,t,n);break e}}else for(i=t.child,i!==null&&(i.return=t);i!==null;){var u=i.dependencies;if(u!==null){s=i.child;for(var c=u.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=si(-1,n&-n),c.tag=2;var f=i.updateQueue;if(f!==null){f=f.shared;var y=f.pending;y===null?c.next=c:(c.next=y.next,y.next=c),f.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),Op(i.return,n,t),u.lanes|=n;break}c=c.next}}else if(i.tag===10)s=i.type===t.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(Ue(341));s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),Op(s,n,t),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===t){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}vr(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,$o(t,n),a=la(a),r=r(a),t.flags|=1,vr(e,t,r,n),t.child;case 14:return r=t.type,a=va(r,t.pendingProps),a=va(r.type,a),X0(e,t,r,a,n);case 15:return Zg(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:va(r,a),fd(e,t),t.tag=1,Pr(r)?(e=!0,Dd(t)):e=!1,$o(t,n),Jg(t,r,a),Fp(t,r,a,n),zp(null,t,r,!0,e,n);case 19:return ay(e,t,n);case 22:return ey(e,t,n)}throw Error(Ue(156,t.tag))};function by(e,t){return G5(e,t)}function Mw(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function sa(e,t,n,r){return new Mw(e,t,n,r)}function p1(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Bw(e){if(typeof e=="function")return p1(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Rm)return 11;if(e===Im)return 14}return 2}function Qi(e,t){var n=e.alternate;return n===null?(n=sa(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function md(e,t,n,r,a,i){var s=2;if(r=e,typeof e=="function")p1(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case Lo:return Ts(n.children,a,i,t);case Em:s=8,a|=8;break;case op:return e=sa(12,n,t,a|2),e.elementType=op,e.lanes=i,e;case lp:return e=sa(13,n,t,a),e.elementType=lp,e.lanes=i,e;case up:return e=sa(19,n,t,a),e.elementType=up,e.lanes=i,e;case P5:return pf(n,a,i,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case C5:s=10;break e;case _5:s=9;break e;case Rm:s=11;break e;case Im:s=14;break e;case Oi:s=16,r=null;break e}throw Error(Ue(130,e==null?e:typeof e,""))}return t=sa(s,n,t,a),t.elementType=e,t.type=r,t.lanes=i,t}function Ts(e,t,n,r){return e=sa(7,e,r,t),e.lanes=n,e}function pf(e,t,n,r){return e=sa(22,e,r,t),e.elementType=P5,e.lanes=n,e.stateNode={isHidden:!1},e}function zh(e,t,n){return e=sa(6,e,null,t),e.lanes=n,e}function Uh(e,t,n){return t=sa(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zw(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wh(0),this.expirationTimes=wh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wh(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function m1(e,t,n,r,a,i,s,u,c){return e=new zw(e,t,n,u,c),t===1?(t=1,i===!0&&(t|=8)):t=0,i=sa(3,null,null,t),e.current=i,i.stateNode=e,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qm(i),e}function Uw(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ao,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function wy(e){if(!e)return ts;e=e._reactInternals;e:{if(Us(e)!==e||e.tag!==1)throw Error(Ue(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pr(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(Ue(171))}if(e.tag===1){var n=e.type;if(Pr(n))return wg(e,n,t)}return t}function Ny(e,t,n,r,a,i,s,u,c){return e=m1(n,r,!0,e,a,i,s,u,c),e.context=wy(null),n=e.current,r=xr(),a=Xi(n),i=si(r,a),i.callback=t??null,Yi(n,i,a),e.current.lanes=a,Mu(e,a,r),Tr(e,r),e}function mf(e,t,n,r){var a=t.current,i=xr(),s=Xi(a);return n=wy(n),t.context===null?t.context=n:t.pendingContext=n,t=si(i,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Yi(a,t,s),e!==null&&(Sa(e,a,s,i),ud(e,a,s)),s}function Yd(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function u2(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function g1(e,t){u2(e,t),(e=e.alternate)&&u2(e,t)}function qw(){return null}var Sy=typeof reportError=="function"?reportError:function(e){console.error(e)};function y1(e){this._internalRoot=e}gf.prototype.render=y1.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(Ue(409));mf(e,t,null,null)};gf.prototype.unmount=y1.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ms(function(){mf(null,e,null,null)}),t[li]=null}};function gf(e){this._internalRoot=e}gf.prototype.unstable_scheduleHydration=function(e){if(e){var t=eg();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Fi.length&&t!==0&&t<Fi[n].priority;n++);Fi.splice(n,0,e),n===0&&ng(e)}};function v1(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function yf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function c2(){}function $w(e,t,n,r,a){if(a){if(typeof r=="function"){var i=r;r=function(){var f=Yd(s);i.call(f)}}var s=Ny(t,r,e,0,null,!1,!1,"",c2);return e._reactRootContainer=s,e[li]=s.current,ju(e.nodeType===8?e.parentNode:e),Ms(),s}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var u=r;r=function(){var f=Yd(c);u.call(f)}}var c=m1(e,0,!1,null,null,!1,!1,"",c2);return e._reactRootContainer=c,e[li]=c.current,ju(e.nodeType===8?e.parentNode:e),Ms(function(){mf(t,c,n,r)}),c}function vf(e,t,n,r,a){var i=n._reactRootContainer;if(i){var s=i;if(typeof a=="function"){var u=a;a=function(){var c=Yd(s);u.call(c)}}mf(t,s,e,a)}else s=$w(n,t,e,a,r);return Yd(s)}Q5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=nu(t.pendingLanes);n!==0&&(Fm(t,n|1),Tr(t,bn()),!(Mt&6)&&(tl=bn()+500,ss()))}break;case 13:Ms(function(){var r=ui(e,1);if(r!==null){var a=xr();Sa(r,e,1,a)}}),g1(e,1)}};Mm=function(e){if(e.tag===13){var t=ui(e,134217728);if(t!==null){var n=xr();Sa(t,e,134217728,n)}g1(e,134217728)}};Z5=function(e){if(e.tag===13){var t=Xi(e),n=ui(e,t);if(n!==null){var r=xr();Sa(n,e,t,r)}g1(e,t)}};eg=function(){return Ht};tg=function(e,t){var n=Ht;try{return Ht=e,t()}finally{Ht=n}};xp=function(e,t,n){switch(t){case"input":if(fp(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=lf(r);if(!a)throw Error(Ue(90));E5(r),fp(r,a)}}}break;case"textarea":I5(e,n);break;case"select":t=n.value,t!=null&&Bo(e,!!n.multiple,t,!1)}};U5=d1;q5=Ms;var Hw={usingClientEntryPoint:!1,Events:[zu,To,lf,B5,z5,d1]},Gl={findFiberByHostInstance:As,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Vw={bundleType:Gl.bundleType,version:Gl.version,rendererPackageName:Gl.rendererPackageName,rendererConfig:Gl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:di.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=V5(e),e===null?null:e.stateNode},findFiberByHostInstance:Gl.findFiberByHostInstance||qw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jc.isDisabled&&Jc.supportsFiber)try{rf=Jc.inject(Vw),Ba=Jc}catch{}}Gr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Hw;Gr.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v1(t))throw Error(Ue(200));return Uw(e,t,null,n)};Gr.createRoot=function(e,t){if(!v1(e))throw Error(Ue(299));var n=!1,r="",a=Sy;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=m1(e,1,!1,null,null,n,!1,r,a),e[li]=t.current,ju(e.nodeType===8?e.parentNode:e),new y1(t)};Gr.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(Ue(188)):(e=Object.keys(e).join(","),Error(Ue(268,e)));return e=V5(t),e=e===null?null:e.stateNode,e};Gr.flushSync=function(e){return Ms(e)};Gr.hydrate=function(e,t,n){if(!yf(t))throw Error(Ue(200));return vf(null,e,t,!0,n)};Gr.hydrateRoot=function(e,t,n){if(!v1(e))throw Error(Ue(405));var r=n!=null&&n.hydratedSources||null,a=!1,i="",s=Sy;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=Ny(t,null,e,1,n??null,a,!1,i,s),e[li]=t.current,ju(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new gf(t)};Gr.render=function(e,t,n){if(!yf(t))throw Error(Ue(200));return vf(null,e,t,!1,n)};Gr.unmountComponentAtNode=function(e){if(!yf(e))throw Error(Ue(40));return e._reactRootContainer?(Ms(function(){vf(null,null,e,!1,function(){e._reactRootContainer=null,e[li]=null})}),!0):!1};Gr.unstable_batchedUpdates=d1;Gr.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!yf(n))throw Error(Ue(200));if(e==null||e._reactInternals===void 0)throw Error(Ue(38));return vf(e,t,n,!1,r)};Gr.version="18.3.1-next-f1338f8080-20240426";function jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(jy)}catch(e){console.error(e)}}jy(),j5.exports=Gr;var Ww=j5.exports,d2=Ww;ip.createRoot=d2.createRoot,ip.hydrateRoot=d2.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ru(){return Ru=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ru.apply(this,arguments)}var Ui;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Ui||(Ui={}));const f2="popstate";function Gw(e){e===void 0&&(e={});function t(r,a){let{pathname:i,search:s,hash:u}=r.location;return Qp("",{pathname:i,search:s,hash:u},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(r,a){return typeof a=="string"?a:Jd(a)}return Yw(t,n,null,e)}function ln(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function ky(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function Kw(){return Math.random().toString(36).substr(2,8)}function h2(e,t){return{usr:e.state,key:e.key,idx:t}}function Qp(e,t,n,r){return n===void 0&&(n=null),Ru({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?sl(t):t,{state:n,key:t&&t.key||r||Kw()})}function Jd(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function sl(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Yw(e,t,n,r){r===void 0&&(r={});let{window:a=document.defaultView,v5Compat:i=!1}=r,s=a.history,u=Ui.Pop,c=null,f=y();f==null&&(f=0,s.replaceState(Ru({},s.state,{idx:f}),""));function y(){return(s.state||{idx:null}).idx}function g(){u=Ui.Pop;let P=y(),x=P==null?null:P-f;f=P,c&&c({action:u,location:w.location,delta:x})}function b(P,x){u=Ui.Push;let v=Qp(w.location,P,x);f=y()+1;let S=h2(v,f),B=w.createHref(v);try{s.pushState(S,"",B)}catch(J){if(J instanceof DOMException&&J.name==="DataCloneError")throw J;a.location.assign(B)}i&&c&&c({action:u,location:w.location,delta:1})}function m(P,x){u=Ui.Replace;let v=Qp(w.location,P,x);f=y();let S=h2(v,f),B=w.createHref(v);s.replaceState(S,"",B),i&&c&&c({action:u,location:w.location,delta:0})}function j(P){let x=a.location.origin!=="null"?a.location.origin:a.location.href,v=typeof P=="string"?P:Jd(P);return v=v.replace(/ $/,"%20"),ln(x,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,x)}let w={get action(){return u},get location(){return e(a,s)},listen(P){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(f2,g),c=P,()=>{a.removeEventListener(f2,g),c=null}},createHref(P){return t(a,P)},createURL:j,encodeLocation(P){let x=j(P);return{pathname:x.pathname,search:x.search,hash:x.hash}},push:b,replace:m,go(P){return s.go(P)}};return w}var p2;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(p2||(p2={}));function Jw(e,t,n){return n===void 0&&(n="/"),Xw(e,t,n)}function Xw(e,t,n,r){let a=typeof t=="string"?sl(t):t,i=nl(a.pathname||"/",n);if(i==null)return null;let s=Ay(e);Qw(s);let u=null;for(let c=0;u==null&&c<s.length;++c){let f=u3(i);u=o3(s[c],f)}return u}function Ay(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let a=(i,s,u)=>{let c={relativePath:u===void 0?i.path||"":u,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};c.relativePath.startsWith("/")&&(ln(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let f=Zi([r,c.relativePath]),y=n.concat(c);i.children&&i.children.length>0&&(ln(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),Ay(i.children,t,y,f)),!(i.path==null&&!i.index)&&t.push({path:f,score:i3(f,i.index),routesMeta:y})};return e.forEach((i,s)=>{var u;if(i.path===""||!((u=i.path)!=null&&u.includes("?")))a(i,s);else for(let c of Ly(i.path))a(i,s,c)}),t}function Ly(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,a=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return a?[i,""]:[i];let s=Ly(r.join("/")),u=[];return u.push(...s.map(c=>c===""?i:[i,c].join("/"))),a&&u.push(...s),u.map(c=>e.startsWith("/")&&c===""?"/":c)}function Qw(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:s3(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Zw=/^:[\w-]+$/,e3=3,t3=2,n3=1,r3=10,a3=-2,m2=e=>e==="*";function i3(e,t){let n=e.split("/"),r=n.length;return n.some(m2)&&(r+=a3),t&&(r+=t3),n.filter(a=>!m2(a)).reduce((a,i)=>a+(Zw.test(i)?e3:i===""?n3:r3),r)}function s3(e,t){return e.length===t.length&&e.slice(0,-1).every((r,a)=>r===t[a])?e[e.length-1]-t[t.length-1]:0}function o3(e,t,n){let{routesMeta:r}=e,a={},i="/",s=[];for(let u=0;u<r.length;++u){let c=r[u],f=u===r.length-1,y=i==="/"?t:t.slice(i.length)||"/",g=Zp({path:c.relativePath,caseSensitive:c.caseSensitive,end:f},y),b=c.route;if(!g)return null;Object.assign(a,g.params),s.push({params:a,pathname:Zi([i,g.pathname]),pathnameBase:h3(Zi([i,g.pathnameBase])),route:b}),g.pathnameBase!=="/"&&(i=Zi([i,g.pathnameBase]))}return s}function Zp(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=l3(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let i=a[0],s=i.replace(/(.)\/+$/,"$1"),u=a.slice(1);return{params:r.reduce((f,y,g)=>{let{paramName:b,isOptional:m}=y;if(b==="*"){let w=u[g]||"";s=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const j=u[g];return m&&!j?f[b]=void 0:f[b]=(j||"").replace(/%2F/g,"/"),f},{}),pathname:i,pathnameBase:s,pattern:e}}function l3(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),ky(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,u,c)=>(r.push({paramName:u,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),a+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":e!==""&&e!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,t?void 0:"i"),r]}function u3(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return ky(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function nl(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function c3(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:a=""}=typeof e=="string"?sl(e):e;return{pathname:n?n.startsWith("/")?n:d3(n,t):t,search:p3(r),hash:m3(a)}}function d3(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function qh(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function f3(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function x1(e,t){let n=f3(e);return t?n.map((r,a)=>a===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function b1(e,t,n,r){r===void 0&&(r=!1);let a;typeof e=="string"?a=sl(e):(a=Ru({},e),ln(!a.pathname||!a.pathname.includes("?"),qh("?","pathname","search",a)),ln(!a.pathname||!a.pathname.includes("#"),qh("#","pathname","hash",a)),ln(!a.search||!a.search.includes("#"),qh("#","search","hash",a)));let i=e===""||a.pathname==="",s=i?"/":a.pathname,u;if(s==null)u=n;else{let g=t.length-1;if(!r&&s.startsWith("..")){let b=s.split("/");for(;b[0]==="..";)b.shift(),g-=1;a.pathname=b.join("/")}u=g>=0?t[g]:"/"}let c=c3(a,u),f=s&&s!=="/"&&s.endsWith("/"),y=(i||s===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(f||y)&&(c.pathname+="/"),c}const Zi=e=>e.join("/").replace(/\/\/+/g,"/"),h3=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),p3=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,m3=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function g3(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Cy=["post","put","patch","delete"];new Set(Cy);const y3=["get",...Cy];new Set(y3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Iu(){return Iu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Iu.apply(this,arguments)}const xf=ee.createContext(null),_y=ee.createContext(null),fi=ee.createContext(null),bf=ee.createContext(null),hi=ee.createContext({outlet:null,matches:[],isDataRoute:!1}),Py=ee.createContext(null);function v3(e,t){let{relative:n}=t===void 0?{}:t;ol()||ln(!1);let{basename:r,navigator:a}=ee.useContext(fi),{hash:i,pathname:s,search:u}=Nf(e,{relative:n}),c=s;return r!=="/"&&(c=s==="/"?r:Zi([r,s])),a.createHref({pathname:c,search:u,hash:i})}function ol(){return ee.useContext(bf)!=null}function os(){return ol()||ln(!1),ee.useContext(bf).location}function Ty(e){ee.useContext(fi).static||ee.useLayoutEffect(e)}function wf(){let{isDataRoute:e}=ee.useContext(hi);return e?T3():x3()}function x3(){ol()||ln(!1);let e=ee.useContext(xf),{basename:t,future:n,navigator:r}=ee.useContext(fi),{matches:a}=ee.useContext(hi),{pathname:i}=os(),s=JSON.stringify(x1(a,n.v7_relativeSplatPath)),u=ee.useRef(!1);return Ty(()=>{u.current=!0}),ee.useCallback(function(f,y){if(y===void 0&&(y={}),!u.current)return;if(typeof f=="number"){r.go(f);return}let g=b1(f,JSON.parse(s),i,y.relative==="path");e==null&&t!=="/"&&(g.pathname=g.pathname==="/"?t:Zi([t,g.pathname])),(y.replace?r.replace:r.push)(g,y.state,y)},[t,r,s,i,e])}function w1(){let{matches:e}=ee.useContext(hi),t=e[e.length-1];return t?t.params:{}}function Nf(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=ee.useContext(fi),{matches:a}=ee.useContext(hi),{pathname:i}=os(),s=JSON.stringify(x1(a,r.v7_relativeSplatPath));return ee.useMemo(()=>b1(e,JSON.parse(s),i,n==="path"),[e,s,i,n])}function b3(e,t){return w3(e,t)}function w3(e,t,n,r){ol()||ln(!1);let{navigator:a}=ee.useContext(fi),{matches:i}=ee.useContext(hi),s=i[i.length-1],u=s?s.params:{};s&&s.pathname;let c=s?s.pathnameBase:"/";s&&s.route;let f=os(),y;if(t){var g;let P=typeof t=="string"?sl(t):t;c==="/"||(g=P.pathname)!=null&&g.startsWith(c)||ln(!1),y=P}else y=f;let b=y.pathname||"/",m=b;if(c!=="/"){let P=c.replace(/^\//,"").split("/");m="/"+b.replace(/^\//,"").split("/").slice(P.length).join("/")}let j=Jw(e,{pathname:m}),w=A3(j&&j.map(P=>Object.assign({},P,{params:Object.assign({},u,P.params),pathname:Zi([c,a.encodeLocation?a.encodeLocation(P.pathname).pathname:P.pathname]),pathnameBase:P.pathnameBase==="/"?c:Zi([c,a.encodeLocation?a.encodeLocation(P.pathnameBase).pathname:P.pathnameBase])})),i,n,r);return t&&w?ee.createElement(bf.Provider,{value:{location:Iu({pathname:"/",search:"",hash:"",state:null,key:"default"},y),navigationType:Ui.Pop}},w):w}function N3(){let e=P3(),t=g3(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ee.createElement(ee.Fragment,null,ee.createElement("h2",null,"Unexpected Application Error!"),ee.createElement("h3",{style:{fontStyle:"italic"}},t),n?ee.createElement("pre",{style:a},n):null,null)}const S3=ee.createElement(N3,null);class j3 extends ee.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?ee.createElement(hi.Provider,{value:this.props.routeContext},ee.createElement(Py.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function k3(e){let{routeContext:t,match:n,children:r}=e,a=ee.useContext(xf);return a&&a.static&&a.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=n.route.id),ee.createElement(hi.Provider,{value:t},r)}function A3(e,t,n,r){var a;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var i;if(!n)return null;if(n.errors)e=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let s=e,u=(a=n)==null?void 0:a.errors;if(u!=null){let y=s.findIndex(g=>g.route.id&&(u==null?void 0:u[g.route.id])!==void 0);y>=0||ln(!1),s=s.slice(0,Math.min(s.length,y+1))}let c=!1,f=-1;if(n&&r&&r.v7_partialHydration)for(let y=0;y<s.length;y++){let g=s[y];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(f=y),g.route.id){let{loaderData:b,errors:m}=n,j=g.route.loader&&b[g.route.id]===void 0&&(!m||m[g.route.id]===void 0);if(g.route.lazy||j){c=!0,f>=0?s=s.slice(0,f+1):s=[s[0]];break}}}return s.reduceRight((y,g,b)=>{let m,j=!1,w=null,P=null;n&&(m=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||S3,c&&(f<0&&b===0?(E3("route-fallback"),j=!0,P=null):f===b&&(j=!0,P=g.route.hydrateFallbackElement||null)));let x=t.concat(s.slice(0,b+1)),v=()=>{let S;return m?S=w:j?S=P:g.route.Component?S=ee.createElement(g.route.Component,null):g.route.element?S=g.route.element:S=y,ee.createElement(k3,{match:g,routeContext:{outlet:y,matches:x,isDataRoute:n!=null},children:S})};return n&&(g.route.ErrorBoundary||g.route.errorElement||b===0)?ee.createElement(j3,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:x,isDataRoute:!0}}):v()},null)}var Ey=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ey||{}),Ry=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Ry||{});function L3(e){let t=ee.useContext(xf);return t||ln(!1),t}function C3(e){let t=ee.useContext(_y);return t||ln(!1),t}function _3(e){let t=ee.useContext(hi);return t||ln(!1),t}function Iy(e){let t=_3(),n=t.matches[t.matches.length-1];return n.route.id||ln(!1),n.route.id}function P3(){var e;let t=ee.useContext(Py),n=C3(),r=Iy();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function T3(){let{router:e}=L3(Ey.UseNavigateStable),t=Iy(Ry.UseNavigateStable),n=ee.useRef(!1);return Ty(()=>{n.current=!0}),ee.useCallback(function(a,i){i===void 0&&(i={}),n.current&&(typeof a=="number"?e.navigate(a):e.navigate(a,Iu({fromRouteId:t},i)))},[e,t])}const g2={};function E3(e,t,n){g2[e]||(g2[e]=!0)}function R3(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function N1(e){let{to:t,replace:n,state:r,relative:a}=e;ol()||ln(!1);let{future:i,static:s}=ee.useContext(fi),{matches:u}=ee.useContext(hi),{pathname:c}=os(),f=wf(),y=b1(t,x1(u,i.v7_relativeSplatPath),c,a==="path"),g=JSON.stringify(y);return ee.useEffect(()=>f(JSON.parse(g),{replace:n,state:r,relative:a}),[f,g,a,n,r]),null}function ra(e){ln(!1)}function I3(e){let{basename:t="/",children:n=null,location:r,navigationType:a=Ui.Pop,navigator:i,static:s=!1,future:u}=e;ol()&&ln(!1);let c=t.replace(/^\/*/,"/"),f=ee.useMemo(()=>({basename:c,navigator:i,static:s,future:Iu({v7_relativeSplatPath:!1},u)}),[c,u,i,s]);typeof r=="string"&&(r=sl(r));let{pathname:y="/",search:g="",hash:b="",state:m=null,key:j="default"}=r,w=ee.useMemo(()=>{let P=nl(y,c);return P==null?null:{location:{pathname:P,search:g,hash:b,state:m,key:j},navigationType:a}},[c,y,g,b,m,j,a]);return w==null?null:ee.createElement(fi.Provider,{value:f},ee.createElement(bf.Provider,{children:n,value:w}))}function O3(e){let{children:t,location:n}=e;return b3(em(t),n)}new Promise(()=>{});function em(e,t){t===void 0&&(t=[]);let n=[];return ee.Children.forEach(e,(r,a)=>{if(!ee.isValidElement(r))return;let i=[...t,a];if(r.type===ee.Fragment){n.push.apply(n,em(r.props.children,i));return}r.type!==ra&&ln(!1),!r.props.index||!r.props.children||ln(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=em(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Xd(){return Xd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Xd.apply(this,arguments)}function Oy(e,t){if(e==null)return{};var n={},r=Object.keys(e),a,i;for(i=0;i<r.length;i++)a=r[i],!(t.indexOf(a)>=0)&&(n[a]=e[a]);return n}function D3(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function F3(e,t){return e.button===0&&(!t||t==="_self")&&!D3(e)}const M3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],B3=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],z3="6";try{window.__reactRouterVersion=z3}catch{}const U3=ee.createContext({isTransitioning:!1}),q3="startTransition",y2=Ox[q3];function $3(e){let{basename:t,children:n,future:r,window:a}=e,i=ee.useRef();i.current==null&&(i.current=Gw({window:a,v5Compat:!0}));let s=i.current,[u,c]=ee.useState({action:s.action,location:s.location}),{v7_startTransition:f}=r||{},y=ee.useCallback(g=>{f&&y2?y2(()=>c(g)):c(g)},[c,f]);return ee.useLayoutEffect(()=>s.listen(y),[s,y]),ee.useEffect(()=>R3(r),[r]),ee.createElement(I3,{basename:t,children:n,location:u.location,navigationType:u.action,navigator:s,future:r})}const H3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",V3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,W3=ee.forwardRef(function(t,n){let{onClick:r,relative:a,reloadDocument:i,replace:s,state:u,target:c,to:f,preventScrollReset:y,viewTransition:g}=t,b=Oy(t,M3),{basename:m}=ee.useContext(fi),j,w=!1;if(typeof f=="string"&&V3.test(f)&&(j=f,H3))try{let S=new URL(window.location.href),B=f.startsWith("//")?new URL(S.protocol+f):new URL(f),J=nl(B.pathname,m);B.origin===S.origin&&J!=null?f=J+B.search+B.hash:w=!0}catch{}let P=v3(f,{relative:a}),x=Y3(f,{replace:s,state:u,target:c,preventScrollReset:y,relative:a,viewTransition:g});function v(S){r&&r(S),S.defaultPrevented||x(S)}return ee.createElement("a",Xd({},b,{href:j||P,onClick:w||i?r:v,ref:n,target:c}))}),G3=ee.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:a=!1,className:i="",end:s=!1,style:u,to:c,viewTransition:f,children:y}=t,g=Oy(t,B3),b=Nf(c,{relative:g.relative}),m=os(),j=ee.useContext(_y),{navigator:w,basename:P}=ee.useContext(fi),x=j!=null&&J3(b)&&f===!0,v=w.encodeLocation?w.encodeLocation(b).pathname:b.pathname,S=m.pathname,B=j&&j.navigation&&j.navigation.location?j.navigation.location.pathname:null;a||(S=S.toLowerCase(),B=B?B.toLowerCase():null,v=v.toLowerCase()),B&&P&&(B=nl(B,P)||B);const J=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let ne=S===v||!s&&S.startsWith(v)&&S.charAt(J)==="/",U=B!=null&&(B===v||!s&&B.startsWith(v)&&B.charAt(v.length)==="/"),T={isActive:ne,isPending:U,isTransitioning:x},V=ne?r:void 0,se;typeof i=="function"?se=i(T):se=[i,ne?"active":null,U?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let E=typeof u=="function"?u(T):u;return ee.createElement(W3,Xd({},g,{"aria-current":V,className:se,ref:n,style:E,to:c,viewTransition:f}),typeof y=="function"?y(T):y)});var tm;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(tm||(tm={}));var v2;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(v2||(v2={}));function K3(e){let t=ee.useContext(xf);return t||ln(!1),t}function Y3(e,t){let{target:n,replace:r,state:a,preventScrollReset:i,relative:s,viewTransition:u}=t===void 0?{}:t,c=wf(),f=os(),y=Nf(e,{relative:s});return ee.useCallback(g=>{if(F3(g,n)){g.preventDefault();let b=r!==void 0?r:Jd(f)===Jd(y);c(e,{replace:b,state:a,preventScrollReset:i,relative:s,viewTransition:u})}},[f,c,y,r,a,n,e,i,s,u])}function J3(e,t){t===void 0&&(t={});let n=ee.useContext(U3);n==null&&ln(!1);let{basename:r}=K3(tm.useViewTransitionState),a=Nf(e,{relative:t.relative});if(!n.isTransitioning)return!1;let i=nl(n.currentLocation.pathname,r)||n.currentLocation.pathname,s=nl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return Zp(a.pathname,s)!=null||Zp(a.pathname,i)!=null}function X3(...e){return e.filter(Boolean).join(" ")}const x2={MASTER_ADMIN:[{to:"/",label:"Dashboard",exact:!0},{to:"/master/hotels",label:"Oteller"}],DEFAULT_HOTEL:[{to:"/",label:"Dashboard",exact:!0},{to:"/hotel/reservations",label:"Rezervasyonlar"},{to:"/hotel/finance",label:"Gelir-Gider"},{to:"/hotel/channels",label:"Kanallar"},{to:"/hotel/rooms",label:"Odalar"}]};function Q3(e){return e==="MASTER_ADMIN"?"Master Admin":e==="HOTEL_ADMIN"?"Otel Admin":e==="HOTEL_STAFF"?"Personel":e||"Kullanıcı"}function Z3({children:e,role:t}){const n=wf(),r=localStorage.getItem("email")||"",a=()=>{localStorage.clear(),n("/login",{replace:!0})},i=t==="MASTER_ADMIN"?x2.MASTER_ADMIN:x2.DEFAULT_HOTEL;return o.jsxs("div",{className:"app-shell",children:[o.jsxs("aside",{className:"sidebar",children:[o.jsxs("div",{className:"brand",title:"HMS & Channels",children:[o.jsx("span",{className:"dot"})," HMS & Channels"]}),o.jsx("div",{className:"userbox",children:o.jsxs("div",{className:"user-meta",children:[o.jsx("div",{className:"user-email",title:r,children:r||"—"}),o.jsx("div",{className:"user-role",children:Q3(t)})]})}),o.jsxs("nav",{className:"nav",children:[i.map(s=>o.jsx(G3,{to:s.to,end:!!s.exact,className:({isActive:u})=>X3("nav-link",u&&"active"),children:s.label},s.to)),o.jsx("button",{type:"button",onClick:a,className:"nav-link logout","aria-label":"Çıkış yap",children:"Çıkış"})]})]}),o.jsxs("div",{className:"main",children:[o.jsxs("header",{className:"header",children:[o.jsx("div",{className:"muted",children:"Hoş geldiniz"}),o.jsx("div",{className:"header-right",children:r})]}),o.jsx("main",{className:"content",children:e})]})]})}function Dy(e,t){return function(){return e.apply(t,arguments)}}const{toString:e4}=Object.prototype,{getPrototypeOf:S1}=Object,{iterator:Sf,toStringTag:Fy}=Symbol,jf=(e=>t=>{const n=e4.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),ka=e=>(e=e.toLowerCase(),t=>jf(t)===e),kf=e=>t=>typeof t===e,{isArray:ll}=Array,Ou=kf("undefined");function qu(e){return e!==null&&!Ou(e)&&e.constructor!==null&&!Ou(e.constructor)&&Er(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const My=ka("ArrayBuffer");function t4(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&My(e.buffer),t}const n4=kf("string"),Er=kf("function"),By=kf("number"),$u=e=>e!==null&&typeof e=="object",r4=e=>e===!0||e===!1,gd=e=>{if(jf(e)!=="object")return!1;const t=S1(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Fy in e)&&!(Sf in e)},a4=e=>{if(!$u(e)||qu(e))return!1;try{return Object.keys(e).length===0&&Object.getPrototypeOf(e)===Object.prototype}catch{return!1}},i4=ka("Date"),s4=ka("File"),o4=ka("Blob"),l4=ka("FileList"),u4=e=>$u(e)&&Er(e.pipe),c4=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||Er(e.append)&&((t=jf(e))==="formdata"||t==="object"&&Er(e.toString)&&e.toString()==="[object FormData]"))},d4=ka("URLSearchParams"),[f4,h4,p4,m4]=["ReadableStream","Request","Response","Headers"].map(ka),g4=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Hu(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,a;if(typeof e!="object"&&(e=[e]),ll(e))for(r=0,a=e.length;r<a;r++)t.call(null,e[r],r,e);else{if(qu(e))return;const i=n?Object.getOwnPropertyNames(e):Object.keys(e),s=i.length;let u;for(r=0;r<s;r++)u=i[r],t.call(null,e[u],u,e)}}function zy(e,t){if(qu(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r=n.length,a;for(;r-- >0;)if(a=n[r],t===a.toLowerCase())return a;return null}const _s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Uy=e=>!Ou(e)&&e!==_s;function nm(){const{caseless:e}=Uy(this)&&this||{},t={},n=(r,a)=>{const i=e&&zy(t,a)||a;gd(t[i])&&gd(r)?t[i]=nm(t[i],r):gd(r)?t[i]=nm({},r):ll(r)?t[i]=r.slice():t[i]=r};for(let r=0,a=arguments.length;r<a;r++)arguments[r]&&Hu(arguments[r],n);return t}const y4=(e,t,n,{allOwnKeys:r}={})=>(Hu(t,(a,i)=>{n&&Er(a)?e[i]=Dy(a,n):e[i]=a},{allOwnKeys:r}),e),v4=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),x4=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},b4=(e,t,n,r)=>{let a,i,s;const u={};if(t=t||{},e==null)return t;do{for(a=Object.getOwnPropertyNames(e),i=a.length;i-- >0;)s=a[i],(!r||r(s,e,t))&&!u[s]&&(t[s]=e[s],u[s]=!0);e=n!==!1&&S1(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},w4=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},N4=e=>{if(!e)return null;if(ll(e))return e;let t=e.length;if(!By(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},S4=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&S1(Uint8Array)),j4=(e,t)=>{const r=(e&&e[Sf]).call(e);let a;for(;(a=r.next())&&!a.done;){const i=a.value;t.call(e,i[0],i[1])}},k4=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},A4=ka("HTMLFormElement"),L4=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,a){return r.toUpperCase()+a}),b2=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),C4=ka("RegExp"),qy=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Hu(n,(a,i)=>{let s;(s=t(a,i,e))!==!1&&(r[i]=s||a)}),Object.defineProperties(e,r)},_4=e=>{qy(e,(t,n)=>{if(Er(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(Er(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},P4=(e,t)=>{const n={},r=a=>{a.forEach(i=>{n[i]=!0})};return ll(e)?r(e):r(String(e).split(t)),n},T4=()=>{},E4=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t;function R4(e){return!!(e&&Er(e.append)&&e[Fy]==="FormData"&&e[Sf])}const I4=e=>{const t=new Array(10),n=(r,a)=>{if($u(r)){if(t.indexOf(r)>=0)return;if(qu(r))return r;if(!("toJSON"in r)){t[a]=r;const i=ll(r)?[]:{};return Hu(r,(s,u)=>{const c=n(s,a+1);!Ou(c)&&(i[u]=c)}),t[a]=void 0,i}}return r};return n(e,0)},O4=ka("AsyncFunction"),D4=e=>e&&($u(e)||Er(e))&&Er(e.then)&&Er(e.catch),$y=((e,t)=>e?setImmediate:t?((n,r)=>(_s.addEventListener("message",({source:a,data:i})=>{a===_s&&i===n&&r.length&&r.shift()()},!1),a=>{r.push(a),_s.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",Er(_s.postMessage)),F4=typeof queueMicrotask<"u"?queueMicrotask.bind(_s):typeof process<"u"&&process.nextTick||$y,M4=e=>e!=null&&Er(e[Sf]),Ne={isArray:ll,isArrayBuffer:My,isBuffer:qu,isFormData:c4,isArrayBufferView:t4,isString:n4,isNumber:By,isBoolean:r4,isObject:$u,isPlainObject:gd,isEmptyObject:a4,isReadableStream:f4,isRequest:h4,isResponse:p4,isHeaders:m4,isUndefined:Ou,isDate:i4,isFile:s4,isBlob:o4,isRegExp:C4,isFunction:Er,isStream:u4,isURLSearchParams:d4,isTypedArray:S4,isFileList:l4,forEach:Hu,merge:nm,extend:y4,trim:g4,stripBOM:v4,inherits:x4,toFlatObject:b4,kindOf:jf,kindOfTest:ka,endsWith:w4,toArray:N4,forEachEntry:j4,matchAll:k4,isHTMLForm:A4,hasOwnProperty:b2,hasOwnProp:b2,reduceDescriptors:qy,freezeMethods:_4,toObjectSet:P4,toCamelCase:L4,noop:T4,toFiniteNumber:E4,findKey:zy,global:_s,isContextDefined:Uy,isSpecCompliantForm:R4,toJSONObject:I4,isAsyncFn:O4,isThenable:D4,setImmediate:$y,asap:F4,isIterable:M4};function jt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}Ne.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ne.toJSONObject(this.config),code:this.code,status:this.status}}});const Hy=jt.prototype,Vy={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{Vy[e]={value:e}});Object.defineProperties(jt,Vy);Object.defineProperty(Hy,"isAxiosError",{value:!0});jt.from=(e,t,n,r,a,i)=>{const s=Object.create(Hy);return Ne.toFlatObject(e,s,function(c){return c!==Error.prototype},u=>u!=="isAxiosError"),jt.call(s,e.message,t,n,r,a),s.cause=e,s.name=e.name,i&&Object.assign(s,i),s};const B4=null;function rm(e){return Ne.isPlainObject(e)||Ne.isArray(e)}function Wy(e){return Ne.endsWith(e,"[]")?e.slice(0,-2):e}function w2(e,t,n){return e?e.concat(t).map(function(a,i){return a=Wy(a),!n&&i?"["+a+"]":a}).join(n?".":""):t}function z4(e){return Ne.isArray(e)&&!e.some(rm)}const U4=Ne.toFlatObject(Ne,{},null,function(t){return/^is[A-Z]/.test(t)});function Af(e,t,n){if(!Ne.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Ne.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,P){return!Ne.isUndefined(P[w])});const r=n.metaTokens,a=n.visitor||y,i=n.dots,s=n.indexes,c=(n.Blob||typeof Blob<"u"&&Blob)&&Ne.isSpecCompliantForm(t);if(!Ne.isFunction(a))throw new TypeError("visitor must be a function");function f(j){if(j===null)return"";if(Ne.isDate(j))return j.toISOString();if(Ne.isBoolean(j))return j.toString();if(!c&&Ne.isBlob(j))throw new jt("Blob is not supported. Use a Buffer instead.");return Ne.isArrayBuffer(j)||Ne.isTypedArray(j)?c&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function y(j,w,P){let x=j;if(j&&!P&&typeof j=="object"){if(Ne.endsWith(w,"{}"))w=r?w:w.slice(0,-2),j=JSON.stringify(j);else if(Ne.isArray(j)&&z4(j)||(Ne.isFileList(j)||Ne.endsWith(w,"[]"))&&(x=Ne.toArray(j)))return w=Wy(w),x.forEach(function(S,B){!(Ne.isUndefined(S)||S===null)&&t.append(s===!0?w2([w],B,i):s===null?w:w+"[]",f(S))}),!1}return rm(j)?!0:(t.append(w2(P,w,i),f(j)),!1)}const g=[],b=Object.assign(U4,{defaultVisitor:y,convertValue:f,isVisitable:rm});function m(j,w){if(!Ne.isUndefined(j)){if(g.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));g.push(j),Ne.forEach(j,function(x,v){(!(Ne.isUndefined(x)||x===null)&&a.call(t,x,Ne.isString(v)?v.trim():v,w,b))===!0&&m(x,w?w.concat(v):[v])}),g.pop()}}if(!Ne.isObject(e))throw new TypeError("data must be an object");return m(e),t}function N2(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function j1(e,t){this._pairs=[],e&&Af(e,this,t)}const Gy=j1.prototype;Gy.append=function(t,n){this._pairs.push([t,n])};Gy.toString=function(t){const n=t?function(r){return t.call(this,r,N2)}:N2;return this._pairs.map(function(a){return n(a[0])+"="+n(a[1])},"").join("&")};function q4(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Ky(e,t,n){if(!t)return e;const r=n&&n.encode||q4;Ne.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let i;if(a?i=a(t,n):i=Ne.isURLSearchParams(t)?t.toString():new j1(t,n).toString(r),i){const s=e.indexOf("#");s!==-1&&(e=e.slice(0,s)),e+=(e.indexOf("?")===-1?"?":"&")+i}return e}class S2{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Ne.forEach(this.handlers,function(r){r!==null&&t(r)})}}const Yy={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},$4=typeof URLSearchParams<"u"?URLSearchParams:j1,H4=typeof FormData<"u"?FormData:null,V4=typeof Blob<"u"?Blob:null,W4={isBrowser:!0,classes:{URLSearchParams:$4,FormData:H4,Blob:V4},protocols:["http","https","file","blob","url","data"]},k1=typeof window<"u"&&typeof document<"u",am=typeof navigator=="object"&&navigator||void 0,G4=k1&&(!am||["ReactNative","NativeScript","NS"].indexOf(am.product)<0),K4=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Y4=k1&&window.location.href||"http://localhost",J4=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:k1,hasStandardBrowserEnv:G4,hasStandardBrowserWebWorkerEnv:K4,navigator:am,origin:Y4},Symbol.toStringTag,{value:"Module"})),or={...J4,...W4};function X4(e,t){return Af(e,new or.classes.URLSearchParams,{visitor:function(n,r,a,i){return or.isNode&&Ne.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...t})}function Q4(e){return Ne.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function Z4(e){const t={},n=Object.keys(e);let r;const a=n.length;let i;for(r=0;r<a;r++)i=n[r],t[i]=e[i];return t}function Jy(e){function t(n,r,a,i){let s=n[i++];if(s==="__proto__")return!0;const u=Number.isFinite(+s),c=i>=n.length;return s=!s&&Ne.isArray(a)?a.length:s,c?(Ne.hasOwnProp(a,s)?a[s]=[a[s],r]:a[s]=r,!u):((!a[s]||!Ne.isObject(a[s]))&&(a[s]=[]),t(n,r,a[s],i)&&Ne.isArray(a[s])&&(a[s]=Z4(a[s])),!u)}if(Ne.isFormData(e)&&Ne.isFunction(e.entries)){const n={};return Ne.forEachEntry(e,(r,a)=>{t(Q4(r),a,n,0)}),n}return null}function eN(e,t,n){if(Ne.isString(e))try{return(t||JSON.parse)(e),Ne.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Vu={transitional:Yy,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",a=r.indexOf("application/json")>-1,i=Ne.isObject(t);if(i&&Ne.isHTMLForm(t)&&(t=new FormData(t)),Ne.isFormData(t))return a?JSON.stringify(Jy(t)):t;if(Ne.isArrayBuffer(t)||Ne.isBuffer(t)||Ne.isStream(t)||Ne.isFile(t)||Ne.isBlob(t)||Ne.isReadableStream(t))return t;if(Ne.isArrayBufferView(t))return t.buffer;if(Ne.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let u;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return X4(t,this.formSerializer).toString();if((u=Ne.isFileList(t))||r.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return Af(u?{"files[]":t}:t,c&&new c,this.formSerializer)}}return i||a?(n.setContentType("application/json",!1),eN(t)):t}],transformResponse:[function(t){const n=this.transitional||Vu.transitional,r=n&&n.forcedJSONParsing,a=this.responseType==="json";if(Ne.isResponse(t)||Ne.isReadableStream(t))return t;if(t&&Ne.isString(t)&&(r&&!this.responseType||a)){const s=!(n&&n.silentJSONParsing)&&a;try{return JSON.parse(t)}catch(u){if(s)throw u.name==="SyntaxError"?jt.from(u,jt.ERR_BAD_RESPONSE,this,null,this.response):u}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:or.classes.FormData,Blob:or.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ne.forEach(["delete","get","head","post","put","patch"],e=>{Vu.headers[e]={}});const tN=Ne.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),nN=e=>{const t={};let n,r,a;return e&&e.split(`
`).forEach(function(s){a=s.indexOf(":"),n=s.substring(0,a).trim().toLowerCase(),r=s.substring(a+1).trim(),!(!n||t[n]&&tN[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},j2=Symbol("internals");function Kl(e){return e&&String(e).trim().toLowerCase()}function yd(e){return e===!1||e==null?e:Ne.isArray(e)?e.map(yd):String(e)}function rN(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const aN=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $h(e,t,n,r,a){if(Ne.isFunction(r))return r.call(this,t,n);if(a&&(t=n),!!Ne.isString(t)){if(Ne.isString(r))return t.indexOf(r)!==-1;if(Ne.isRegExp(r))return r.test(t)}}function iN(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function sN(e,t){const n=Ne.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(a,i,s){return this[r].call(this,t,a,i,s)},configurable:!0})})}let Rr=class{constructor(t){t&&this.set(t)}set(t,n,r){const a=this;function i(u,c,f){const y=Kl(c);if(!y)throw new Error("header name must be a non-empty string");const g=Ne.findKey(a,y);(!g||a[g]===void 0||f===!0||f===void 0&&a[g]!==!1)&&(a[g||c]=yd(u))}const s=(u,c)=>Ne.forEach(u,(f,y)=>i(f,y,c));if(Ne.isPlainObject(t)||t instanceof this.constructor)s(t,n);else if(Ne.isString(t)&&(t=t.trim())&&!aN(t))s(nN(t),n);else if(Ne.isObject(t)&&Ne.isIterable(t)){let u={},c,f;for(const y of t){if(!Ne.isArray(y))throw TypeError("Object iterator must return a key-value pair");u[f=y[0]]=(c=u[f])?Ne.isArray(c)?[...c,y[1]]:[c,y[1]]:y[1]}s(u,n)}else t!=null&&i(n,t,r);return this}get(t,n){if(t=Kl(t),t){const r=Ne.findKey(this,t);if(r){const a=this[r];if(!n)return a;if(n===!0)return rN(a);if(Ne.isFunction(n))return n.call(this,a,r);if(Ne.isRegExp(n))return n.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Kl(t),t){const r=Ne.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$h(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let a=!1;function i(s){if(s=Kl(s),s){const u=Ne.findKey(r,s);u&&(!n||$h(r,r[u],u,n))&&(delete r[u],a=!0)}}return Ne.isArray(t)?t.forEach(i):i(t),a}clear(t){const n=Object.keys(this);let r=n.length,a=!1;for(;r--;){const i=n[r];(!t||$h(this,this[i],i,t,!0))&&(delete this[i],a=!0)}return a}normalize(t){const n=this,r={};return Ne.forEach(this,(a,i)=>{const s=Ne.findKey(r,i);if(s){n[s]=yd(a),delete n[i];return}const u=t?iN(i):String(i).trim();u!==i&&delete n[i],n[u]=yd(a),r[u]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Ne.forEach(this,(r,a)=>{r!=null&&r!==!1&&(n[a]=t&&Ne.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(a=>r.set(a)),r}static accessor(t){const r=(this[j2]=this[j2]={accessors:{}}).accessors,a=this.prototype;function i(s){const u=Kl(s);r[u]||(sN(a,s),r[u]=!0)}return Ne.isArray(t)?t.forEach(i):i(t),this}};Rr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ne.reduceDescriptors(Rr.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}});Ne.freezeMethods(Rr);function Hh(e,t){const n=this||Vu,r=t||n,a=Rr.from(r.headers);let i=r.data;return Ne.forEach(e,function(u){i=u.call(n,i,a.normalize(),t?t.status:void 0)}),a.normalize(),i}function Xy(e){return!!(e&&e.__CANCEL__)}function ul(e,t,n){jt.call(this,e??"canceled",jt.ERR_CANCELED,t,n),this.name="CanceledError"}Ne.inherits(ul,jt,{__CANCEL__:!0});function Qy(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function oN(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function lN(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a=0,i=0,s;return t=t!==void 0?t:1e3,function(c){const f=Date.now(),y=r[i];s||(s=f),n[a]=c,r[a]=f;let g=i,b=0;for(;g!==a;)b+=n[g++],g=g%e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),f-s<t)return;const m=y&&f-y;return m?Math.round(b*1e3/m):void 0}}function uN(e,t){let n=0,r=1e3/t,a,i;const s=(f,y=Date.now())=>{n=y,a=null,i&&(clearTimeout(i),i=null),e(...f)};return[(...f)=>{const y=Date.now(),g=y-n;g>=r?s(f,y):(a=f,i||(i=setTimeout(()=>{i=null,s(a)},r-g)))},()=>a&&s(a)]}const Qd=(e,t,n=3)=>{let r=0;const a=lN(50,250);return uN(i=>{const s=i.loaded,u=i.lengthComputable?i.total:void 0,c=s-r,f=a(c),y=s<=u;r=s;const g={loaded:s,total:u,progress:u?s/u:void 0,bytes:c,rate:f||void 0,estimated:f&&u&&y?(u-s)/f:void 0,event:i,lengthComputable:u!=null,[t?"download":"upload"]:!0};e(g)},n)},k2=(e,t)=>{const n=e!=null;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},A2=e=>(...t)=>Ne.asap(()=>e(...t)),cN=or.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,or.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(or.origin),or.navigator&&/(msie|trident)/i.test(or.navigator.userAgent)):()=>!0,dN=or.hasStandardBrowserEnv?{write(e,t,n,r,a,i){const s=[e+"="+encodeURIComponent(t)];Ne.isNumber(n)&&s.push("expires="+new Date(n).toGMTString()),Ne.isString(r)&&s.push("path="+r),Ne.isString(a)&&s.push("domain="+a),i===!0&&s.push("secure"),document.cookie=s.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function fN(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function hN(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function Zy(e,t,n){let r=!fN(t);return e&&(r||n==!1)?hN(e,t):t}const L2=e=>e instanceof Rr?{...e}:e;function Bs(e,t){t=t||{};const n={};function r(f,y,g,b){return Ne.isPlainObject(f)&&Ne.isPlainObject(y)?Ne.merge.call({caseless:b},f,y):Ne.isPlainObject(y)?Ne.merge({},y):Ne.isArray(y)?y.slice():y}function a(f,y,g,b){if(Ne.isUndefined(y)){if(!Ne.isUndefined(f))return r(void 0,f,g,b)}else return r(f,y,g,b)}function i(f,y){if(!Ne.isUndefined(y))return r(void 0,y)}function s(f,y){if(Ne.isUndefined(y)){if(!Ne.isUndefined(f))return r(void 0,f)}else return r(void 0,y)}function u(f,y,g){if(g in t)return r(f,y);if(g in e)return r(void 0,f)}const c={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u,headers:(f,y,g)=>a(L2(f),L2(y),g,!0)};return Ne.forEach(Object.keys({...e,...t}),function(y){const g=c[y]||a,b=g(e[y],t[y],y);Ne.isUndefined(b)&&g!==u||(n[y]=b)}),n}const ev=e=>{const t=Bs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:a,xsrfCookieName:i,headers:s,auth:u}=t;t.headers=s=Rr.from(s),t.url=Ky(Zy(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),u&&s.set("Authorization","Basic "+btoa((u.username||"")+":"+(u.password?unescape(encodeURIComponent(u.password)):"")));let c;if(Ne.isFormData(n)){if(or.hasStandardBrowserEnv||or.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if((c=s.getContentType())!==!1){const[f,...y]=c?c.split(";").map(g=>g.trim()).filter(Boolean):[];s.setContentType([f||"multipart/form-data",...y].join("; "))}}if(or.hasStandardBrowserEnv&&(r&&Ne.isFunction(r)&&(r=r(t)),r||r!==!1&&cN(t.url))){const f=a&&i&&dN.read(i);f&&s.set(a,f)}return t},pN=typeof XMLHttpRequest<"u",mN=pN&&function(e){return new Promise(function(n,r){const a=ev(e);let i=a.data;const s=Rr.from(a.headers).normalize();let{responseType:u,onUploadProgress:c,onDownloadProgress:f}=a,y,g,b,m,j;function w(){m&&m(),j&&j(),a.cancelToken&&a.cancelToken.unsubscribe(y),a.signal&&a.signal.removeEventListener("abort",y)}let P=new XMLHttpRequest;P.open(a.method.toUpperCase(),a.url,!0),P.timeout=a.timeout;function x(){if(!P)return;const S=Rr.from("getAllResponseHeaders"in P&&P.getAllResponseHeaders()),J={data:!u||u==="text"||u==="json"?P.responseText:P.response,status:P.status,statusText:P.statusText,headers:S,config:e,request:P};Qy(function(U){n(U),w()},function(U){r(U),w()},J),P=null}"onloadend"in P?P.onloadend=x:P.onreadystatechange=function(){!P||P.readyState!==4||P.status===0&&!(P.responseURL&&P.responseURL.indexOf("file:")===0)||setTimeout(x)},P.onabort=function(){P&&(r(new jt("Request aborted",jt.ECONNABORTED,e,P)),P=null)},P.onerror=function(){r(new jt("Network Error",jt.ERR_NETWORK,e,P)),P=null},P.ontimeout=function(){let B=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const J=a.transitional||Yy;a.timeoutErrorMessage&&(B=a.timeoutErrorMessage),r(new jt(B,J.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,e,P)),P=null},i===void 0&&s.setContentType(null),"setRequestHeader"in P&&Ne.forEach(s.toJSON(),function(B,J){P.setRequestHeader(J,B)}),Ne.isUndefined(a.withCredentials)||(P.withCredentials=!!a.withCredentials),u&&u!=="json"&&(P.responseType=a.responseType),f&&([b,j]=Qd(f,!0),P.addEventListener("progress",b)),c&&P.upload&&([g,m]=Qd(c),P.upload.addEventListener("progress",g),P.upload.addEventListener("loadend",m)),(a.cancelToken||a.signal)&&(y=S=>{P&&(r(!S||S.type?new ul(null,e,P):S),P.abort(),P=null)},a.cancelToken&&a.cancelToken.subscribe(y),a.signal&&(a.signal.aborted?y():a.signal.addEventListener("abort",y)));const v=oN(a.url);if(v&&or.protocols.indexOf(v)===-1){r(new jt("Unsupported protocol "+v+":",jt.ERR_BAD_REQUEST,e));return}P.send(i||null)})},gN=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let r=new AbortController,a;const i=function(f){if(!a){a=!0,u();const y=f instanceof Error?f:this.reason;r.abort(y instanceof jt?y:new ul(y instanceof Error?y.message:y))}};let s=t&&setTimeout(()=>{s=null,i(new jt(`timeout ${t} of ms exceeded`,jt.ETIMEDOUT))},t);const u=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(f=>{f.unsubscribe?f.unsubscribe(i):f.removeEventListener("abort",i)}),e=null)};e.forEach(f=>f.addEventListener("abort",i));const{signal:c}=r;return c.unsubscribe=()=>Ne.asap(u),c}},yN=function*(e,t){let n=e.byteLength;if(n<t){yield e;return}let r=0,a;for(;r<n;)a=r+t,yield e.slice(r,a),r=a},vN=async function*(e,t){for await(const n of xN(e))yield*yN(n,t)},xN=async function*(e){if(e[Symbol.asyncIterator]){yield*e;return}const t=e.getReader();try{for(;;){const{done:n,value:r}=await t.read();if(n)break;yield r}}finally{await t.cancel()}},C2=(e,t,n,r)=>{const a=vN(e,t);let i=0,s,u=c=>{s||(s=!0,r&&r(c))};return new ReadableStream({async pull(c){try{const{done:f,value:y}=await a.next();if(f){u(),c.close();return}let g=y.byteLength;if(n){let b=i+=g;n(b)}c.enqueue(new Uint8Array(y))}catch(f){throw u(f),f}},cancel(c){return u(c),a.return()}},{highWaterMark:2})},Lf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",tv=Lf&&typeof ReadableStream=="function",bN=Lf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),nv=(e,...t)=>{try{return!!e(...t)}catch{return!1}},wN=tv&&nv(()=>{let e=!1;const t=new Request(or.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),_2=64*1024,im=tv&&nv(()=>Ne.isReadableStream(new Response("").body)),Zd={stream:im&&(e=>e.body)};Lf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!Zd[t]&&(Zd[t]=Ne.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new jt(`Response type '${t}' is not supported`,jt.ERR_NOT_SUPPORT,r)})})})(new Response);const NN=async e=>{if(e==null)return 0;if(Ne.isBlob(e))return e.size;if(Ne.isSpecCompliantForm(e))return(await new Request(or.origin,{method:"POST",body:e}).arrayBuffer()).byteLength;if(Ne.isArrayBufferView(e)||Ne.isArrayBuffer(e))return e.byteLength;if(Ne.isURLSearchParams(e)&&(e=e+""),Ne.isString(e))return(await bN(e)).byteLength},SN=async(e,t)=>{const n=Ne.toFiniteNumber(e.getContentLength());return n??NN(t)},jN=Lf&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:i,timeout:s,onDownloadProgress:u,onUploadProgress:c,responseType:f,headers:y,withCredentials:g="same-origin",fetchOptions:b}=ev(e);f=f?(f+"").toLowerCase():"text";let m=gN([a,i&&i.toAbortSignal()],s),j;const w=m&&m.unsubscribe&&(()=>{m.unsubscribe()});let P;try{if(c&&wN&&n!=="get"&&n!=="head"&&(P=await SN(y,r))!==0){let J=new Request(t,{method:"POST",body:r,duplex:"half"}),ne;if(Ne.isFormData(r)&&(ne=J.headers.get("content-type"))&&y.setContentType(ne),J.body){const[U,T]=k2(P,Qd(A2(c)));r=C2(J.body,_2,U,T)}}Ne.isString(g)||(g=g?"include":"omit");const x="credentials"in Request.prototype;j=new Request(t,{...b,signal:m,method:n.toUpperCase(),headers:y.normalize().toJSON(),body:r,duplex:"half",credentials:x?g:void 0});let v=await fetch(j,b);const S=im&&(f==="stream"||f==="response");if(im&&(u||S&&w)){const J={};["status","statusText","headers"].forEach(V=>{J[V]=v[V]});const ne=Ne.toFiniteNumber(v.headers.get("content-length")),[U,T]=u&&k2(ne,Qd(A2(u),!0))||[];v=new Response(C2(v.body,_2,U,()=>{T&&T(),w&&w()}),J)}f=f||"text";let B=await Zd[Ne.findKey(Zd,f)||"text"](v,e);return!S&&w&&w(),await new Promise((J,ne)=>{Qy(J,ne,{data:B,headers:Rr.from(v.headers),status:v.status,statusText:v.statusText,config:e,request:j})})}catch(x){throw w&&w(),x&&x.name==="TypeError"&&/Load failed|fetch/i.test(x.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,e,j),{cause:x.cause||x}):jt.from(x,x&&x.code,e,j)}}),sm={http:B4,xhr:mN,fetch:jN};Ne.forEach(sm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const P2=e=>`- ${e}`,kN=e=>Ne.isFunction(e)||e===null||e===!1,rv={getAdapter:e=>{e=Ne.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let i=0;i<t;i++){n=e[i];let s;if(r=n,!kN(n)&&(r=sm[(s=String(n)).toLowerCase()],r===void 0))throw new jt(`Unknown adapter '${s}'`);if(r)break;a[s||"#"+i]=r}if(!r){const i=Object.entries(a).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let s=t?i.length>1?`since :
`+i.map(P2).join(`
`):" "+P2(i[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+s,"ERR_NOT_SUPPORT")}return r},adapters:sm};function Vh(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ul(null,e)}function T2(e){return Vh(e),e.headers=Rr.from(e.headers),e.data=Hh.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),rv.getAdapter(e.adapter||Vu.adapter)(e).then(function(r){return Vh(e),r.data=Hh.call(e,e.transformResponse,r),r.headers=Rr.from(r.headers),r},function(r){return Xy(r)||(Vh(e),r&&r.response&&(r.response.data=Hh.call(e,e.transformResponse,r.response),r.response.headers=Rr.from(r.response.headers))),Promise.reject(r)})}const av="1.11.0",Cf={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Cf[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const E2={};Cf.transitional=function(t,n,r){function a(i,s){return"[Axios v"+av+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,u)=>{if(t===!1)throw new jt(a(s," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!E2[s]&&(E2[s]=!0,console.warn(a(s," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(i,s,u):!0}};Cf.spelling=function(t){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${t}`),!0)};function AN(e,t,n){if(typeof e!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const i=r[a],s=t[i];if(s){const u=e[i],c=u===void 0||s(u,i,e);if(c!==!0)throw new jt("option "+i+" must be "+c,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+i,jt.ERR_BAD_OPTION)}}const vd={assertOptions:AN,validators:Cf},Ia=vd.validators;let Es=class{constructor(t){this.defaults=t||{},this.interceptors={request:new S2,response:new S2}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{r.stack?i&&!String(r.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+i):r.stack=i}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=Bs(this.defaults,n);const{transitional:r,paramsSerializer:a,headers:i}=n;r!==void 0&&vd.assertOptions(r,{silentJSONParsing:Ia.transitional(Ia.boolean),forcedJSONParsing:Ia.transitional(Ia.boolean),clarifyTimeoutError:Ia.transitional(Ia.boolean)},!1),a!=null&&(Ne.isFunction(a)?n.paramsSerializer={serialize:a}:vd.assertOptions(a,{encode:Ia.function,serialize:Ia.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),vd.assertOptions(n,{baseUrl:Ia.spelling("baseURL"),withXsrfToken:Ia.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s=i&&Ne.merge(i.common,i[n.method]);i&&Ne.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),n.headers=Rr.concat(s,i);const u=[];let c=!0;this.interceptors.request.forEach(function(w){typeof w.runWhen=="function"&&w.runWhen(n)===!1||(c=c&&w.synchronous,u.unshift(w.fulfilled,w.rejected))});const f=[];this.interceptors.response.forEach(function(w){f.push(w.fulfilled,w.rejected)});let y,g=0,b;if(!c){const j=[T2.bind(this),void 0];for(j.unshift(...u),j.push(...f),b=j.length,y=Promise.resolve(n);g<b;)y=y.then(j[g++],j[g++]);return y}b=u.length;let m=n;for(g=0;g<b;){const j=u[g++],w=u[g++];try{m=j(m)}catch(P){w.call(this,P);break}}try{y=T2.call(this,m)}catch(j){return Promise.reject(j)}for(g=0,b=f.length;g<b;)y=y.then(f[g++],f[g++]);return y}getUri(t){t=Bs(this.defaults,t);const n=Zy(t.baseURL,t.url,t.allowAbsoluteUrls);return Ky(n,t.params,t.paramsSerializer)}};Ne.forEach(["delete","get","head","options"],function(t){Es.prototype[t]=function(n,r){return this.request(Bs(r||{},{method:t,url:n,data:(r||{}).data}))}});Ne.forEach(["post","put","patch"],function(t){function n(r){return function(i,s,u){return this.request(Bs(u||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}Es.prototype[t]=n(),Es.prototype[t+"Form"]=n(!0)});let LN=class iv{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(a=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](a);r._listeners=null}),this.promise.then=a=>{let i;const s=new Promise(u=>{r.subscribe(u),i=u}).then(a);return s.cancel=function(){r.unsubscribe(i)},s},t(function(i,s,u){r.reason||(r.reason=new ul(i,s,u),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const t=new AbortController,n=r=>{t.abort(r)};return this.subscribe(n),t.signal.unsubscribe=()=>this.unsubscribe(n),t.signal}static source(){let t;return{token:new iv(function(a){t=a}),cancel:t}}};function CN(e){return function(n){return e.apply(null,n)}}function _N(e){return Ne.isObject(e)&&e.isAxiosError===!0}const om={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(om).forEach(([e,t])=>{om[t]=e});function sv(e){const t=new Es(e),n=Dy(Es.prototype.request,t);return Ne.extend(n,Es.prototype,t,{allOwnKeys:!0}),Ne.extend(n,t,null,{allOwnKeys:!0}),n.create=function(a){return sv(Bs(e,a))},n}const jn=sv(Vu);jn.Axios=Es;jn.CanceledError=ul;jn.CancelToken=LN;jn.isCancel=Xy;jn.VERSION=av;jn.toFormData=Af;jn.AxiosError=jt;jn.Cancel=jn.CanceledError;jn.all=function(t){return Promise.all(t)};jn.spread=CN;jn.isAxiosError=_N;jn.mergeConfig=Bs;jn.AxiosHeaders=Rr;jn.formToJSON=e=>Jy(Ne.isHTMLForm(e)?new FormData(e):e);jn.getAdapter=rv.getAdapter;jn.HttpStatusCode=om;jn.default=jn;const{Axios:NS,AxiosError:SS,CanceledError:jS,isCancel:kS,CancelToken:AS,VERSION:LS,all:CS,Cancel:_S,isAxiosError:PS,spread:TS,toFormData:ES,AxiosHeaders:RS,HttpStatusCode:IS,formToJSON:OS,getAdapter:DS,mergeConfig:FS}=jn,PN={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_API_URL:"http://localhost:5000/api"},TN=typeof import.meta<"u"&&PN&&"http://localhost:5000/api"||"",EN=typeof window<"u"&&window.__API_URL__?window.__API_URL__:"",RN=typeof window<"u"&&window.location&&window.location.port==="5173",IN=TN||EN||(RN?"http://localhost:5000/api":"/api");let lm=null;function ON(e){lm=e}function vs(e,t="info"){lm&&lm({msg:e,type:t})}const st=jn.create({baseURL:IN,withCredentials:!1,timeout:15e3,headers:{"X-Requested-With":"XMLHttpRequest"}});st.interceptors.request.use(e=>{try{const t=localStorage.getItem("token");t&&(e.headers.Authorization=`Bearer ${t}`)}catch{}return e});st.interceptors.request.use(e=>{try{if((e.method||"get").toLowerCase()!=="get")return e;const t=String(e.url||""),n=t.split("?")[0];if(!/\/reservations\/?$/.test(n))return e;const r=new URLSearchParams(t.includes("?")?t.split("?")[1]:"");if(e.params&&typeof e.params=="object"){for(const[c,f]of Object.entries(e.params))f!=null&&r.set(c,String(f));delete e.params}const a=r.get("start"),i=r.get("end");if(a&&i&&/^\d{4}-\d{2}-\d{2}$/.test(i)){const[c,f,y]=i.split("-").map(Number),g=new Date(c,f-1,y+1),b=g.getFullYear(),m=String(g.getMonth()+1).padStart(2,"0"),j=String(g.getDate()).padStart(2,"0");r.set("end",`${b}-${m}-${j}`)}const s=Number(r.get("limit")||0);(!s||s>100)&&r.set("limit","100");const u=r.toString();e.url=n+(u?`?${u}`:"")}catch{}return e});st.interceptors.response.use(e=>e,async e=>{var s;if(!e.response)return vs("Sunucuya ulaşılamadı. İnternet/CORS kontrol edin.","error"),Promise.reject(e);const{status:t,data:n,statusText:r}=e.response;let a="";try{if(n instanceof Blob){const u=await n.text();try{a=((s=JSON.parse(u))==null?void 0:s.message)||r||"Hata"}catch{a=u||r||"Hata"}}else typeof n=="string"?a=n:a=(n==null?void 0:n.message)||r||"Hata"}catch{a="Hata"}const i=Array.isArray(n==null?void 0:n.errors)?n.errors:null;if(i&&i.length){const u=i[0],c=(u!=null&&u.path?`${u.path}: `:"")+((u==null?void 0:u.msg)||(u==null?void 0:u.message)||"");return vs(`Doğrulama hatası: ${c||a}`,"error"),Promise.reject(e)}if(t===401){vs("Oturum süreniz doldu. Lütfen tekrar giriş yapın.","warn");try{localStorage.clear()}catch{}return setTimeout(()=>window.location.href="/login",400),Promise.reject(e)}return t===403?(vs("Bu işlem için yetkiniz yok.","error"),Promise.reject(e)):t===409?(vs(a||"Çakışma/uygunsuzluk hatası.","error"),Promise.reject(e)):t===422||t===400?(vs(a||"Geçersiz istek.","error"),Promise.reject(e)):(vs(a||"Beklenmeyen hata.","error"),Promise.reject(e))});function DN(){const e=wf(),[t,n]=ee.useState(()=>localStorage.getItem("rememberEmail")||""),[r,a]=ee.useState(""),[i,s]=ee.useState(!!localStorage.getItem("rememberEmail")),[u,c]=ee.useState(!1),[f,y]=ee.useState(!1),[g,b]=ee.useState(""),[m,j]=ee.useState(!1),w=ee.useRef(null),P=ee.useRef(null);ee.useEffect(()=>(localStorage.getItem("token")&&e("/",{replace:!0}),()=>{var T,V;(V=(T=P.current)==null?void 0:T.abort)==null||V.call(T)}),[e]);const x=U=>{try{const T=U.getModifierState&&U.getModifierState("CapsLock");j(!!T)}catch{}},v=ee.useMemo(()=>{var U,T;return(T=(U=import.meta)==null?void 0:U.env)!=null&&T.DEV?[{tag:"Master",email:"master@demo.local",pass:"Master123!"},{tag:"Otel 1",email:"hotel1@demo.local",pass:"Demo123!"}]:[]},[]),S=U=>{n(U.email),a(U.pass),setTimeout(()=>{var T;return(T=w.current)==null?void 0:T.focus()},0)},B=U=>/\S+@\S+\.\S+/.test(U),J=U=>{var E,_,W,F,te,Z;const T=(U==null?void 0:U.token)||(U==null?void 0:U.accessToken),V=(U==null?void 0:U.role)||((E=U==null?void 0:U.user)==null?void 0:E.role)||((_=U==null?void 0:U.user)!=null&&_.isMaster?"MASTER_ADMIN":"HOTEL_ADMIN"),se=((W=U==null?void 0:U.hotel)==null?void 0:W._id)||(U==null?void 0:U.hotelId)||((te=(F=U==null?void 0:U.user)==null?void 0:F.hotel)==null?void 0:te._id)||((Z=U==null?void 0:U.user)==null?void 0:Z.hotelId)||"";T&&localStorage.setItem("token",T),localStorage.setItem("role",V),se&&localStorage.setItem("hotelId",se),i?localStorage.setItem("rememberEmail",t):localStorage.removeItem("rememberEmail")},ne=async U=>{var se,E,_;U.preventDefault(),b("");const T=t.trim().toLowerCase();if(!T||!r){b("E-posta ve şifre zorunludur.");return}if(!B(T)){b("Lütfen geçerli bir e-posta girin.");return}(E=(se=P.current)==null?void 0:se.abort)==null||E.call(se);const V=new AbortController;P.current=V,y(!0);try{const{data:W}=await st.post("/auth/login",{email:T,password:r},{signal:V.signal});J(W),e("/",{replace:!0})}catch(W){const F=W==null?void 0:W.response,te=((_=F==null?void 0:F.data)==null?void 0:_.message)||((F==null?void 0:F.status)===429?"Çok fazla deneme. Lütfen biraz sonra tekrar deneyin.":"");b(te||"Giriş başarısız. Bilgileri kontrol edin.")}finally{y(!1)}};return o.jsx("div",{className:"login-wrapper",style:{minHeight:"100vh",display:"grid",placeItems:"center"},children:o.jsxs("div",{className:"login-card card",style:{width:440,maxWidth:"92vw",padding:20},children:[o.jsxs("div",{className:"brand",style:{display:"flex",gap:10,alignItems:"center",justifyContent:"center",marginBottom:10},children:[o.jsx("div",{className:"dot",style:{width:10,height:10,borderRadius:"50%",background:"var(--brand)"}}),o.jsx("div",{style:{fontWeight:600},children:"HMS & Channels"})]}),o.jsx("h1",{style:{marginTop:0,marginBottom:6,fontSize:22},children:"Panele Giriş"}),o.jsx("div",{className:"muted",style:{marginBottom:16},children:"Master veya Otel kullanıcısı ile giriş yapın."}),g&&o.jsx("div",{className:"card",role:"alert",style:{background:"rgba(239,68,68,.10)",border:"1px solid rgba(239,68,68,.35)",color:"#fecaca",marginBottom:12},children:g}),o.jsxs("form",{onSubmit:ne,onKeyUp:x,noValidate:!0,children:[o.jsxs("label",{className:"field",style:{display:"block",marginBottom:10},children:[o.jsx("span",{className:"field-label",children:"E-posta"}),o.jsx("input",{className:"input",type:"email",inputMode:"email",autoCapitalize:"none",autoCorrect:"off",spellCheck:"false",autoComplete:"username email",placeholder:"ornek@otel.com",value:t,onChange:U=>n(U.target.value),disabled:f,"aria-invalid":!!g})]}),o.jsxs("label",{className:"field",style:{display:"block",marginBottom:8},children:[o.jsx("span",{className:"field-label",children:"Şifre"}),o.jsxs("div",{style:{position:"relative"},children:[o.jsx("input",{ref:w,className:"input",type:u?"text":"password",placeholder:"Şifre",value:r,onChange:U=>a(U.target.value),onKeyUp:x,disabled:f,autoComplete:"current-password"}),o.jsx("button",{type:"button",className:"btn",onClick:()=>c(U=>!U),style:{position:"absolute",right:6,top:6,height:32,padding:"0 10px"},tabIndex:-1,"aria-label":u?"Şifreyi gizle":"Şifreyi göster",children:u?"Gizle":"Göster"})]}),m&&o.jsx("div",{className:"muted",style:{color:"#f59e0b",marginTop:6},children:"Caps Lock açık görünüyor."})]}),o.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:12},children:[o.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:i,onChange:U=>s(U.target.checked),disabled:f}),o.jsx("span",{className:"muted",children:"Beni hatırla"})]}),o.jsx("div",{className:"muted",style:{fontSize:12},children:"Güvenilmeyen cihazlarda şifre kaydetmeyin."})]}),o.jsx("button",{className:"btn primary",style:{width:"100%",marginBottom:10},disabled:f,children:f?"Giriş yapılıyor…":"Giriş yap"})]}),v.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"muted",style:{margin:"6px 0 8px"},children:"Örnek kullanıcılar (DEV):"}),o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:v.map(U=>o.jsx("button",{type:"button",className:"btn",onClick:()=>S(U),disabled:f,title:`${U.email} / ${U.pass}`,children:U.tag},U.tag))}),o.jsxs("div",{className:"muted",style:{marginTop:14,fontSize:12,lineHeight:1.4},children:["Örnekler: ",o.jsx("b",{children:"master@demo.local / Master123!"})," — ",o.jsx("b",{children:"hotel1@demo.local / Demo123!"})]})]})]})})}function qs({title:e,subtitle:t,right:n}){return o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:12},children:[o.jsxs("div",{children:[o.jsx("div",{className:"muted",style:{fontSize:12},children:t}),o.jsx("h2",{style:{margin:"6px 0"},children:e})]}),o.jsx("div",{children:n})]})}const hu=e=>new Date(e).toISOString().slice(0,10),_i=()=>hu(new Date),R2=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),hu(n)},xd=new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}),yr=(e,t=0)=>Number.isFinite(Number(e))?Number(e):t,I2=e=>Array.isArray(e)?e:Array.isArray(e==null?void 0:e.items)?e.items:[];function FN(e,t){const[n,r]=ee.useState(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch{return t}});return ee.useEffect(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,r]}function MN({points:e=[],height:t=48,stroke:n="#22c55e"}){const r=Math.max(e.length*20,160),a=Math.max(...e,1),i=Math.min(...e,0),s=6,u=e.map((c,f)=>{const y=s+f/Math.max(e.length-1,1)*(r-s*2),g=s+(1-(yr(c)-i)/Math.max(a-i||1,1))*(t-s*2);return`${f===0?"M":"L"} ${y} ${g}`}).join(" ");return o.jsxs("svg",{width:r,height:t,style:{display:"block"},children:[o.jsx("rect",{x:"0",y:"0",width:r,height:t,rx:"8",fill:"rgba(255,255,255,.03)",stroke:"rgba(255,255,255,.06)"}),o.jsx("path",{d:u,fill:"none",stroke:n,strokeWidth:"2"})]})}function O2({items:e=[],valueKey:t="value",labelKey:n="label",total:r}){const a=e.reduce((s,u)=>s+yr(u[t]),0),i=(r??a)||1;return o.jsxs("div",{style:{display:"grid",gap:8},children:[e.map((s,u)=>{const c=yr(s[t]),f=Math.round(c/i*100);return o.jsxs("div",{children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",fontSize:12,marginBottom:4},children:[o.jsx("span",{className:"muted",children:s[n]}),o.jsxs("span",{children:[o.jsxs("b",{children:[f,"%"]}),"  ",o.jsxs("span",{className:"muted",children:["(",xd.format(c),")"]})]})]}),o.jsx("div",{style:{height:8,background:"rgba(255,255,255,.06)",borderRadius:999,overflow:"hidden",border:"1px solid rgba(255,255,255,.08)"},children:o.jsx("div",{style:{width:`${f}%`,height:"100%",background:"linear-gradient(90deg, var(--brand), var(--brand-2))"}})})]},u)}),e.length===0&&o.jsx("div",{className:"muted",children:"Kayıt yok"})]})}function BN(){const[e,t]=FN("master.filters",{start:R2(_i(),-6),end:_i(),hotelId:""}),[n,r]=ee.useState(!1),[a,i]=ee.useState(""),[s,u]=ee.useState([]),[c,f]=ee.useState({totals:{hotels:0,rooms:0},today:{inhouse:0,arrivals:0,departures:0,occupancyPct:0},mtd:{revenue:0,adr:0,revpar:0},weeklyRevenue:[],channelLast30:[],topHotelsByRevenue:[],todayArrivals:[],todayDepartures:[]}),y=()=>t(x=>({...x,start:_i(),end:_i()})),g=()=>t(x=>({...x,start:R2(_i(),-6),end:_i()})),b=()=>{const x=new Date,v=hu(new Date(x.getFullYear(),x.getMonth(),1));t(S=>({...S,start:v,end:_i()}))};ee.useEffect(()=>{st.get("/hotels?page=1&limit=1000").then(x=>u(I2(x.data))).catch(()=>u([]))},[]);const m=async()=>{var x,v,S,B,J,ne,U,T,V,se,E,_,W,F,te,Z,de,D,X,re,ke;r(!0),i("");try{const C=new URLSearchParams;C.set("start",e.start),C.set("end",e.end),e.hotelId&&C.set("hotelId",e.hotelId);const q=(await st.get(`/dashboard/master?${C.toString()}`)).data||{};f({totals:{hotels:yr((x=q==null?void 0:q.totals)==null?void 0:x.hotels),rooms:yr((v=q==null?void 0:q.totals)==null?void 0:v.rooms)},today:{inhouse:yr((S=q==null?void 0:q.today)==null?void 0:S.inhouse),arrivals:yr((B=q==null?void 0:q.today)==null?void 0:B.arrivals),departures:yr((J=q==null?void 0:q.today)==null?void 0:J.departures),occupancyPct:yr((ne=q==null?void 0:q.today)==null?void 0:ne.occupancyPct)},mtd:{revenue:yr((U=q==null?void 0:q.mtd)==null?void 0:U.revenue),adr:yr((T=q==null?void 0:q.mtd)==null?void 0:T.adr),revpar:yr((V=q==null?void 0:q.mtd)==null?void 0:V.revpar)},weeklyRevenue:((E=(se=q==null?void 0:q.weeklyRevenue)==null?void 0:se.map)==null?void 0:E.call(se,Y=>({date:Y.date||new Date,total:yr(Y.total)})))||[],channelLast30:((W=(_=q==null?void 0:q.channelLast30)==null?void 0:_.map)==null?void 0:W.call(_,Y=>({label:Y.label||Y.channel||"—",value:yr(Y.value??Y.count)})))||[],topHotelsByRevenue:((te=(F=q==null?void 0:q.topHotelsByRevenue)==null?void 0:F.map)==null?void 0:te.call(F,Y=>({label:Y.label||Y.name||Y.hotel||"—",value:yr(Y.value??Y.total)})))||[],todayArrivals:((de=(Z=q==null?void 0:q.todayArrivals)==null?void 0:Z.map)==null?void 0:de.call(Z,Y=>{var ae;return{guest:((ae=Y.guest)==null?void 0:ae.name)||Y.guestName||"Misafir",nights:Y.nights??0,channel:Y.channel||"-",checkIn:Y.checkIn||""}}))||[],todayDepartures:((X=(D=q==null?void 0:q.todayDepartures)==null?void 0:D.map)==null?void 0:X.call(D,Y=>{var ae;return{guest:((ae=Y.guest)==null?void 0:ae.name)||Y.guestName||"Misafir",nights:Y.nights??0,channel:Y.channel||"-",checkOut:Y.checkOut||""}}))||[]})}catch(C){i(((ke=(re=C==null?void 0:C.response)==null?void 0:re.data)==null?void 0:ke.message)||(C==null?void 0:C.message)||"Veri alınamadı. Lütfen tekrar deneyin.")}finally{r(!1)}};ee.useEffect(()=>{m()},[e.start,e.end,e.hotelId]);const j=ee.useMemo(()=>c.weeklyRevenue.map(x=>x.total),[c.weeklyRevenue]),w=()=>{const v=[["Tip","Misafir","Gece","Kanal","Tarih"],...c.todayArrivals.map(ne=>["Giriş",ne.guest,ne.nights,ne.channel,hu(ne.checkIn||new Date)]),...c.todayDepartures.map(ne=>["Çıkış",ne.guest,ne.nights,ne.channel,hu(ne.checkOut||new Date)])].map(ne=>ne.join(";")).join(`
`),S=new Blob([v],{type:"text/csv;charset=utf-8;"}),B=URL.createObjectURL(S),J=document.createElement("a");J.href=B,J.download=`master_${_i()}.csv`,document.body.appendChild(J),J.click(),J.remove(),URL.revokeObjectURL(B)},P=I2(s);return o.jsxs("div",{children:[o.jsx(qs,{title:"Master Dashboard",subtitle:"Tüm otellerin özet metrikleri • kanal dağılımı • en iyi oteller • bugünün hareketleri"}),o.jsxs("div",{className:"card",style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:y,children:"Bugün"}),o.jsx("button",{className:"btn",onClick:g,children:"Bu Hafta"}),o.jsx("button",{className:"btn",onClick:b,children:"Bu Ay"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",marginLeft:"auto",flexWrap:"wrap"},children:[o.jsx("input",{className:"input",type:"date",value:e.start,onChange:x=>t(v=>({...v,start:x.target.value}))}),o.jsx("input",{className:"input",type:"date",value:e.end,onChange:x=>t(v=>({...v,end:x.target.value}))}),o.jsxs("select",{className:"select",value:e.hotelId,onChange:x=>t(v=>({...v,hotelId:x.target.value})),children:[o.jsx("option",{value:"",children:"Otel (hepsi)"}),P.map(x=>o.jsxs("option",{value:x._id,children:[x.name," (",x.code,")"]},x._id))]}),o.jsx("button",{className:"btn",onClick:w,children:"CSV"})]})]}),o.jsxs("div",{className:"kpis",style:{marginBottom:12},children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",children:"Toplam Otel"}),o.jsx("div",{className:"value",children:c.totals.hotels}),o.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:6},children:["Toplam oda: ",o.jsx("b",{children:c.totals.rooms})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",children:"Bugün İçeride (In-house)"}),o.jsx("div",{className:"value",children:c.today.inhouse}),o.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:6},children:["Doluluk: ",o.jsxs("b",{children:[Math.round(c.today.occupancyPct),"%"]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",children:"MTD Gelir"}),o.jsx("div",{className:"value",children:xd.format(c.mtd.revenue)}),o.jsxs("div",{className:"muted",style:{fontSize:12,marginTop:6},children:["ADR: ",o.jsx("b",{children:xd.format(c.mtd.adr)})," • RevPAR:"," ",o.jsx("b",{children:xd.format(c.mtd.revpar)})]})]}),o.jsxs("div",{className:"card",style:{overflowX:"auto"},children:[o.jsx("div",{className:"label",children:"Bu Hafta Günlük Gelir"}),o.jsx(MN,{points:j})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.1fr .9fr",gap:12,alignItems:"start"},children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Son 30 Gün Kanal Dağılımı"}),o.jsx(O2,{items:c.channelLast30})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Gelire Göre En İyi Oteller"}),o.jsx(O2,{items:c.topHotelsByRevenue})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,alignItems:"start",marginTop:12},children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Bugün Girişler"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Misafir"}),o.jsx("th",{children:"Gece"}),o.jsx("th",{children:"Kanal"}),o.jsx("th",{children:"Giriş"})]})}),o.jsxs("tbody",{children:[c.todayArrivals.map((x,v)=>o.jsxs("tr",{children:[o.jsx("td",{children:x.guest}),o.jsx("td",{children:x.nights}),o.jsx("td",{children:x.channel}),o.jsx("td",{children:x.checkIn?new Date(x.checkIn).toLocaleDateString("tr-TR"):"-"})]},v)),c.todayArrivals.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"muted",children:"Kayıt yok"})})]})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Bugün Çıkışlar"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Misafir"}),o.jsx("th",{children:"Gece"}),o.jsx("th",{children:"Kanal"}),o.jsx("th",{children:"Çıkış"})]})}),o.jsxs("tbody",{children:[c.todayDepartures.map((x,v)=>o.jsxs("tr",{children:[o.jsx("td",{children:x.guest}),o.jsx("td",{children:x.nights}),o.jsx("td",{children:x.channel}),o.jsx("td",{children:x.checkOut?new Date(x.checkOut).toLocaleDateString("tr-TR"):"-"})]},v)),c.todayDepartures.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:"4",className:"muted",children:"Kayıt yok"})})]})]})]})]}),a&&o.jsx("div",{className:"card",style:{marginTop:12,borderColor:"rgba(239,68,68,.5)",boxShadow:"0 0 0 1px rgba(239,68,68,.25) inset"},children:o.jsxs("div",{style:{color:"#fecaca"},children:["Hata: ",a]})}),n&&o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(0,0,0,.25)",display:"grid",placeItems:"center",zIndex:50},children:o.jsx("div",{className:"card",children:"Yükleniyor…"})})]})}const zN=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}).format(Number(e||0));function UN(){const[e,t]=ee.useState([]),[n,r]=ee.useState(0),[a,i]=ee.useState(1),[s,u]=ee.useState(1),[c]=ee.useState(12),[f,y]=ee.useState(!1),[g,b]=ee.useState(""),[m,j]=ee.useState(""),[w,P]=ee.useState(null),x={code:"",name:"",city:"",adminEmail:"",adminPassword:"",currency:"TRY",timezone:"Europe/Istanbul",active:!0},[v,S]=ee.useState(x);async function B(){var _,W,F;y(!0),j("");try{const te=new URLSearchParams({page:String(a),limit:String(c),search:g||""}).toString(),{data:Z}=await st.get(`/hotels?${te}`);t(Array.isArray(Z==null?void 0:Z.items)?Z.items:Array.isArray(Z)?Z:[]),r(Number.isFinite(Z==null?void 0:Z.total)?Z.total:((_=Z==null?void 0:Z.items)==null?void 0:_.length)??0),u(Number.isFinite(Z==null?void 0:Z.pages)?Z.pages:1)}catch(te){j(((F=(W=te==null?void 0:te.response)==null?void 0:W.data)==null?void 0:F.message)||"Oteller alınamadı.")}finally{y(!1)}}ee.useEffect(()=>{B()},[a,c]);const J=()=>{P(null),S(x),window.scrollTo({top:0,behavior:"smooth"})},ne=_=>{P(_._id),S({code:_.code||"",name:_.name||"",city:_.city||"",adminEmail:_.adminEmail||"",adminPassword:"",currency:_.currency||"TRY",timezone:_.timezone||"Europe/Istanbul",active:_.active!==!1}),window.scrollTo({top:0,behavior:"smooth"})},U=async _=>{var W,F;_.preventDefault(),j("");try{const te={code:(v.code||"").trim().toUpperCase(),name:(v.name||"").trim(),city:(v.city||"").trim(),currency:v.currency||"TRY",timezone:v.timezone||"Europe/Istanbul",active:!!v.active,adminEmail:(v.adminEmail||"").trim(),adminPassword:v.adminPassword||""};if(!te.code||!te.name)return j("Kod ve ad zorunlu.");if(!w&&!te.adminPassword)return j("Yeni otel için bir başlangıç şifresi gerekli.");w&&!te.adminPassword&&delete te.adminPassword,w?await st.put(`/hotels/${w}`,te):await st.post("/hotels",te),S(x),P(null),i(1),await B()}catch(te){j(((F=(W=te==null?void 0:te.response)==null?void 0:W.data)==null?void 0:F.message)||"Otel kaydedilemedi.")}},T=async _=>{var W,F;if(window.confirm(`${_.name} (${_.code}) silinsin mi?`))try{await st.delete(`/hotels/${_._id}`),await B()}catch(te){alert(((F=(W=te==null?void 0:te.response)==null?void 0:W.data)==null?void 0:F.message)||"Silinemedi")}},V=async _=>{var W,F;try{await st.put(`/hotels/${_._id}`,{active:!_.active}),await B()}catch(te){alert(((F=(W=te==null?void 0:te.response)==null?void 0:W.data)==null?void 0:F.message)||"Durum değiştirilemedi")}},se=async _=>{var W,F;if(window.confirm(`${_.name} için yönetici olarak panele girmek istiyor musun?`))try{const{data:te}=await st.post(`/hotels/${_._id}/impersonate`),Z=(te==null?void 0:te.token)||(te==null?void 0:te.accessToken);if(!Z)throw new Error("Token alınamadı");localStorage.setItem("token",Z),localStorage.setItem("role","HOTEL_ADMIN"),localStorage.setItem("hotelId",String(_._id)),window.location.href="/"}catch(te){alert(((F=(W=te==null?void 0:te.response)==null?void 0:W.data)==null?void 0:F.message)||"İmpersonate başarısız.")}},E=ee.useMemo(()=>e,[e]);return o.jsxs("div",{children:[o.jsx(qs,{title:"Oteller",subtitle:"Portföy yönetimi • Yeni otel ekleme • İmpersonate • Aktif/Pasif"}),o.jsxs("div",{className:"card",style:{marginBottom:16},children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:w?"Otel Düzenle":"Yeni Otel"}),m&&o.jsx("div",{className:"card",style:{background:"rgba(239,68,68,.12)",border:"1px solid rgba(239,68,68,.35)",marginBottom:8},children:m}),o.jsxs("form",{className:"form-grid",onSubmit:U,children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kod"}),o.jsx("input",{className:"input",value:v.code,onChange:_=>S({...v,code:_.target.value}),required:!0})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ad"}),o.jsx("input",{className:"input",value:v.name,onChange:_=>S({...v,name:_.target.value}),required:!0})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Şehir"}),o.jsx("input",{className:"input",value:v.city,onChange:_=>S({...v,city:_.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Admin E-posta"}),o.jsx("input",{className:"input",type:"email",value:v.adminEmail,onChange:_=>S({...v,adminEmail:_.target.value}),required:!w})]}),o.jsxs("label",{className:"field",children:[o.jsxs("span",{className:"field-label",children:["Admin Şifre"," ",w?o.jsx("span",{className:"muted",children:"(değiştirmek istemezsen boş bırak)"}):null]}),o.jsx("input",{className:"input",type:"password",value:v.adminPassword,onChange:_=>S({...v,adminPassword:_.target.value}),placeholder:w?"(opsiyonel)":""})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Para Birimi"}),o.jsxs("select",{className:"select",value:v.currency,onChange:_=>S({...v,currency:_.target.value}),children:[o.jsx("option",{value:"TRY",children:"TRY"}),o.jsx("option",{value:"EUR",children:"EUR"}),o.jsx("option",{value:"USD",children:"USD"}),o.jsx("option",{value:"GBP",children:"GBP"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Zaman Dilimi"}),o.jsxs("select",{className:"select",value:v.timezone,onChange:_=>S({...v,timezone:_.target.value}),children:[o.jsx("option",{value:"Europe/Istanbul",children:"Europe/Istanbul"}),o.jsx("option",{value:"Europe/Berlin",children:"Europe/Berlin"}),o.jsx("option",{value:"UTC",children:"UTC"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Durum"}),o.jsxs("select",{className:"select",value:v.active?"1":"0",onChange:_=>S({...v,active:_.target.value==="1"}),children:[o.jsx("option",{value:"1",children:"Aktif"}),o.jsx("option",{value:"0",children:"Pasif"})]})]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn primary",type:"submit",children:w?"Güncelle":"Ekle"}),w&&o.jsx("button",{className:"btn",type:"button",onClick:()=>{P(null),S(x)},children:"Vazgeç"})]})]})]}),o.jsxs("div",{className:"card",style:{marginBottom:8},children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Oteller"}),o.jsxs("div",{style:{display:"flex",gap:8,marginBottom:8},children:[o.jsx("input",{className:"input",placeholder:"Ara: ad, kod, şehir…",value:g,onChange:_=>b(_.target.value),onKeyDown:_=>_.key==="Enter"&&(i(1),B())}),o.jsx("button",{className:"btn",onClick:()=>(i(1),B()),children:"Ara"}),o.jsx("div",{style:{marginLeft:"auto"},children:o.jsx("button",{className:"btn",onClick:J,children:"+ Yeni"})})]}),f?"Yükleniyor…":o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Kod"}),o.jsx("th",{children:"Ad"}),o.jsx("th",{children:"Şehir"}),o.jsx("th",{children:"Durum"}),o.jsx("th",{children:"MTD Gelir"}),o.jsx("th",{style:{width:280},children:"Aksiyon"})]})}),o.jsxs("tbody",{children:[E.map(_=>o.jsxs("tr",{children:[o.jsx("td",{children:_.code}),o.jsx("td",{children:_.name}),o.jsx("td",{children:_.city||"—"}),o.jsx("td",{children:_.active!==!1?"Aktif":"Pasif"}),o.jsx("td",{children:zN(_.mtdRevenue||0)}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>ne(_),children:"Düzenle"}),o.jsx("button",{className:"btn",onClick:()=>V(_),children:_.active!==!1?"Pasifleştir":"Aktifleştir"}),o.jsx("button",{className:"btn",onClick:()=>se(_),children:"Otel olarak gir"}),o.jsx("button",{className:"btn danger",onClick:()=>T(_),children:"Sil"})]})})]},_._id)),E.length===0&&o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:6,children:"Kayıt bulunamadı"})})]})]})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:[o.jsxs("div",{className:"muted",style:{fontSize:12},children:["Toplam ",n," kayıt • Sayfa ",a,"/",s]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn",disabled:a<=1,onClick:()=>i(_=>_-1),children:"Önceki"}),o.jsx("button",{className:"btn",disabled:a>=s,onClick:()=>i(_=>_+1),children:"Sonraki"})]})]})]})]})}const _n=e=>{const t=e instanceof Date?e:new Date(e);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},ir=e=>{if(!e)return null;const[t,n,r]=e.split("-").map(Number);return new Date(t,n-1,r)},A1=()=>_n(new Date),D2=()=>{const e=new Date;return e.setDate(1),e.setHours(0,0,0,0),_n(e)},qN=()=>{const e=new Date;return e.setMonth(e.getMonth()+1,0),e.setHours(0,0,0,0),_n(e)},No=(e,t)=>{const n=ir(e);return n.setDate(n.getDate()+t),_n(n)},ov=(e,t)=>{const n=ir(e),r=ir(t);return Math.max(0,Math.round((r-n)/864e5))},um=(e,t)=>Math.max(1,ov(e,t)),pu=e=>new Date(e).toLocaleDateString("tr-TR"),mo=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",maximumFractionDigits:0}).format(Number(e||0)),$N=e=>["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"][e],HN=(e,t)=>_n(new Date(e,t,1)),VN=(e,t)=>_n(new Date(e,t+1,0));async function So(e,t,n){const r=No(n,1);let a=[],i=1;const s=200;for(;;)try{const{data:u}=await st.get(`${e}&start=${t}&end=${r}&page=${i}&limit=${s}`);if(a=a.concat(u.items||[]),a.length>=(u.total||a.length))break;i++}catch{break}return a}function WN({slices:e=[],size:t=180}){const n=e.reduce((c,f)=>c+f.value,0)||1,r=t/2-10,a=t/2,i=t/2;let s=0;const u=["#60a5fa","#34d399","#fbbf24","#f472b6","#a78bfa","#22d3ee","#fb7185","#f59e0b"];return o.jsxs("svg",{width:t,height:t,viewBox:`0 0 ${t} ${t}`,children:[o.jsx("circle",{cx:a,cy:i,r,fill:"none",stroke:"rgba(255,255,255,.06)",strokeWidth:"14"}),e.map((c,f)=>{const y=c.value/n*Math.PI*2,g=a+r*Math.cos(s),b=i+r*Math.sin(s);s+=y;const m=a+r*Math.cos(s),j=i+r*Math.sin(s),w=y>Math.PI?1:0,P=`M ${g} ${b} A ${r} ${r} 0 ${w} 1 ${m} ${j}`;return o.jsx("path",{d:P,stroke:u[f%u.length],strokeWidth:"14",fill:"none"},f)}),o.jsx("circle",{cx:a,cy:i,r:r-28,fill:"rgba(255,255,255,.03)"})]})}function GN({open:e,title:t,onClose:n,children:r}){return e?o.jsx("div",{style:{position:"fixed",inset:0,background:"rgba(2,6,23,.60)",zIndex:9999,display:"flex",alignItems:"center",justifyContent:"center",padding:12,backdropFilter:"blur(2px)"},onClick:n,children:o.jsxs("div",{className:"card",onClick:a=>a.stopPropagation(),style:{width:"min(740px, 92vw)",border:"1px solid rgba(255,255,255,.12)",background:"rgba(11,17,28,.96)",boxShadow:"0 18px 40px rgba(0,0,0,.55)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[o.jsx("div",{style:{fontWeight:700},children:t}),o.jsx("button",{className:"btn sm",onClick:n,children:"Kapat"})]}),r]})}):null}function KN({year:e,month:t,occupiedSet:n,onPrev:r,onNext:a,onDayClick:i}){const s=`
    .cal { border:1px solid var(--border,#263046); border-radius:14px; padding:10px; background:rgba(255,255,255,.02) }
    .cal-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:6px }
    .cal-title { font-weight:700; letter-spacing:.2px }
    .cal-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:5px; grid-auto-rows:42px }
    .cal-wd { text-align:center; font-size:12px; color:var(--muted,#9aa); font-weight:600 }
    .cell {
      display:flex; align-items:center; justify-content:center; border-radius:9px; user-select:none;
      border:1px solid rgba(255,255,255,.06); background:rgba(255,255,255,.01);
      font-weight:700; font-size:13px; color:rgba(255,255,255,.92)
    }
    .cell:hover { border-color:#2b3857; background:rgba(255,255,255,.02) }
    .occ { background: rgba(239,68,68,.14); border-color: rgba(239,68,68,.35); color:#ffd0d0; cursor:pointer }
    .today { outline:2px dashed rgba(255,255,255,.18); outline-offset:-4px; }
    .empty { opacity:.0 }
    .legend { display:flex; gap:12px; margin-top:8px; color:var(--muted); font-size:12px }
    .dot { width:11px; height:11px; border-radius:6px; display:inline-block; vertical-align:middle; margin-right:6px; border:1px solid rgba(255,255,255,.14) }
    .dot.occ { background: rgba(239,68,68,.18); border-color: rgba(239,68,68,.35) }
  `,c=((new Date(e,t,1).getDay()||7)+6)%7,f=new Date(e,t+1,0).getDate(),y=[];for(let b=0;b<c;b++)y.push(null);for(let b=1;b<=f;b++)y.push(new Date(e,t,b));const g=A1();return o.jsxs("div",{className:"cal",children:[o.jsx("style",{children:s}),o.jsxs("div",{className:"cal-head",children:[o.jsx("button",{type:"button",className:"btn sm",onClick:r,children:"‹"}),o.jsxs("div",{className:"cal-title",children:[$N(t)," ",e]}),o.jsx("button",{type:"button",className:"btn sm",onClick:a,children:"›"})]}),o.jsxs("div",{className:"cal-grid",children:[["Pzt","Sal","Çar","Per","Cum","Cmt","Paz"].map(b=>o.jsx("div",{className:"cal-wd",children:b},b)),y.map((b,m)=>{if(!b)return o.jsx("div",{className:"cell empty"},`e${m}`);const j=_n(b),w=n.has(j),P=j===g;return o.jsx("div",{className:`cell ${w?"occ":""} ${P?"today":""}`,onClick:()=>w&&(i==null?void 0:i(j)),title:w?"Dolu gün — tıkla":"",children:b.getDate()},j)})]}),o.jsxs("div",{className:"legend",children:[o.jsxs("span",{children:[o.jsx("span",{className:"dot occ"})," Dolu"]}),o.jsxs("span",{children:[o.jsx("span",{className:"dot"})," Boş"]})]})]})}function YN(){const[e,t]=ee.useState(!0),[n,r]=ee.useState(""),[a,i]=ee.useState({inhouse:0,arrivals:0,departures:0,mtdRevenue:0,mtdADR:0,mtdRevPAR:0,occToday:0,totalRooms:0}),[s,u]=ee.useState([]),[c,f]=ee.useState([]),[y,g]=ee.useState(""),[b,m]=ee.useState({start:D2(),end:qN()}),[j,w]=ee.useState(new Set),[P,x]=ee.useState([]),v=ir(b.start),[S,B]=ee.useState(v.getFullYear()),[J,ne]=ee.useState(v.getMonth()),U=(F,te)=>{B(F),ne(te),m({start:HN(F,te),end:VN(F,te)})},T=()=>{const F=new Date(S,J-1,1);U(F.getFullYear(),F.getMonth())},V=()=>{const F=new Date(S,J+1,1);U(F.getFullYear(),F.getMonth())},[se,E]=ee.useState({open:!1,date:"",items:[]});ee.useEffect(()=>{let F=!0;async function te(){var Z,de;t(!0),r("");try{let D=[];try{D=(await st.get("/rooms/types")).data||[]}catch{D=[]}const X=(D||[]).reduce((Je,Me)=>Je+Number(Me.totalRooms||0),0),re=A1(),ke=D2(),C="/reservations?status=confirmed",[$,q,Y]=await Promise.all([So(C,ke,re),So(C,No(re,-30),re),So(C,re,re)]),ae=Y.reduce((Je,Me)=>{const _e=new Date(Me.checkIn)<=ir(re)&&new Date(Me.checkOut)>ir(re);return Je+(_e?Number(Me.rooms||1):0)},0),fe=Y.filter(Je=>_n(new Date(Je.checkIn))===re).reduce((Je,Me)=>Je+Number(Me.rooms||1),0),ye=Y.filter(Je=>_n(new Date(Je.checkOut))===re).reduce((Je,Me)=>Je+Number(Me.rooms||1),0),ve=ov(ke,No(re,1)),Be=$.reduce((Je,Me)=>{const _e=new Date(Math.max(new Date(Me.checkIn),ir(ke))),qe=new Date(Math.min(new Date(Me.checkOut),ir(No(re,1)))),ze=Math.max(0,Math.round((qe-_e)/864e5));return Je+Number(Me.rooms||1)*ze},0),Ie=$.reduce((Je,Me)=>{const _e=um(_n(new Date(Me.checkIn)),_n(new Date(Me.checkOut))),qe=new Date(Math.max(new Date(Me.checkIn),ir(ke))),ze=new Date(Math.min(new Date(Me.checkOut),ir(No(re,1)))),Ge=Math.max(0,Math.round((ze-qe)/864e5)),et=Number(Me.totalPrice||0)*(Ge/_e);return Je+et},0),We=Be>0?Ie/Be:0,Ve=X>0&&ve>0?Ie/(X*ve):0,at=X>0?Math.min(100,Math.round(ae/X*100)):0,we={};q.forEach(Je=>{const Me=Je.channel||"other";we[Me]=(we[Me]||0)+1});const Q=Object.entries(we).map(([Je,Me])=>({label:Je,value:Me})).sort((Je,Me)=>Me.value-Je.value).slice(0,8);if(!F)return;i({inhouse:ae,arrivals:fe,departures:ye,mtdRevenue:Ie,mtdADR:We,mtdRevPAR:Ve,occToday:at,totalRooms:X}),u(Q),t(!1)}catch(D){if(!F)return;r(((de=(Z=D==null?void 0:D.response)==null?void 0:Z.data)==null?void 0:de.message)||"Bir şeyler ters gitti."),t(!1)}}return te(),()=>{F=!1}},[]),ee.useEffect(()=>{let F=!0;async function te(){try{const{data:Z}=await st.get("/rooms/types"),de=(Z||[]).map(D=>({key:D._id,label:`${D.name} (${D.code})`}));F&&(f(de),de.length&&!y&&g(de[0].key))}catch{try{const Z=await So("/reservations?status=confirmed",b.start,b.end),de=new Map;Z.forEach(X=>{var q,Y,ae;const re=((q=X.roomType)==null?void 0:q._id)||X.roomType||X.roomTypeId,ke=((Y=X.roomType)==null?void 0:Y.name)||X.roomTypeName||"Oda Tipi",C=((ae=X.roomType)==null?void 0:ae.code)||X.roomTypeCode||"—",$=re||`${ke} ${C}`;de.has($)||de.set($,{key:$,label:`${ke} (${C})`})});const D=Array.from(de.values());F&&(f(D),D.length&&!y&&g(D[0].key))}catch{}}}return te(),()=>{F=!1}},[b.start,b.end]),ee.useEffect(()=>{let F=!0;async function te(){if(!y){w(new Set),x([]);return}try{const Z=await So("/reservations?status=confirmed",b.start,b.end),de=new Set,D=[],X=ir(b.start),re=ir(No(b.end,1));Z.forEach(ke=>{var Y;const C=((Y=ke.roomType)==null?void 0:Y._id)||ke.roomType||ke.roomTypeId;if(String(C)!==String(y))return;D.push(ke);const $=new Date(Math.max(new Date(ke.checkIn).getTime(),X.getTime())),q=new Date(Math.min(new Date(ke.checkOut).getTime(),re.getTime()));for(let ae=new Date($);ae<q;ae.setDate(ae.getDate()+1))de.add(_n(ae))}),F&&(w(de),x(D))}catch{F&&(w(new Set),x([]))}}return te(),()=>{F=!1}},[y,b.start,b.end]);const _=F=>{const te=P.filter(Z=>{const de=ir(_n(new Date(Z.checkIn))),D=ir(_n(new Date(Z.checkOut))),X=ir(F);return X>=de&&X<D});E({open:!0,date:F,items:te})},W=ee.useMemo(()=>[{label:"İçeride (in-house)",value:a.inhouse},{label:"Bugün Giriş",value:a.arrivals},{label:"Bugün Çıkış",value:a.departures},{label:"MTD Gelir",value:mo(a.mtdRevenue)},{label:"MTD ADR",value:mo(a.mtdADR)},{label:"MTD RevPAR",value:mo(a.mtdRevPAR)},{label:"Doluluk % (bugün)",value:`${a.occToday}%`},{label:"Toplam Oda",value:a.totalRooms}],[a]);return o.jsxs("div",{children:[o.jsx(qs,{title:"Otel Dashboard",subtitle:"Bugün • MTD — KPI’lar, kanal dağılımı ve oda doluluk takvimi"}),o.jsx("div",{className:"kpis",style:{gridTemplateColumns:"repeat(4, minmax(0,1fr))"},children:W.map((F,te)=>o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",children:F.label}),o.jsx("div",{className:"value",children:e?"—":F.value})]},te))}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.35fr .8fr",gap:16,marginTop:16,alignItems:"stretch"},children:[o.jsxs("div",{className:"card",style:{minHeight:220},children:[o.jsx("div",{className:"label",style:{marginBottom:6},children:"Oda Doluluk Takvimi"}),o.jsxs("div",{className:"form-grid",style:{marginBottom:8},children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Tipi"}),o.jsxs("select",{className:"select",value:y,onChange:F=>g(F.target.value),children:[c.length===0&&o.jsx("option",{value:"",children:"—"}),c.map(F=>o.jsx("option",{value:F.key,children:F.label},F.key))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Başlangıç"}),o.jsx("input",{className:"input",type:"date",value:b.start,onChange:F=>{const te=ir(F.target.value);U(te.getFullYear(),te.getMonth())}})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Bitiş"}),o.jsx("input",{className:"input",type:"date",value:b.end,onChange:F=>m(te=>({...te,end:F.target.value}))})]})]}),o.jsx(KN,{year:S,month:J,occupiedSet:j,onPrev:T,onNext:V,onDayClick:_})]}),o.jsxs("div",{className:"card",style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:12,alignItems:"center",minHeight:220},children:[o.jsx("div",{className:"label",style:{gridColumn:"1 / -1"},children:"Son 30 Gün Kanal Dağılımı"}),e?o.jsx("div",{className:"muted",style:{gridColumn:"1 / -1"},children:"Yükleniyor…"}):o.jsxs(o.Fragment,{children:[o.jsx(WN,{slices:s}),o.jsx("div",{children:(s.length?s:[{label:"Kayıt yok",value:1}]).map((F,te)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:6},children:[o.jsx("span",{className:"muted",children:F.label}),o.jsx("b",{children:F.value})]},te))})]})]})]}),o.jsx(JN,{}),!!n&&o.jsxs("div",{className:"card",style:{marginTop:16,borderColor:"rgba(239,68,68,.35)",background:"rgba(239,68,68,.06)"},children:[o.jsx("div",{style:{fontWeight:700,marginBottom:6},children:"Uyarı"}),n]}),o.jsx(GN,{open:se.open,onClose:()=>E(F=>({...F,open:!1})),title:`Dolu Gün • ${pu(se.date)}`,children:se.items.length===0?o.jsx("div",{className:"muted",children:"Kayıt bulunamadı."}):o.jsx("div",{style:{display:"grid",gap:8,maxHeight:"60vh",overflow:"auto"},children:se.items.map(F=>{var re,ke,C,$;const te=Number(F.depositAmount||0),Z=Number(F.totalPrice||0),de=Math.max(0,Z-te),D=((re=F.roomType)==null?void 0:re.name)||F.roomTypeName||"",X=((ke=F.roomType)==null?void 0:ke.code)||F.roomTypeCode||"";return o.jsx("div",{className:"card",style:{padding:"10px",background:"rgba(255,255,255,.04)",border:"1px solid rgba(255,255,255,.08)"},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",rowGap:4,columnGap:12,fontSize:14},children:[o.jsxs("div",{children:[o.jsx("b",{children:"Misafir:"})," ",((C=F.guest)==null?void 0:C.name)||F.guestName||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Telefon:"})," ",(($=F.guest)==null?void 0:$.phone)||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Giriş:"})," ",pu(F.checkIn)]}),o.jsxs("div",{children:[o.jsx("b",{children:"Çıkış:"})," ",pu(F.checkOut),"   ",o.jsxs("span",{className:"muted",children:["(",um(_n(new Date(F.checkIn)),_n(new Date(F.checkOut)))," gece)"]})]}),o.jsxs("div",{children:[o.jsx("b",{children:"Oda Tipi:"})," ",D||"—"," ",X?`(${X})`:""]}),o.jsxs("div",{children:[o.jsx("b",{children:"Kanal:"})," ",F.channel||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Durum:"})," ",F.status||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Oda:"})," ",F.rooms??1]}),o.jsxs("div",{children:[o.jsx("b",{children:"Toplam:"})," ",mo(Z),"   ",o.jsx("b",{children:"Kapora:"})," ",mo(te),"   ",o.jsx("b",{children:"Kalan:"})," ",mo(de)]})]})},F._id)})})})]})}function JN(){const[e,t]=ee.useState(!0),[n,r]=ee.useState([]),[a,i]=ee.useState([]);ee.useEffect(()=>{let c=!0;async function f(){t(!0);const y=A1(),b=await So("/reservations?status=confirmed",y,y);c&&(r(b.filter(m=>_n(new Date(m.checkIn))===y).slice(0,6)),i(b.filter(m=>_n(new Date(m.checkOut))===y).slice(0,6)),t(!1))}return f(),()=>{c=!1}},[]);const s=c=>{const f=c.roomType;return f&&(f.name||f.code)?`${f.name||""}${f.code?` (${f.code})`:""}`:c.roomTypeName?`${c.roomTypeName}${c.roomTypeCode?` (${c.roomTypeCode})`:""}`:"—"},u=c=>um(_n(new Date(c.checkIn)),_n(new Date(c.checkOut)));return o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,marginTop:16},children:[o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Bugün Girişler"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Misafir"}),o.jsx("th",{children:"Oda Tipi"}),o.jsx("th",{children:"Gece"}),o.jsx("th",{children:"Kanal"}),o.jsx("th",{children:"Giriş"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:5,children:"Yükleniyor…"})}):n.length?n.map(c=>{var f;return o.jsxs("tr",{children:[o.jsx("td",{children:((f=c.guest)==null?void 0:f.name)||c.guestName}),o.jsx("td",{children:s(c)}),o.jsx("td",{children:u(c)}),o.jsx("td",{className:"muted",children:c.channel||"—"}),o.jsx("td",{className:"muted",children:pu(c.checkIn)})]},c._id)}):o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:5,children:"Kayıt yok"})})})]})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Bugün Çıkışlar"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Misafir"}),o.jsx("th",{children:"Oda Tipi"}),o.jsx("th",{children:"Gece"}),o.jsx("th",{children:"Kanal"}),o.jsx("th",{children:"Çıkış"})]})}),o.jsx("tbody",{children:e?o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:5,children:"Yükleniyor…"})}):a.length?a.map(c=>{var f;return o.jsxs("tr",{children:[o.jsx("td",{children:((f=c.guest)==null?void 0:f.name)||c.guestName}),o.jsx("td",{children:s(c)}),o.jsx("td",{children:u(c)}),o.jsx("td",{className:"muted",children:c.channel||"—"}),o.jsx("td",{className:"muted",children:pu(c.checkOut)})]},c._id)}):o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:5,children:"Kayıt yok"})})})]})]})]})}function XN({value:e,onChange:t}){const[n,r]=ee.useState(""),[a,i]=ee.useState([]),[s,u]=ee.useState(!1),c=ee.useRef(null);ee.useEffect(()=>{const g=b=>{c.current&&!c.current.contains(b.target)&&u(!1)};return document.addEventListener("click",g),()=>document.removeEventListener("click",g)},[]),ee.useEffect(()=>{let g=!1;return(async()=>{if(!n||n.length<2){i([]);return}const{data:m}=await st.get("/guests/search?q="+encodeURIComponent(n));g||i(m)})(),()=>{g=!0}},[n]);const f=g=>{t({guestId:g._id,guest:null,name:g.name,email:g.email||"",phone:g.phone||""}),r(g.name),u(!1)},y=()=>{const g=n.trim();g&&(t({guestId:null,guest:{name:g,email:"",phone:""},name:g,email:"",phone:""}),u(!1))};return o.jsxs("div",{ref:c,style:{position:"relative"},children:[o.jsx("input",{className:"input",placeholder:"Misafir Adı (ara: ad / telefon / e-posta)",value:n,onChange:g=>{r(g.target.value),u(!0)},onFocus:()=>u(!0)}),s&&o.jsx("div",{style:{position:"absolute",zIndex:30,left:0,right:0,top:"100%",background:"#0f172a",border:"1px solid rgba(255,255,255,.08)",borderRadius:10,padding:6,maxHeight:220,overflow:"auto"},children:a.length===0?o.jsxs("div",{style:{padding:8,fontSize:12,opacity:.8},children:["Sonuç yok. ",o.jsxs("button",{className:"btn",onClick:y,children:["“",n,"” adına yeni misafir oluştur"]})]}):a.map(g=>o.jsxs("div",{onClick:()=>f(g),style:{padding:"8px 10px",borderRadius:8,cursor:"pointer",display:"flex",justifyContent:"space-between"},className:"hover:bg-slate-800",children:[o.jsxs("div",{children:[o.jsx("div",{style:{fontWeight:600},children:g.name}),o.jsxs("div",{className:"muted",style:{fontSize:12},children:[g.phone||"—"," • ",g.email||"—"]})]}),g.vip&&o.jsx("span",{style:{fontSize:12,color:"#fbbf24"},children:"VIP"}),g.blacklist&&o.jsx("span",{style:{fontSize:12,color:"#ef4444"},children:"BLACKLIST"})]},g._id))})]})}function cm({open:e,onClose:t,title:n,children:r,width:a=460}){return e?o.jsxs("div",{style:{position:"fixed",inset:0,zIndex:60},children:[o.jsx("div",{onClick:t,style:{position:"absolute",inset:0,background:"rgba(0,0,0,.5)"}}),o.jsxs("aside",{style:{position:"absolute",top:0,right:0,bottom:0,width:a,background:"#0b1220",borderLeft:"1px solid rgba(255,255,255,.08)",boxShadow:"-10px 0 40px rgba(0,0,0,.35)",padding:16,overflow:"auto"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[o.jsx("div",{className:"label",children:n}),o.jsx("button",{className:"btn",onClick:t,children:"Kapat"})]}),r]})]}):null}function QN({checkIn:e,checkOut:t,baseDate:n=new Date}){const r=new Date(n);r.setHours(0,0,0,0);const a=(r.getDay()+6)%7;r.setDate(r.getDate()-a);const i=Array.from({length:14}).map((c,f)=>{const y=new Date(r);return y.setDate(r.getDate()+f),y}),s=new Date(e);s.setHours(0,0,0,0);const u=new Date(t);return u.setHours(0,0,0,0),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(14,1fr)",gap:2,minWidth:180},children:i.map((c,f)=>{const y=c>=s&&c<u;return o.jsx("div",{title:c.toLocaleDateString(),style:{height:8,borderRadius:3,background:y?"rgba(59,130,246,.9)":"rgba(255,255,255,.08)"}},f)})})}const Xc=["confirmed","pending","cancelled"],Wh=["direct","airbnb","booking","etstur"],Yl=(e,t="İşlem başarısız")=>{var a;const n=(a=e==null?void 0:e.response)==null?void 0:a.data,r=n==null?void 0:n.errors;if(Array.isArray(r)&&r.length){const i=r.map(s=>{const u=s.param??s.path??"",c=s.value!==void 0?typeof s.value=="object"?JSON.stringify(s.value):String(s.value):void 0;return`• ${s.msg}${u?` [${u}]`:""}${c!==void 0?` ← ${c}`:""}`}).join(`
`);alert(`Doğrulama hatası:
`+i),console.error("API validation errors:",r,"raw:",n)}else alert((n==null?void 0:n.message)||e.message||t),console.error("API error raw response:",n||e)},ri=e=>e?(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)?new Date(e.split("-")[0],Number(e.split("-")[1])-1,e.split("-")[2]):new Date(e)).toLocaleDateString("tr-TR"):"—",qi=e=>{const t=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),r=String(e.getDate()).padStart(2,"0");return`${t}-${n}-${r}`},go=()=>qi(new Date),ni=e=>{if(!e)return null;if(e instanceof Date)return new Date(e.getFullYear(),e.getMonth(),e.getDate());if(typeof e=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(e)){const[n,r,a]=e.split("-").map(Number);return new Date(n,r-1,a)}const t=new Date(e);return new Date(t.getFullYear(),t.getMonth(),t.getDate())},dm=(e,t)=>{const n=ni(e),r=ni(t);return!n||!r?0:Math.max(1,Math.round((r-n)/864e5))},qr=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(e||0)),yo=(e,t)=>{const[n,r]=ee.useState(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch{return t}});return ee.useEffect(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,r]};function ZN({start:e,end:t,onChange:n}){const[r,a]=ee.useState(!1),[i,s]=ee.useState(!1),u=ee.useRef(null),c=E=>E?ni(E):null,[f,y]=ee.useState(c(e)||new Date),[g,b]=ee.useState(c(e)),[m,j]=ee.useState(c(t));ee.useEffect(()=>{r&&(b(c(e)),j(c(t)),y(c(e)||new Date));const E=W=>{r&&u.current&&!u.current.contains(W.target)&&a(!1)},_=W=>{W.key==="Escape"&&a(!1)};return document.addEventListener("mousedown",E),document.addEventListener("keydown",_),()=>{document.removeEventListener("mousedown",E),document.removeEventListener("keydown",_)}},[r,e,t]);const w=()=>{a(!1),s(!0)},P=(E,_)=>{const W=new Date(E);return W.setMonth(W.getMonth()+_),W},x=E=>new Date(E.getFullYear(),E.getMonth(),E.getDate()),v=E=>g&&m&&x(E)>=x(g)&&x(E)<=x(m),S=(E,_)=>E&&_&&E.getFullYear()===_.getFullYear()&&E.getMonth()===_.getMonth()&&E.getDate()===_.getDate(),B=()=>{const E=f.getFullYear(),_=f.getMonth(),F=(new Date(E,_,1).getDay()+6)%7,te=new Date(E,_,1-F),Z=[];for(let de=0;de<42;de++){const D=new Date(te);D.setDate(te.getDate()+de),Z.push(D)}return Z},J=E=>{if(!g||g&&m)b(E),j(null);else if(E<g)b(E);else{const _=qi(g),W=qi(E);j(E),n(_,W),i||w()}},ne=()=>{b(null),j(null),n("","")},U=()=>{const E=new Date,_=new Date(E);_.setDate(_.getDate()+1),n(qi(E),qi(_)),b(E),j(_),i||w()},T=e?c(e):null,V=t?c(t):null,se=T&&V?`${T.toLocaleDateString("tr-TR")} — ${V.toLocaleDateString("tr-TR")}`:T?`${T.toLocaleDateString("tr-TR")} — …`:"Tarih aralığını seç";return o.jsxs("div",{style:{position:"relative"},children:[o.jsxs("button",{type:"button",className:"input",onClick:()=>a(!0),style:{textAlign:"left",display:"flex",justifyContent:"space-between",alignItems:"center",padding:"10px 12px",border:"1px solid rgba(34,211,238,.35)",background:"linear-gradient(135deg, rgba(52,211,153,.06), rgba(34,211,238,.06))"},children:[o.jsx("span",{children:se}),o.jsx("span",{"aria-hidden":!0,children:"📅"})]}),r&&o.jsxs("div",{ref:u,className:"card",style:{position:"absolute",zIndex:1e3,top:"calc(100% + 6px)",left:0,width:320,padding:10,background:"rgba(11,18,32,.98)",border:"1px solid rgba(255,255,255,.08)",boxShadow:"0 12px 30px rgba(0,0,0,.45)",backdropFilter:"blur(2px)"},children:[o.jsx("div",{className:"label",style:{marginBottom:6,display:"inline-block",padding:"4px 8px",borderRadius:999,background:"linear-gradient(135deg, rgba(52,211,153,.15), rgba(34,211,238,.15))",border:"1px solid rgba(34,211,238,.35)"},children:"Tarih aralığını seç"}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"6px 0 8px 0"},children:[o.jsx("button",{type:"button",className:"btn",onClick:()=>y(E=>P(E,-1)),children:"←"}),o.jsx("div",{children:o.jsx("b",{children:f.toLocaleDateString("tr-TR",{year:"numeric",month:"long"})})}),o.jsx("button",{type:"button",className:"btn",onClick:()=>y(E=>P(E,1)),children:"→"})]}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4,textAlign:"center",fontSize:12,opacity:.7,marginBottom:4},children:["Pt","Sa","Ça","Pe","Cu","Ct","Pa"].map(E=>o.jsx("div",{children:E},E))}),o.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(7, 1fr)",gap:4},children:B().map((E,_)=>{const W=E.getMonth()===f.getMonth(),F=g&&S(E,g),te=m&&S(E,m),Z=v(E)&&!F&&!te;return o.jsx("button",{type:"button",onClick:()=>J(new Date(E)),disabled:!W,className:"btn",style:{padding:"6px 0",opacity:W?1:.35,background:F||te?"linear-gradient(135deg, #34d399, #22d3ee)":Z?"rgba(34,211,238,.15)":"transparent",border:F||te?"1px solid rgba(34,211,238,.45)":"1px solid rgba(255,255,255,.08)",color:F||te?"#0b1220":"inherit",borderRadius:F||te?10:8},children:E.getDate()},_)})}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginTop:8,gap:6},children:[o.jsx("button",{type:"button",className:"btn",onMouseDown:E=>E.stopPropagation(),onClick:ne,children:"Temizle"}),o.jsxs("div",{style:{display:"flex",gap:6},children:[o.jsx("button",{type:"button",className:"btn",onMouseDown:E=>E.stopPropagation(),onClick:U,children:"Bugün"}),o.jsx("button",{type:"button",className:"btn",onMouseDown:E=>E.stopPropagation(),onClick:w,children:"Kapat"})]})]})]})]})}function e6({open:e,onClose:t,reservation:n,onChanged:r}){var _,W,F,te,Z,de;const[a,i]=ee.useState("summary"),[s,u]=ee.useState({fullName:((_=n==null?void 0:n.guest)==null?void 0:_.name)||(n==null?void 0:n.guestName)||"",nationality:"TC",tckn:"",passportNo:"",birthDate:"",country:""}),[c,f]=ee.useState([]),[y,g]=ee.useState("Mini Bar"),[b,m]=ee.useState(""),[j,w]=ee.useState("TRY"),[P,x]=ee.useState([]),v=Number((n==null?void 0:n.totalPrice)||0),S=Number((n==null?void 0:n.depositAmount)||0),B=Math.max(0,v-S),J=dm(n==null?void 0:n.checkIn,n==null?void 0:n.checkOut),ne=ee.useMemo(()=>P.filter(D=>(D.type||"expense")!=="income").reduce((D,X)=>D+Number(X.amount||0),0),[P]);ee.useEffect(()=>{if(!e)return;const D=document.body.style.overflow;return document.body.style.overflow="hidden",()=>{document.body.style.overflow=D}},[e]),ee.useEffect(()=>{!e||!(n!=null&&n._id)||(async()=>{try{const{data:D}=await st.get(`/finance/transactions?reservation=${n._id}`),X=Array.isArray(D)?D:D.items||D.data||[];x(X)}catch{}try{const{data:D}=await st.get(`/reservations/${n._id}/guests`);D!=null&&D.owner&&u(X=>({...X,...D.owner})),Array.isArray(D==null?void 0:D.companions)&&f(D.companions)}catch{}})()},[e,n==null?void 0:n._id]);const U=()=>f(D=>[...D,{fullName:"",nationality:"TC",tckn:"",passportNo:"",birthDate:"",country:""}]),T=(D,X)=>f(re=>re.map((ke,C)=>C===D?{...ke,...X}:ke)),V=D=>f(X=>X.filter((re,ke)=>ke!==D)),se=async()=>{try{await st.post(`/reservations/${n._id}/guests`,{owner:s,companions:c}),r==null||r(),alert("Misafir bilgileri kaydedildi."),i("summary")}catch{alert("Misafir bilgileri kaydedilemedi.")}},E=async()=>{var D;if(b)try{await st.post("/finance/transactions",{reservation:n._id,hotel:((D=n.hotel)==null?void 0:D._id)||n.hotel,type:"expense",amount:Number(b),currency:j,category:y,description:`Popup üzerinden eklendi (${y})`,date:new Date().toISOString()}),m("");const{data:X}=await st.get(`/finance/transactions?reservation=${n._id}`),re=Array.isArray(X)?X:X.items||X.data||[];x(re),r==null||r()}catch{alert("Cari işlem kaydedilemedi.")}};return e?o.jsx("div",{style:{position:"fixed",inset:0,zIndex:2e3,background:"rgba(7,10,18,.92)"},onClick:t,children:o.jsxs("div",{className:"card",onClick:D=>D.stopPropagation(),style:{position:"relative",margin:"6% auto",maxWidth:880,width:"92%",maxHeight:"82vh",overflow:"auto",padding:16,border:"1px solid rgba(255,255,255,.08)"},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[o.jsx("div",{className:"label",children:"Rezervasyon Özeti"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:`btn ${a==="guests"?"primary":""}`,onClick:()=>i("guests"),children:"Misafir Ekle"}),o.jsx("button",{className:`btn ${a==="ledger"?"primary":""}`,onClick:()=>i("ledger"),children:"Cari Hesap Ekle"}),o.jsx("button",{className:"btn",onClick:t,children:"Kapat"})]})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12,marginBottom:12},children:[o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Ad Soyad"}),o.jsx("div",{style:{fontSize:18},children:((W=n==null?void 0:n.guest)==null?void 0:W.name)||(n==null?void 0:n.guestName)||"—"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("div",{className:"muted",children:"Rezervasyon Toplamı"}),o.jsx("div",{style:{fontSize:18},children:qr(v)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Telefon"}),o.jsx("div",{children:((F=n==null?void 0:n.guest)==null?void 0:F.phone)||"—"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("div",{className:"muted",children:"Alınan Kapora"}),o.jsx("div",{children:qr(S)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"E-posta"}),o.jsx("div",{children:((te=n==null?void 0:n.guest)==null?void 0:te.email)||"—"})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[o.jsx("div",{className:"muted",children:"Kalan"}),o.jsx("div",{children:qr(B)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Giriş Tarihi"}),o.jsx("div",{children:ri(n==null?void 0:n.checkIn)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Cari Bakiye (harcama toplamı)"}),o.jsx("div",{children:qr(ne)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Çıkış Tarihi"}),o.jsx("div",{children:ri(n==null?void 0:n.checkOut)})]}),o.jsxs("div",{children:[o.jsx("div",{className:"muted",children:"Gece Sayısı"}),o.jsx("div",{children:J||0})]})]}),a==="summary"&&o.jsx("div",{className:"muted",children:"İşlem yapmak için üstteki butonları kullanabilirsin."}),a==="guests"&&o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{className:"label",children:"Rezervasyon Sahibi"}),o.jsx("div",{className:"card",style:{padding:12},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr .8fr",gap:10},children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ad Soyad"}),o.jsx("input",{className:"input",value:s.fullName,onChange:D=>u(X=>({...X,fullName:D.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Uyruk"}),o.jsxs("select",{className:"select",value:s.nationality,onChange:D=>u(X=>({...X,nationality:D.target.value})),children:[o.jsx("option",{value:"TC",children:"TC"}),o.jsx("option",{value:"FOREIGN",children:"Yabancı"})]})]}),s.nationality==="TC"?o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"TCKN"}),o.jsx("input",{className:"input",value:s.tckn,onChange:D=>u(X=>({...X,tckn:D.target.value}))})]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Pasaport No"}),o.jsx("input",{className:"input",value:s.passportNo,onChange:D=>u(X=>({...X,passportNo:D.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Doğum Tarihi"}),o.jsx("input",{className:"input",type:"date",value:s.birthDate,onChange:D=>u(X=>({...X,birthDate:D.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ülke"}),o.jsx("input",{className:"input",value:s.country,onChange:D=>u(X=>({...X,country:D.target.value}))})]})]})]})}),o.jsxs("div",{className:"label",style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[o.jsx("span",{children:"Yanında Konaklayanlar"}),o.jsx("button",{className:"btn",onClick:U,children:"+ Ekle"})]}),c.map((D,X)=>o.jsx("div",{className:"card",style:{padding:12},children:o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr .6fr .6fr .6fr .6fr",gap:10,alignItems:"end"},children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ad Soyad"}),o.jsx("input",{className:"input",value:D.fullName,onChange:re=>T(X,{fullName:re.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Uyruk"}),o.jsxs("select",{className:"select",value:D.nationality,onChange:re=>T(X,{nationality:re.target.value}),children:[o.jsx("option",{value:"TC",children:"TC"}),o.jsx("option",{value:"FOREIGN",children:"Yabancı"})]})]}),D.nationality==="TC"?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"TCKN"}),o.jsx("input",{className:"input",value:D.tckn,onChange:re=>T(X,{tckn:re.target.value})})]}),o.jsx("div",{}),o.jsx("div",{})]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Pasaport No"}),o.jsx("input",{className:"input",value:D.passportNo,onChange:re=>T(X,{passportNo:re.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Doğum Tarihi"}),o.jsx("input",{className:"input",type:"date",value:D.birthDate,onChange:re=>T(X,{birthDate:re.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ülke"}),o.jsx("input",{className:"input",value:D.country,onChange:re=>T(X,{country:re.target.value})})]})]}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end"},children:o.jsx("button",{className:"btn",onClick:()=>V(X),children:"Sil"})})]})},X)),o.jsxs("div",{className:"card",style:{padding:10},children:[o.jsx("div",{className:"label",style:{marginBottom:6},children:"Eklenen Misafirler"}),c.length===0?o.jsx("div",{className:"muted",children:"Henüz ekli misafir yok."}):o.jsx("div",{style:{display:"grid",gap:6},children:c.map((D,X)=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 140px 160px",gap:8,borderBottom:"1px solid rgba(255,255,255,.06)",paddingBottom:6},children:[o.jsx("div",{children:D.fullName||"—"}),o.jsx("div",{className:"muted",children:D.nationality==="TC"?"TC":"Yabancı"}),o.jsx("div",{className:"muted",children:D.nationality==="TC"?D.tckn||"—":[D.passportNo||"—",D.birthDate||"—",D.country||"—"].filter(Boolean).join(" • ")})]},`sum-${X}`))})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:[o.jsx("button",{className:"btn",onClick:t,children:"Kapat"}),o.jsx("button",{className:"btn primary",onClick:se,children:"Kaydet"})]})]}),a==="ledger"&&o.jsxs("div",{style:{display:"grid",gap:12},children:[o.jsx("div",{className:"label",children:"Cari Hesap"}),o.jsx("div",{className:"muted",children:o.jsxs("div",{children:[o.jsx("b",{children:((Z=n==null?void 0:n.guest)==null?void 0:Z.name)||(n==null?void 0:n.guestName)||"—"})," • Oda: ",((de=n==null?void 0:n.roomType)==null?void 0:de.name)||"—"," • ",ri(n==null?void 0:n.checkIn)," → ",ri(n==null?void 0:n.checkOut)]})}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr 1fr .8fr auto",gap:8,alignItems:"end"},children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Harcama Tipi"}),o.jsx("input",{className:"input",value:y,onChange:D=>g(D.target.value),placeholder:"Örn. Mini Bar"})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tutar"}),o.jsx("input",{className:"input",type:"number",min:"0",value:b,onChange:D=>m(D.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Döviz"}),o.jsxs("select",{className:"select",value:j,onChange:D=>w(D.target.value),children:[o.jsx("option",{children:"TRY"}),o.jsx("option",{children:"USD"}),o.jsx("option",{children:"EUR"}),o.jsx("option",{children:"GBP"})]})]}),o.jsx("button",{className:"btn primary",onClick:E,children:"Ekle"})]}),o.jsxs("div",{className:"card",style:{padding:10},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:8},children:[o.jsx("div",{className:"label",style:{margin:0},children:"İşlemler"}),o.jsxs("div",{className:"muted",children:["Cari Bakiye (harcama toplamı): ",o.jsx("b",{children:qr(ne)})]})]}),P.length===0?o.jsx("div",{className:"muted",children:"Henüz işlem yok."}):o.jsx("div",{style:{display:"grid",gap:8},children:P.map(D=>o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"160px 1fr 120px 120px",gap:8,alignItems:"center",borderBottom:"1px solid rgba(255,255,255,.06)",paddingBottom:6},children:[o.jsx("div",{className:"muted",children:new Date(D.date||Date.now()).toLocaleString("tr-TR")}),o.jsx("div",{children:D.category||"-"}),o.jsx("div",{children:(D.type||"expense")==="income"?"Tahsilat":"Gider"}),o.jsxs("div",{style:{textAlign:"right"},children:[Number(D.amount||0).toLocaleString("tr-TR")," ",D.currency||"TRY"]})]},D._id||D.date+D.amount))})]}),o.jsx("div",{style:{display:"flex",justifyContent:"flex-end",gap:8},children:o.jsx("button",{className:"btn",onClick:t,children:"Kapat"})})]})]})}):null}function lv({forceHotelIdForMaster:e}){var Dt,ct,Rt,Yr,Qt,dr,fr,lt;const n=localStorage.getItem("role")==="MASTER_ADMIN",r=!!e,[a,i]=ee.useState([]),[s,u]=ee.useState(0),[c,f]=yo("resv.page",1),[y,g]=ee.useState(1),[b]=ee.useState(10),[m,j]=ee.useState(!1),[w,P]=yo("resv.filters",{start:"",end:"",status:"",channel:"",guest:"",hotelId:n&&!r?"":localStorage.getItem("hotelId")||""}),[x,v]=yo("resv.sort",{by:"checkIn",dir:"desc"}),[S,B]=ee.useState([]),[J,ne]=ee.useState([]),U={guestId:"",guest:null,guestName:"",checkIn:"",checkOut:"",adults:2,children:0,rooms:1,roomType:"",channel:"direct",status:"confirmed",arrivalTime:"",paymentMethod:"",paymentStatus:"unpaid",notes:"",totalPrice:"",depositAmount:""},[T,V]=ee.useState(U),[se,E]=ee.useState(null),[_,W]=ee.useState(!1),[F,te]=ee.useState(!1),[Z,de]=ee.useState(null),[D,X]=ee.useState([]),[re,ke]=yo("resv.views",[]),[C,$]=yo("resv.filtersOpen",!1),q=ee.useMemo(()=>{let G=0;return w.start&&G++,w.end&&G++,w.status&&G++,w.channel&&G++,w.guest&&G++,n&&!r&&w.hotelId&&G++,G},[w,n,r]),[Y,ae]=yo("resv.createOpen",!1),[fe,ye]=ee.useState(!1),[ve,Be]=ee.useState(null),Ie=T.checkIn&&T.checkOut?dm(T.checkIn,T.checkOut):0,We=Number(T.rooms||1),Ve=Number(T.totalPrice||0),at=Number(T.depositAmount||0),we=Math.max(0,Ve-at),Q=Ie>0?Ve/(Ie*(We||1)):0,Je=T.checkIn&&T.checkOut&&ni(T.checkOut)<=ni(T.checkIn),Me=at>Ve;ee.useEffect(()=>{n&&!r&&st.get("/hotels").then(G=>B(G.data)),st.get("/rooms/types").then(G=>ne(G.data))},[n,r]);const _e=()=>{const G=new URLSearchParams;G.set("page",c),G.set("limit",b);const Re=!!w.start,pt=!!w.end&&(!w.start||ni(w.end)>=ni(w.start));return Re&&G.set("start",w.start),pt&&G.set("end",w.end),w.status&&G.set("status",w.status),w.channel&&G.set("channel",w.channel),w.guest&&G.set("guest",w.guest),r?G.set("hotelId",e):n&&w.hotelId&&G.set("hotelId",w.hotelId),G.toString()},qe=ee.useRef(!1),ze=async()=>{if(!qe.current){qe.current=!0;try{j(!0);const G=_e(),{data:Re}=await st.get(`/reservations?${G}`),pt=[...Re.items].sort((Lt,It)=>{const Vt=(yt,wt)=>yt==="checkIn"||yt==="checkOut"?new Date(wt).getTime():typeof wt=="string"?wt.toLowerCase():Number(wt||0),mn=Vt(x.by,Lt[x.by]),zt=Vt(x.by,It[x.by]);return x.dir==="asc"?mn-zt:zt-mn});i(pt),u(Re.total),g(Re.pages),X([])}finally{j(!1),qe.current=!1}}};ee.useEffect(()=>{ze()},[c,x.by,x.dir]);const Ge=ee.useRef(null),et=async G=>{G.preventDefault(),f(1),await ze()},it=G=>{P(Re=>G(Re)),Ge.current&&clearTimeout(Ge.current),Ge.current=setTimeout(()=>{f(1),ze()},450)},z={arrivals:()=>it(G=>({...G,start:go(),end:go(),status:"",channel:"",guest:""})),departures:()=>it(G=>({...G,start:go(),end:go()})),inhouse:()=>it(G=>({...G,start:go(),end:go(),status:"confirmed"}))},ge=()=>{P({start:"",end:"",status:"",channel:"",guest:"",hotelId:n&&!r?"":localStorage.getItem("hotelId")||""}),f(1),ze()},Ee=async G=>{var pt;if(G.preventDefault(),Je){alert("Çıkış tarihi, giriş tarihinden sonra olmalı.");return}if(Me){alert("Kapora toplam tutarı aşamaz.");return}const Re={guestId:T.guestId||void 0,guest:T.guest||void 0,guestName:((pt=T.guest)==null?void 0:pt.name)||T.guestName||"",checkIn:T.checkIn,checkOut:T.checkOut,adults:Number(T.adults||0),children:Number(T.children||0),rooms:Number(T.rooms||1),roomType:T.roomType,channel:T.channel,status:T.status,arrivalTime:T.arrivalTime||"",paymentMethod:T.paymentMethod||"",paymentStatus:T.paymentStatus||"unpaid",notes:T.notes||"",totalPrice:Number(T.totalPrice||0),depositAmount:Number(T.depositAmount||0),...n&&r?{hotelId:e}:{}};try{await st.post("/reservations",Re),V(U),P(Lt=>({...Lt,start:Re.checkIn,end:Re.checkOut,status:"",channel:"",guest:""})),f(1),await ze(),alert("Rezervasyon eklendi.")}catch(Lt){Yl(Lt,"Rezervasyon kaydedilemedi")}},De=async(G,Re)=>{try{await st.patch(`/reservations/${G}/status`,{status:Re}),await ze()}catch(pt){Yl(pt,"Durum güncellenemedi")}},Ce=G=>{var Re,pt;de({...G,checkIn:(Re=G.checkIn)==null?void 0:Re.slice(0,10),checkOut:(pt=G.checkOut)==null?void 0:pt.slice(0,10),totalPrice:G.totalPrice??"",depositAmount:G.depositAmount??""}),te(!0)},$e=async G=>{var It,Vt;if(G.preventDefault(),ni(Z.checkOut)<=ni(Z.checkIn)){alert("Çıkış tarihi, girişten sonra olmalı.");return}if(Number(Z.depositAmount||0)>Number(Z.totalPrice||0)){alert("Kapora toplamı aşamaz.");return}const pt=Z._id,Lt={guestName:((It=Z.guest)==null?void 0:It.name)||Z.guestName,checkIn:Z.checkIn,checkOut:Z.checkOut,adults:Number(Z.adults||0),children:Number(Z.children||0),totalPrice:Number(Z.totalPrice||0),depositAmount:Number(Z.depositAmount||0),channel:Z.channel,status:Z.status,roomType:((Vt=Z.roomType)==null?void 0:Vt._id)||Z.roomType||"",rooms:Number(Z.rooms||1),arrivalTime:Z.arrivalTime||"",paymentMethod:Z.paymentMethod||"",paymentStatus:Z.paymentStatus||"unpaid",notes:Z.notes||""};try{await st.put(`/reservations/${pt}`,Lt),te(!1),await ze(),alert("Rezervasyon güncellendi.")}catch(mn){Yl(mn,"Rezervasyon güncellenemedi")}},Ae=async G=>{if(window.confirm("Bu rezervasyonu silmek istediğine emin misin?"))try{await st.delete(`/reservations/${G}`),await ze()}catch(Re){Yl(Re,"Silinemedi")}},ot=async()=>{if(D.length&&window.confirm(`${D.length} rezervasyon iptal edilsin mi?`))try{await Promise.all(D.map(G=>st.patch(`/reservations/${G}/status`,{status:"cancelled"}))),await ze()}catch(G){Yl(G,"Toplu iptal başarısız")}},nt=async()=>{const G=_e();let Re=[],pt=1;const Lt=500;for(;;){const wt=await st.get(`/reservations?${G}&page=${pt}&limit=${Lt}`);if(Re=Re.concat(wt.data.items),Re.length>=wt.data.total)break;pt++}const Vt=[["Guest","Phone","Email","CheckIn","CheckOut","Nights","RoomType","Rooms","Channel","Status","Total","Deposit","Balance"],...Re.map(wt=>{var Mn,k,xe;const gn=Number(wt.depositAmount||0),Tn=Number(wt.totalPrice||0),En=Math.max(0,Tn-gn);return[((Mn=wt.guest)==null?void 0:Mn.name)||wt.guestName,((k=wt.guest)==null?void 0:k.phone)||"",((xe=wt.guest)==null?void 0:xe.email)||"",qi(new Date(wt.checkIn)),qi(new Date(wt.checkOut)),dm(wt.checkIn,wt.checkOut),wt.roomType?`${wt.roomType.name} (${wt.roomType.code})`:"",wt.rooms??1,wt.channel,wt.status,String(Tn).replace(".",","),String(gn).replace(".",","),String(En).replace(".",",")]})].map(wt=>wt.map(gn=>`"${String(gn).replace(/"/g,'""')}"`).join(";")).join(`
`),mn=new Blob([Vt],{type:"text/csv;charset=utf-8;"}),zt=URL.createObjectURL(mn),yt=document.createElement("a");yt.href=zt,yt.download=`reservations_${qi(new Date)}.csv`,document.body.appendChild(yt),yt.click(),yt.remove(),URL.revokeObjectURL(zt)},gt=()=>{if(!D.length)return;const G=a.filter(yt=>D.includes(yt._id)),Re=yt=>String(yt).padStart(2,"0"),pt=yt=>`${yt.getUTCFullYear()}${Re(yt.getUTCMonth()+1)}${Re(yt.getUTCDate())}T${Re(yt.getUTCHours())}${Re(yt.getUTCMinutes())}00Z`,Lt=yt=>{var k;const wt=new Date(yt.checkIn);wt.setHours(14,0,0,0);const gn=new Date(yt.checkOut);gn.setHours(12,0,0,0);const Tn=Number(yt.depositAmount||0),En=Number(yt.totalPrice||0),Mn=Math.max(0,En-Tn);return["BEGIN:VEVENT",`UID:${yt._id}@hms.local`,`DTSTAMP:${pt(new Date)}`,`DTSTART:${pt(wt)}`,`DTEND:${pt(gn)}`,`SUMMARY:${((k=yt.guest)==null?void 0:k.name)||yt.guestName||"Guest"} - ${yt.roomType?yt.roomType.name:""}`,`DESCRIPTION:Kanal ${yt.channel} • Durum ${yt.status} • Oda ${yt.rooms} • Toplam ${En} TL • Kapora ${Tn} TL • Kalan ${Mn} TL`,"END:VEVENT"].join(`
`)},It=["BEGIN:VCALENDAR","VERSION:2.0",...G.map(Lt),"END:VCALENDAR"].join(`
`),Vt=new Blob([It],{type:"text/calendar"}),mn=URL.createObjectURL(Vt),zt=document.createElement("a");zt.href=mn,zt.download="reservations_selected.ics",document.body.appendChild(zt),zt.click(),zt.remove(),URL.revokeObjectURL(mn)},At=ee.useMemo(()=>[{key:"select",label:""},{key:"guestName",label:"Misafir"},{key:"checkIn",label:"Giriş"},{key:"checkOut",label:"Çıkış"},{key:"roomType",label:"Oda Tipi"},{key:"channel",label:"Kanal"},{key:"status",label:"Durum"},{key:"rooms",label:"Oda"},{key:"totalPrice",label:"Toplam"},{key:"deposit",label:"Kapora"},{key:"balance",label:"Kalan"},{key:"timeline",label:"Takvim"},{key:"actions",label:"Aksiyon"}],[]),Et=G=>{["select","actions","timeline","roomType","deposit","balance"].includes(G)||v(Re=>Re.by===G?{by:G,dir:Re.dir==="asc"?"desc":"asc"}:{by:G,dir:"asc"})},kt=T.roomType&&T.checkIn&&T.checkOut;ee.useEffect(()=>{let G=!1;return(async()=>{if(!kt){E(null);return}W(!0);try{const pt=new URLSearchParams({roomType:T.roomType,start:T.checkIn,end:T.checkOut,rooms:String(T.rooms||1)}),{data:Lt}=await st.get(`/rooms/availability/quote?${pt.toString()}`);G||E(Lt),!G&&(!T.totalPrice||Number(T.totalPrice)===0)&&V(It=>({...It,totalPrice:Lt.suggestedTotalPrice||""}))}finally{G||W(!1)}})(),()=>{G=!0}},[T.roomType,T.checkIn,T.checkOut,T.rooms]);const mt=()=>{se!=null&&se.suggestedTotalPrice&&V(G=>({...G,totalPrice:se.suggestedTotalPrice}))},kn=G=>{X(G.target.checked?a.map(Re=>Re._id):[])},Ct=G=>{X(Re=>Re.includes(G)?Re.filter(pt=>pt!==G):[...Re,G])},pn=()=>{const G=prompt("Görünüme bir ad verin:");G&&ke(Re=>[...Re,{name:G,filters:w,sort:x}])},cr=G=>{P(G.filters),v(G.sort),f(1),ze()};return o.jsxs("div",{children:[o.jsx(qs,{title:"Rezervasyonlar",subtitle:"Akıllı asistan • CRM • Timeline • Toplu işlem • CSV/ICS"}),o.jsxs("div",{className:"card",style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>ae(G=>!G),"aria-expanded":Y,style:{background:"linear-gradient(135deg, #34d399 0%, #22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},children:Y?"Yeni Rezervasyon’u Gizle":"Yeni Rezervasyon Ekle"}),o.jsx("button",{className:"btn",onClick:z.arrivals,children:"Bugün Giriş"}),o.jsx("button",{className:"btn",onClick:z.departures,children:"Bugün Çıkış"}),o.jsx("button",{className:"btn",onClick:z.inhouse,children:"İçeride (In-house)"}),o.jsx("button",{className:"btn",style:{background:"linear-gradient(135deg, #34d399 0%, #22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},onClick:()=>$(G=>!G),children:C?"Filtreleri Gizle":"Filtreler"+(q?" ("+q+")":"")}),o.jsx("button",{className:"btn",onClick:ge,children:"Filtreleri Sıfırla"}),o.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8},children:[D.length>0&&o.jsxs("button",{className:"btn",onClick:ot,children:["Seçilileri İptal (",D.length,")"]}),D.length>0&&o.jsx("button",{className:"btn",onClick:gt,children:"ICS (seçili)"}),o.jsx("button",{className:"btn",onClick:nt,children:"CSV (filtre)"}),o.jsxs("div",{className:"dropdown",children:[o.jsx("button",{className:"btn",children:"Görünümler"}),o.jsxs("div",{className:"dropdown-menu",children:[re.map((G,Re)=>o.jsx("div",{className:"dropdown-item",onClick:()=>cr(G),children:G.name},Re)),o.jsx("div",{className:"dropdown-item",onClick:pn,children:"+ Görünüm Kaydet"})]})]})]})]}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height 0.25s ease",maxHeight:C?1e3:0,marginBottom:C?16:0},children:o.jsx("div",{className:"card",children:o.jsxs("form",{className:"form-grid",onSubmit:et,children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Başlangıç"}),o.jsx("input",{className:"input",type:"date",value:w.start,onChange:G=>it(Re=>({...Re,start:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Bitiş"}),o.jsx("input",{className:"input",type:"date",value:w.end,onChange:G=>it(Re=>({...Re,end:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Durum"}),o.jsxs("select",{className:"select",value:w.status,onChange:G=>it(Re=>({...Re,status:G.target.value})),children:[o.jsx("option",{value:"",children:"Hepsi"}),Xc.map(G=>o.jsx("option",{value:G,children:G},G))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kanal"}),o.jsxs("select",{className:"select",value:w.channel,onChange:G=>it(Re=>({...Re,channel:G.target.value})),children:[o.jsx("option",{value:"",children:"Hepsi"}),Wh.map(G=>o.jsx("option",{value:G,children:G},G))]})]}),o.jsxs("label",{className:"field",style:{gridColumn:n&&!r?"1 / span 2":"auto"},children:[o.jsx("span",{className:"field-label",children:"Misafir / Telefon / E-posta"}),o.jsx("input",{className:"input",placeholder:"Ara…",value:w.guest,onChange:G=>it(Re=>({...Re,guest:G.target.value}))})]}),n&&!r&&o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Otel"}),o.jsxs("select",{className:"select",value:w.hotelId,onChange:G=>it(Re=>({...Re,hotelId:G.target.value})),children:[o.jsx("option",{value:"",children:"Hepsi"}),S.map(G=>o.jsxs("option",{value:G._id,children:[G.name," (",G.code,")"]},G._id))]})]}),o.jsx("div",{style:{display:"flex",alignItems:"end"},children:o.jsx("button",{className:"btn",children:"Filtrele"})})]})})}),Y&&o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1.2fr .8fr",gap:16,alignItems:"start",marginBottom:16},children:[(!n||r)&&o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Yeni Rezervasyon"}),o.jsxs("form",{className:"form-grid",onSubmit:Ee,children:[o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Misafir"}),o.jsx(XN,{value:T.guest,onChange:G=>V(Re=>({...Re,guestId:G.guestId||"",guest:G.guest||(G.guestId?null:{name:G.name,email:G.email,phone:G.phone}),guestName:G.name}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Telefon"}),o.jsx("input",{className:"input",placeholder:"+90…",value:((Dt=T.guest)==null?void 0:Dt.phone)||"",onChange:G=>V(Re=>({...Re,guest:{...Re.guest||{},phone:G.target.value}}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"E-posta"}),o.jsx("input",{className:"input",placeholder:"ornek@otel.com",value:((ct=T.guest)==null?void 0:ct.email)||"",onChange:G=>V(Re=>({...Re,guest:{...Re.guest||{},email:G.target.value}}))})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Tarih Aralığı"}),o.jsx(ZN,{start:T.checkIn,end:T.checkOut,onChange:(G,Re)=>V(pt=>({...pt,checkIn:G,checkOut:Re}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Tipi"}),o.jsxs("select",{className:"select",value:T.roomType,onChange:G=>V({...T,roomType:G.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Seçiniz"}),J.map(G=>o.jsxs("option",{value:G._id,children:[G.name," (",G.code,")"]},G._id))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Adedi"}),o.jsx("input",{className:"input",type:"number",min:"1",value:T.rooms,onChange:G=>V({...T,rooms:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yetişkin"}),o.jsx("input",{className:"input",type:"number",min:"0",value:T.adults,onChange:G=>V({...T,adults:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Çocuk"}),o.jsx("input",{className:"input",type:"number",min:"0",value:T.children,onChange:G=>V({...T,children:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kanal"}),o.jsx("select",{className:"select",value:T.channel,onChange:G=>V({...T,channel:G.target.value}),children:Wh.map(G=>o.jsx("option",{value:G,children:G},G))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Durum"}),o.jsx("select",{className:"select",value:T.status,onChange:G=>V({...T,status:G.target.value}),children:Xc.map(G=>o.jsx("option",{value:G,children:G},G))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Varış Saati"}),o.jsx("input",{className:"input",type:"time",value:T.arrivalTime,onChange:G=>V({...T,arrivalTime:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ödeme Yöntemi"}),o.jsxs("select",{className:"select",value:T.paymentMethod,onChange:G=>V({...T,paymentMethod:G.target.value}),children:[o.jsx("option",{value:"",children:"Seçiniz"}),o.jsx("option",{value:"cash",children:"Nakit"}),o.jsx("option",{value:"pos",children:"POS"}),o.jsx("option",{value:"transfer",children:"Havale/EFT"}),o.jsx("option",{value:"online",children:"Online"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ödeme Durumu"}),o.jsxs("select",{className:"select",value:T.paymentStatus,onChange:G=>V({...T,paymentStatus:G.target.value}),children:[o.jsx("option",{value:"unpaid",children:"Ödenmemiş"}),o.jsx("option",{value:"partial",children:"Kısmi"}),o.jsx("option",{value:"paid",children:"Ödendi"})]})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Notlar"}),o.jsx("textarea",{className:"input",rows:2,placeholder:"(opsiyonel)",value:T.notes,onChange:G=>V({...T,notes:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Toplam Tutar"}),o.jsx("input",{className:"input",type:"number",min:"0",value:T.totalPrice,onChange:G=>V({...T,totalPrice:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kapora"}),o.jsx("input",{className:"input",type:"number",min:"0",value:T.depositAmount,onChange:G=>V({...T,depositAmount:G.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kalan"}),o.jsx("input",{className:"input",readOnly:!0,value:we})]}),(Je||Me)&&o.jsxs("div",{className:"card",style:{gridColumn:"1 / -1",padding:"10px",border:"1px solid rgba(239,68,68,.35)",background:"rgba(239,68,68,.06)"},children:[Je&&o.jsx("div",{children:"⚠️ Çıkış tarihi, girişten sonra olmalı."}),Me&&o.jsx("div",{children:"⚠️ Kapora toplam tutarı aşamaz."})]}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{className:"btn primary",disabled:Je||Me,children:"Ekle"})})]})]}),o.jsxs("div",{style:{display:"grid",gap:16},children:[o.jsxs("div",{className:"card","aria-live":"polite",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Akıllı Asistan"}),!T.roomType||!T.checkIn||!T.checkOut?o.jsx("div",{className:"muted",children:"Oda tipi ve tarihleri seçtiğinde kalan allotment ve önerilen fiyat burada görünecek."}):_?o.jsx("div",{children:"Hesaplanıyor…"}):se?o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("div",{children:["Gece sayısı: ",o.jsx("b",{children:se.nights})]}),o.jsxs("div",{children:["Önerilen toplam: ",o.jsx("b",{children:qr(se.suggestedTotalPrice||0)}),o.jsx("button",{className:"btn",style:{marginLeft:8},onClick:mt,children:"Fiyatı Doldur"})]}),o.jsx("div",{className:"label",style:{marginTop:8},children:"Günlük Kalan Allotment"}),o.jsx("div",{style:{display:"grid",gap:6,maxHeight:180,overflow:"auto"},children:se.remainingPerDay.map((G,Re)=>o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"6px 10px",borderRadius:8,border:`1px solid ${G.remaining>=(T.rooms||1)?"rgba(34,197,94,.35)":"rgba(239,68,68,.35)"}`,background:"rgba(255,255,255,.04)"},children:[o.jsx("span",{children:ri(G.date)}),o.jsxs("span",{className:"muted",children:["Açık ",Math.max(0,G.allotment-G.used)," / ",G.allotment]})]},Re))}),o.jsxs("div",{style:{marginTop:6},children:["Uygunluk: ",se.available?o.jsx("b",{style:{color:"#34d399"},children:"Uygun"}):o.jsx("b",{style:{color:"#ef4444"},children:"Yetersiz"})]})]}):o.jsx("div",{className:"muted",children:"Hesaplanamadı."})]}),o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Rezervasyon Özeti"}),o.jsxs("div",{className:"muted",style:{fontSize:13,lineHeight:1.7},children:[o.jsxs("div",{children:[o.jsx("b",{children:"Ad Soyad:"})," ",((Rt=T.guest)==null?void 0:Rt.name)||T.guestName||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Telefon:"})," ",((Yr=T.guest)==null?void 0:Yr.phone)||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Giriş:"})," ",ri(T.checkIn),"   ",o.jsx("b",{children:"Çıkış:"})," ",ri(T.checkOut),"   ",o.jsx("b",{children:"Gece:"})," ",Ie||0]}),o.jsxs("div",{children:[o.jsx("b",{children:"Oda Tipi:"})," ",((Qt=J.find(G=>G._id===T.roomType))==null?void 0:Qt.name)||"—"," (",((dr=J.find(G=>G._id===T.roomType))==null?void 0:dr.code)||"—",")"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Oda Adedi:"})," ",We,"   ",o.jsx("b",{children:"Kişi:"})," ",Number(T.adults||0)," yetişkin, ",Number(T.children||0)," çocuk"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Kanal:"})," ",T.channel||"—","   ",o.jsx("b",{children:"Durum:"})," ",T.status||"—"]}),o.jsxs("div",{children:[o.jsx("b",{children:"Toplam:"})," ",qr(Ve),"   ",o.jsx("b",{children:"Kapora:"})," ",qr(at),"   ",o.jsx("b",{children:"Kalan:"})," ",qr(we)]}),Ie>0&&We>0&&o.jsxs("div",{children:[o.jsx("b",{children:"ADR:"})," ",qr(Q)]})]})]})]})]}),o.jsxs("div",{className:"card",style:{position:"relative",overflowX:"auto"},children:[m&&o.jsx("div",{style:{position:"absolute",inset:0,background:"rgba(0,0,0,.2)",display:"flex",alignItems:"center",justifyContent:"center",borderRadius:12},children:"Yükleniyor…"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:o.jsx("input",{type:"checkbox",checked:D.length===a.length&&a.length>0,onChange:kn})}),At.slice(1).map(G=>o.jsxs("th",{onClick:()=>Et(G.key),style:{cursor:["actions","timeline","roomType","deposit","balance"].includes(G.key)?"default":"pointer"},children:[G.label,x.by===G.key?x.dir==="asc"?" ▲":" ▼":""]},G.key))]})}),o.jsxs("tbody",{children:[a.map(G=>{var It,Vt,mn;const Re=Number(G.depositAmount||0),pt=Number(G.totalPrice||0),Lt=Math.max(0,pt-Re);return o.jsxs("tr",{style:{background:G.status==="cancelled"?"rgba(239,68,68,.06)":G.status==="pending"?"rgba(245,158,11,.06)":"transparent"},children:[o.jsx("td",{children:o.jsx("input",{type:"checkbox",checked:D.includes(G._id),onChange:()=>Ct(G._id)})}),o.jsxs("td",{children:[o.jsx("a",{style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>{Be(G),ye(!0)},children:((It=G.guest)==null?void 0:It.name)||G.guestName}),o.jsxs("div",{className:"muted",style:{fontSize:11},children:[((Vt=G.guest)==null?void 0:Vt.phone)||""," ",(mn=G.guest)!=null&&mn.email?` • ${G.guest.email}`:""]})]}),o.jsx("td",{children:ri(G.checkIn)}),o.jsx("td",{children:ri(G.checkOut)}),o.jsx("td",{children:G.roomType?`${G.roomType.name} (${G.roomType.code})`:"—"}),o.jsx("td",{children:G.channel}),o.jsx("td",{children:!n||r?o.jsx("select",{className:"select",value:G.status,onChange:zt=>De(G._id,zt.target.value),children:Xc.map(zt=>o.jsx("option",{value:zt,children:zt},zt))}):o.jsx("span",{children:G.status})}),o.jsx("td",{children:G.rooms??1}),o.jsx("td",{children:qr(pt)}),o.jsx("td",{style:{color:Re>0?"#34d399":void 0},children:qr(Re)}),o.jsx("td",{style:{color:Lt>0?"#f59e0b":"#34d399"},children:qr(Lt)}),o.jsx("td",{children:o.jsx(QN,{checkIn:G.checkIn,checkOut:G.checkOut})}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>Ce(G),children:"Düzenle"}),(!n||r)&&o.jsxs(o.Fragment,{children:[G.status!=="cancelled"&&o.jsx("button",{className:"btn",onClick:()=>De(G._id,"cancelled"),children:"İptal"}),o.jsx("button",{className:"btn",onClick:()=>Ae(G._id),children:"Sil"})]})]})})]},G._id)}),a.length===0&&!m&&o.jsx("tr",{children:o.jsx("td",{colSpan:At.length,className:"muted",children:"Kayıt bulunamadı"})})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:[o.jsxs("div",{className:"muted",style:{fontSize:12},children:["Toplam ",s," kayıt • Sayfa ",c,"/",y]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn",disabled:c<=1,onClick:()=>f(G=>G-1),children:"Önceki"}),o.jsx("button",{className:"btn",disabled:c>=y,onClick:()=>f(G=>G+1),children:"Sonraki"})]})]})]}),o.jsx(cm,{open:F,onClose:()=>te(!1),title:"Rezervasyon Düzenle",children:Z&&o.jsxs("form",{className:"form-grid",onSubmit:$e,children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Misafir"}),o.jsx("input",{className:"input",value:((fr=Z.guest)==null?void 0:fr.name)||Z.guestName||"",readOnly:!0})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Giriş"}),o.jsx("input",{className:"input",type:"date",value:Z.checkIn,onChange:G=>de(Re=>({...Re,checkIn:G.target.value})),required:!0})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Çıkış"}),o.jsx("input",{className:"input",type:"date",value:Z.checkOut,onChange:G=>de(Re=>({...Re,checkOut:G.target.value})),required:!0})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Tipi"}),o.jsxs("select",{className:"select",value:((lt=Z.roomType)==null?void 0:lt._id)||Z.roomType||"",onChange:G=>de(Re=>({...Re,roomType:G.target.value})),children:[o.jsx("option",{value:"",children:"Seçiniz"}),J.map(G=>o.jsxs("option",{value:G._id,children:[G.name," (",G.code,")"]},G._id))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Adedi"}),o.jsx("input",{className:"input",type:"number",min:"1",value:Z.rooms??1,onChange:G=>de(Re=>({...Re,rooms:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kanal"}),o.jsx("select",{className:"select",value:Z.channel,onChange:G=>de(Re=>({...Re,channel:G.target.value})),children:Wh.map(G=>o.jsx("option",{value:G,children:G},G))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Durum"}),o.jsx("select",{className:"select",value:Z.status,onChange:G=>de(Re=>({...Re,status:G.target.value})),children:Xc.map(G=>o.jsx("option",{value:G,children:G},G))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Varış Saati"}),o.jsx("input",{className:"input",type:"time",value:Z.arrivalTime||"",onChange:G=>de(Re=>({...Re,arrivalTime:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ödeme Yöntemi"}),o.jsxs("select",{className:"select",value:Z.paymentMethod||"",onChange:G=>de(Re=>({...Re,paymentMethod:G.target.value})),children:[o.jsx("option",{value:"",children:"Seçiniz"}),o.jsx("option",{value:"cash",children:"Nakit"}),o.jsx("option",{value:"pos",children:"POS"}),o.jsx("option",{value:"transfer",children:"Havale/EFT"}),o.jsx("option",{value:"online",children:"Online"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ödeme Durumu"}),o.jsxs("select",{className:"select",value:Z.paymentStatus||"unpaid",onChange:G=>de(Re=>({...Re,paymentStatus:G.target.value})),children:[o.jsx("option",{value:"unpaid",children:"Ödenmemiş"}),o.jsx("option",{value:"partial",children:"Kısmi"}),o.jsx("option",{value:"paid",children:"Ödendi"})]})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Notlar"}),o.jsx("textarea",{className:"input",rows:3,placeholder:"(opsiyonel)",value:Z.notes||"",onChange:G=>de(Re=>({...Re,notes:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Toplam Tutar"}),o.jsx("input",{className:"input",type:"number",min:"0",value:Z.totalPrice,onChange:G=>de(Re=>({...Re,totalPrice:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kapora"}),o.jsx("input",{className:"input",type:"number",min:"0",value:Z.depositAmount,onChange:G=>de(Re=>({...Re,depositAmount:G.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kalan"}),o.jsx("input",{className:"input",readOnly:!0,value:Math.max(0,Number(Z.totalPrice||0)-Number(Z.depositAmount||0))})]}),o.jsx("button",{className:"btn primary",type:"submit",children:"Kaydet"})]})}),o.jsx(e6,{open:fe,onClose:()=>ye(!1),reservation:ve,onChanged:ze})]})}const t6="modulepreload",n6=function(e){return"/"+e},F2={},fm=function(t,n,r){let a=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),u=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));a=Promise.allSettled(n.map(c=>{if(c=n6(c),c in F2)return;F2[c]=!0;const f=c.endsWith(".css"),y=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${y}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":t6,f||(g.as="script"),g.crossOrigin="",g.href=c,u&&g.setAttribute("nonce",u),document.head.appendChild(g),f)return new Promise((b,m)=>{g.addEventListener("load",b),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${c}`)))})}))}function i(s){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=s,window.dispatchEvent(u),!u.defaultPrevented)throw s}return a.then(s=>{for(const u of s||[])u.status==="rejected"&&i(u.reason);return t().catch(i)})};function $t(e){"@babel/helpers - typeof";return $t=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$t(e)}var lr=Uint8Array,Hr=Uint16Array,L1=Int32Array,_f=new lr([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pf=new lr([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),hm=new lr([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),uv=function(e,t){for(var n=new Hr(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];for(var a=new L1(n[30]),r=1;r<30;++r)for(var i=n[r];i<n[r+1];++i)a[i]=i-n[r]<<5|r;return{b:n,r:a}},cv=uv(_f,2),dv=cv.b,pm=cv.r;dv[28]=258,pm[258]=28;var fv=uv(Pf,0),r6=fv.b,M2=fv.r,mm=new Hr(32768);for(var en=0;en<32768;++en){var Pi=(en&43690)>>1|(en&21845)<<1;Pi=(Pi&52428)>>2|(Pi&13107)<<2,Pi=(Pi&61680)>>4|(Pi&3855)<<4,mm[en]=((Pi&65280)>>8|(Pi&255)<<8)>>1}var Ua=function(e,t,n){for(var r=e.length,a=0,i=new Hr(t);a<r;++a)e[a]&&++i[e[a]-1];var s=new Hr(t);for(a=1;a<t;++a)s[a]=s[a-1]+i[a-1]<<1;var u;if(n){u=new Hr(1<<t);var c=15-t;for(a=0;a<r;++a)if(e[a])for(var f=a<<4|e[a],y=t-e[a],g=s[e[a]-1]++<<y,b=g|(1<<y)-1;g<=b;++g)u[mm[g]>>c]=f}else for(u=new Hr(r),a=0;a<r;++a)e[a]&&(u[a]=mm[s[e[a]-1]++]>>15-e[a]);return u},ns=new lr(288);for(var en=0;en<144;++en)ns[en]=8;for(var en=144;en<256;++en)ns[en]=9;for(var en=256;en<280;++en)ns[en]=7;for(var en=280;en<288;++en)ns[en]=8;var Du=new lr(32);for(var en=0;en<32;++en)Du[en]=5;var a6=Ua(ns,9,0),i6=Ua(ns,9,1),s6=Ua(Du,5,0),o6=Ua(Du,5,1),Gh=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},ga=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(t&7)&n},Kh=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(t&7)},C1=function(e){return(e+7)/8|0},hv=function(e,t,n){return(n==null||n>e.length)&&(n=e.length),new lr(e.subarray(t,n))},l6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],xa=function(e,t,n){var r=new Error(t||l6[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,xa),!n)throw r;return r},u6=function(e,t,n,r){var a=e.length,i=0;if(!a||t.f&&!t.l)return n||new lr(0);var s=!n,u=s||t.i!=2,c=t.i;s&&(n=new lr(a*3));var f=function(Ie){var We=n.length;if(Ie>We){var Ve=new lr(Math.max(We*2,Ie));Ve.set(n),n=Ve}},y=t.f||0,g=t.p||0,b=t.b||0,m=t.l,j=t.d,w=t.m,P=t.n,x=a*8;do{if(!m){y=ga(e,g,1);var v=ga(e,g+1,3);if(g+=3,v)if(v==1)m=i6,j=o6,w=9,P=5;else if(v==2){var ne=ga(e,g,31)+257,U=ga(e,g+10,15)+4,T=ne+ga(e,g+5,31)+1;g+=14;for(var V=new lr(T),se=new lr(19),E=0;E<U;++E)se[hm[E]]=ga(e,g+E*3,7);g+=U*3;for(var _=Gh(se),W=(1<<_)-1,F=Ua(se,_,1),E=0;E<T;){var te=F[ga(e,g,W)];g+=te&15;var S=te>>4;if(S<16)V[E++]=S;else{var Z=0,de=0;for(S==16?(de=3+ga(e,g,3),g+=2,Z=V[E-1]):S==17?(de=3+ga(e,g,7),g+=3):S==18&&(de=11+ga(e,g,127),g+=7);de--;)V[E++]=Z}}var D=V.subarray(0,ne),X=V.subarray(ne);w=Gh(D),P=Gh(X),m=Ua(D,w,1),j=Ua(X,P,1)}else xa(1);else{var S=C1(g)+4,B=e[S-4]|e[S-3]<<8,J=S+B;if(J>a){c&&xa(0);break}u&&f(b+B),n.set(e.subarray(S,J),b),t.b=b+=B,t.p=g=J*8,t.f=y;continue}if(g>x){c&&xa(0);break}}u&&f(b+131072);for(var re=(1<<w)-1,ke=(1<<P)-1,C=g;;C=g){var Z=m[Kh(e,g)&re],$=Z>>4;if(g+=Z&15,g>x){c&&xa(0);break}if(Z||xa(2),$<256)n[b++]=$;else if($==256){C=g,m=null;break}else{var q=$-254;if($>264){var E=$-257,Y=_f[E];q=ga(e,g,(1<<Y)-1)+dv[E],g+=Y}var ae=j[Kh(e,g)&ke],fe=ae>>4;ae||xa(3),g+=ae&15;var X=r6[fe];if(fe>3){var Y=Pf[fe];X+=Kh(e,g)&(1<<Y)-1,g+=Y}if(g>x){c&&xa(0);break}u&&f(b+131072);var ye=b+q;if(b<X){var ve=i-X,Be=Math.min(X,ye);for(ve+b<0&&xa(3);b<Be;++b)n[b]=r[ve+b]}for(;b<ye;++b)n[b]=n[b-X]}}t.l=m,t.p=C,t.b=b,t.f=y,m&&(y=1,t.m=w,t.d=j,t.n=P)}while(!y);return b!=n.length&&s?hv(n,0,b):n.subarray(0,b)},Qa=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},Jl=function(e,t,n){n<<=t&7;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},Yh=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var a=n.length,i=n.slice();if(!a)return{t:mv,l:0};if(a==1){var s=new lr(n[0].s+1);return s[n[0].s]=1,{t:s,l:1}}n.sort(function(J,ne){return J.f-ne.f}),n.push({s:-1,f:25001});var u=n[0],c=n[1],f=0,y=1,g=2;for(n[0]={s:-1,f:u.f+c.f,l:u,r:c};y!=a-1;)u=n[n[f].f<n[g].f?f++:g++],c=n[f!=y&&n[f].f<n[g].f?f++:g++],n[y++]={s:-1,f:u.f+c.f,l:u,r:c};for(var b=i[0].s,r=1;r<a;++r)i[r].s>b&&(b=i[r].s);var m=new Hr(b+1),j=gm(n[y-1],m,0);if(j>t){var r=0,w=0,P=j-t,x=1<<P;for(i.sort(function(ne,U){return m[U.s]-m[ne.s]||ne.f-U.f});r<a;++r){var v=i[r].s;if(m[v]>t)w+=x-(1<<j-m[v]),m[v]=t;else break}for(w>>=P;w>0;){var S=i[r].s;m[S]<t?w-=1<<t-m[S]++-1:++r}for(;r>=0&&w;--r){var B=i[r].s;m[B]==t&&(--m[B],++w)}j=t}return{t:new lr(m),l:j}},gm=function(e,t,n){return e.s==-1?Math.max(gm(e.l,t,n+1),gm(e.r,t,n+1)):t[e.s]=n},B2=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new Hr(++t),r=0,a=e[0],i=1,s=function(c){n[r++]=c},u=1;u<=t;++u)if(e[u]==a&&u!=t)++i;else{if(!a&&i>2){for(;i>138;i-=138)s(32754);i>2&&(s(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(s(a),--i;i>6;i-=6)s(8304);i>2&&(s(i-3<<5|8208),i=0)}for(;i--;)s(a);i=1,a=e[u]}return{c:n.subarray(0,r),n:t}},Xl=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},pv=function(e,t,n){var r=n.length,a=C1(t+2);e[a]=r&255,e[a+1]=r>>8,e[a+2]=e[a]^255,e[a+3]=e[a+1]^255;for(var i=0;i<r;++i)e[a+i+4]=n[i];return(a+4+r)*8},z2=function(e,t,n,r,a,i,s,u,c,f,y){Qa(t,y++,n),++a[256];for(var g=Yh(a,15),b=g.t,m=g.l,j=Yh(i,15),w=j.t,P=j.l,x=B2(b),v=x.c,S=x.n,B=B2(w),J=B.c,ne=B.n,U=new Hr(19),T=0;T<v.length;++T)++U[v[T]&31];for(var T=0;T<J.length;++T)++U[J[T]&31];for(var V=Yh(U,7),se=V.t,E=V.l,_=19;_>4&&!se[hm[_-1]];--_);var W=f+5<<3,F=Xl(a,ns)+Xl(i,Du)+s,te=Xl(a,b)+Xl(i,w)+s+14+3*_+Xl(U,se)+2*U[16]+3*U[17]+7*U[18];if(c>=0&&W<=F&&W<=te)return pv(t,y,e.subarray(c,c+f));var Z,de,D,X;if(Qa(t,y,1+(te<F)),y+=2,te<F){Z=Ua(b,m,0),de=b,D=Ua(w,P,0),X=w;var re=Ua(se,E,0);Qa(t,y,S-257),Qa(t,y+5,ne-1),Qa(t,y+10,_-4),y+=14;for(var T=0;T<_;++T)Qa(t,y+3*T,se[hm[T]]);y+=3*_;for(var ke=[v,J],C=0;C<2;++C)for(var $=ke[C],T=0;T<$.length;++T){var q=$[T]&31;Qa(t,y,re[q]),y+=se[q],q>15&&(Qa(t,y,$[T]>>5&127),y+=$[T]>>12)}}else Z=a6,de=ns,D=s6,X=Du;for(var T=0;T<u;++T){var Y=r[T];if(Y>255){var q=Y>>18&31;Jl(t,y,Z[q+257]),y+=de[q+257],q>7&&(Qa(t,y,Y>>23&31),y+=_f[q]);var ae=Y&31;Jl(t,y,D[ae]),y+=X[ae],ae>3&&(Jl(t,y,Y>>5&8191),y+=Pf[ae])}else Jl(t,y,Z[Y]),y+=de[Y]}return Jl(t,y,Z[256]),y+de[256]},c6=new L1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),mv=new lr(0),d6=function(e,t,n,r,a,i){var s=i.z||e.length,u=new lr(r+s+5*(1+Math.ceil(s/7e3))+a),c=u.subarray(r,u.length-a),f=i.l,y=(i.r||0)&7;if(t){y&&(c[0]=i.r>>3);for(var g=c6[t-1],b=g>>13,m=g&8191,j=(1<<n)-1,w=i.p||new Hr(32768),P=i.h||new Hr(j+1),x=Math.ceil(n/3),v=2*x,S=function(at){return(e[at]^e[at+1]<<x^e[at+2]<<v)&j},B=new L1(25e3),J=new Hr(288),ne=new Hr(32),U=0,T=0,V=i.i||0,se=0,E=i.w||0,_=0;V+2<s;++V){var W=S(V),F=V&32767,te=P[W];if(w[F]=te,P[W]=F,E<=V){var Z=s-V;if((U>7e3||se>24576)&&(Z>423||!f)){y=z2(e,c,0,B,J,ne,T,se,_,V-_,y),se=U=T=0,_=V;for(var de=0;de<286;++de)J[de]=0;for(var de=0;de<30;++de)ne[de]=0}var D=2,X=0,re=m,ke=F-te&32767;if(Z>2&&W==S(V-ke))for(var C=Math.min(b,Z)-1,$=Math.min(32767,V),q=Math.min(258,Z);ke<=$&&--re&&F!=te;){if(e[V+D]==e[V+D-ke]){for(var Y=0;Y<q&&e[V+Y]==e[V+Y-ke];++Y);if(Y>D){if(D=Y,X=ke,Y>C)break;for(var ae=Math.min(ke,Y-2),fe=0,de=0;de<ae;++de){var ye=V-ke+de&32767,ve=w[ye],Be=ye-ve&32767;Be>fe&&(fe=Be,te=ye)}}}F=te,te=w[F],ke+=F-te&32767}if(X){B[se++]=268435456|pm[D]<<18|M2[X];var Ie=pm[D]&31,We=M2[X]&31;T+=_f[Ie]+Pf[We],++J[257+Ie],++ne[We],E=V+D,++U}else B[se++]=e[V],++J[e[V]]}}for(V=Math.max(V,E);V<s;++V)B[se++]=e[V],++J[e[V]];y=z2(e,c,f,B,J,ne,T,se,_,V-_,y),f||(i.r=y&7|c[y/8|0]<<3,y-=7,i.h=P,i.p=w,i.i=V,i.w=E)}else{for(var V=i.w||0;V<s+f;V+=65535){var Ve=V+65535;Ve>=s&&(c[y/8|0]=f,Ve=s),y=pv(c,y+1,e.subarray(V,Ve))}i.i=s}return hv(u,0,r+C1(y)+a)},gv=function(){var e=1,t=0;return{p:function(n){for(var r=e,a=t,i=n.length|0,s=0;s!=i;){for(var u=Math.min(s+2655,i);s<u;++s)a+=r+=n[s];r=(r&65535)+15*(r>>16),a=(a&65535)+15*(a>>16)}e=r,t=a},d:function(){return e%=65521,t%=65521,(e&255)<<24|(e&65280)<<8|(t&255)<<8|t>>8}}},f6=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),s=new lr(i.length+e.length);s.set(i),s.set(e,i.length),e=s,a.w=i.length}return d6(e,t.level==null?6:t.level,t.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(e.length)))*1.5):20:12+t.mem,n,r,a)},yv=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},h6=function(e,t){var n=t.level,r=n==0?0:n<6?1:n==9?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var a=gv();a.p(t.dictionary),yv(e,2,a.d())}},p6=function(e,t){return((e[0]&15)!=8||e[0]>>4>7||(e[0]<<8|e[1])%31)&&xa(6,"invalid zlib data"),(e[1]>>5&1)==1&&xa(6,"invalid zlib data: "+(e[1]&32?"need":"unexpected")+" dictionary"),(e[1]>>3&4)+2};function ym(e,t){t||(t={});var n=gv();n.p(e);var r=f6(e,t,t.dictionary?6:2,4);return h6(r,t),yv(r,r.length-4,n.d()),r}function m6(e,t){return u6(e.subarray(p6(e),-4),{i:2},t,t)}var g6=typeof TextDecoder<"u"&&new TextDecoder,y6=0;try{g6.decode(mv,{stream:!0}),y6=1}catch{}var ht=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Jh(){ht.console&&typeof ht.console.log=="function"&&ht.console.log.apply(ht.console,arguments)}var Kt={log:Jh,warn:function(e){ht.console&&(typeof ht.console.warn=="function"?ht.console.warn.apply(ht.console,arguments):Jh.call(null,arguments))},error:function(e){ht.console&&(typeof ht.console.error=="function"?ht.console.error.apply(ht.console,arguments):Jh(e))}};function Xh(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){js(r.response,t,n)},r.onerror=function(){Kt.error("could not download file")},r.send()}function U2(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch{}return t.status>=200&&t.status<=299}function Qc(e){try{e.dispatchEvent(new MouseEvent("click"))}catch{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var mu,vm,js=ht.saveAs||((typeof window>"u"?"undefined":$t(window))!=="object"||window!==ht?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ht.URL||ht.webkitURL,a=document.createElement("a");t=t||e.name||"download",a.download=t,a.rel="noopener",typeof e=="string"?(a.href=e,a.origin!==location.origin?U2(a.href)?Xh(e,t,n):Qc(a,a.target="_blank"):Qc(a)):(a.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(a.href)},4e4),setTimeout(function(){Qc(a)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download",typeof e=="string")if(U2(e))Xh(e,t,n);else{var r=document.createElement("a");r.href=e,r.target="_blank",setTimeout(function(){Qc(r)})}else navigator.msSaveOrOpenBlob(function(a,i){return i===void 0?i={autoBom:!1}:$t(i)!=="object"&&(Kt.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a}(e,n),t)}:function(e,t,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof e=="string")return Xh(e,t,n);var a=e.type==="application/octet-stream",i=/constructor/i.test(ht.HTMLElement)||ht.safari,s=/CriOS\/[\d]+/.test(navigator.userAgent);if((s||a&&i)&&(typeof FileReader>"u"?"undefined":$t(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var y=u.result;y=s?y:y.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=y:location=y,r=null},u.readAsDataURL(e)}else{var c=ht.URL||ht.webkitURL,f=c.createObjectURL(e);r?r.location=f:location.href=f,r=null,setTimeout(function(){c.revokeObjectURL(f)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function vv(e){var t;e=e||"",this.ok=!1,e.charAt(0)=="#"&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<n.length;r++){var a=n[r].re,i=n[r].process,s=a.exec(e);s&&(t=i(s),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),c=this.g.toString(16),f=this.b.toString(16);return u.length==1&&(u="0"+u),c.length==1&&(c="0"+c),f.length==1&&(f="0"+f),"#"+u+c+f}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Qh(e,t){var n=e[0],r=e[1],a=e[2],i=e[3];n=tr(n,r,a,i,t[0],7,-680876936),i=tr(i,n,r,a,t[1],12,-389564586),a=tr(a,i,n,r,t[2],17,606105819),r=tr(r,a,i,n,t[3],22,-1044525330),n=tr(n,r,a,i,t[4],7,-176418897),i=tr(i,n,r,a,t[5],12,1200080426),a=tr(a,i,n,r,t[6],17,-1473231341),r=tr(r,a,i,n,t[7],22,-45705983),n=tr(n,r,a,i,t[8],7,1770035416),i=tr(i,n,r,a,t[9],12,-1958414417),a=tr(a,i,n,r,t[10],17,-42063),r=tr(r,a,i,n,t[11],22,-1990404162),n=tr(n,r,a,i,t[12],7,1804603682),i=tr(i,n,r,a,t[13],12,-40341101),a=tr(a,i,n,r,t[14],17,-1502002290),n=nr(n,r=tr(r,a,i,n,t[15],22,1236535329),a,i,t[1],5,-165796510),i=nr(i,n,r,a,t[6],9,-1069501632),a=nr(a,i,n,r,t[11],14,643717713),r=nr(r,a,i,n,t[0],20,-373897302),n=nr(n,r,a,i,t[5],5,-701558691),i=nr(i,n,r,a,t[10],9,38016083),a=nr(a,i,n,r,t[15],14,-660478335),r=nr(r,a,i,n,t[4],20,-405537848),n=nr(n,r,a,i,t[9],5,568446438),i=nr(i,n,r,a,t[14],9,-1019803690),a=nr(a,i,n,r,t[3],14,-187363961),r=nr(r,a,i,n,t[8],20,1163531501),n=nr(n,r,a,i,t[13],5,-1444681467),i=nr(i,n,r,a,t[2],9,-51403784),a=nr(a,i,n,r,t[7],14,1735328473),n=rr(n,r=nr(r,a,i,n,t[12],20,-1926607734),a,i,t[5],4,-378558),i=rr(i,n,r,a,t[8],11,-2022574463),a=rr(a,i,n,r,t[11],16,1839030562),r=rr(r,a,i,n,t[14],23,-35309556),n=rr(n,r,a,i,t[1],4,-1530992060),i=rr(i,n,r,a,t[4],11,1272893353),a=rr(a,i,n,r,t[7],16,-155497632),r=rr(r,a,i,n,t[10],23,-1094730640),n=rr(n,r,a,i,t[13],4,681279174),i=rr(i,n,r,a,t[0],11,-358537222),a=rr(a,i,n,r,t[3],16,-722521979),r=rr(r,a,i,n,t[6],23,76029189),n=rr(n,r,a,i,t[9],4,-640364487),i=rr(i,n,r,a,t[12],11,-421815835),a=rr(a,i,n,r,t[15],16,530742520),n=ar(n,r=rr(r,a,i,n,t[2],23,-995338651),a,i,t[0],6,-198630844),i=ar(i,n,r,a,t[7],10,1126891415),a=ar(a,i,n,r,t[14],15,-1416354905),r=ar(r,a,i,n,t[5],21,-57434055),n=ar(n,r,a,i,t[12],6,1700485571),i=ar(i,n,r,a,t[3],10,-1894986606),a=ar(a,i,n,r,t[10],15,-1051523),r=ar(r,a,i,n,t[1],21,-2054922799),n=ar(n,r,a,i,t[8],6,1873313359),i=ar(i,n,r,a,t[15],10,-30611744),a=ar(a,i,n,r,t[6],15,-1560198380),r=ar(r,a,i,n,t[13],21,1309151649),n=ar(n,r,a,i,t[4],6,-145523070),i=ar(i,n,r,a,t[11],10,-1120210379),a=ar(a,i,n,r,t[2],15,718787259),r=ar(r,a,i,n,t[9],21,-343485551),e[0]=$i(n,e[0]),e[1]=$i(r,e[1]),e[2]=$i(a,e[2]),e[3]=$i(i,e[3])}function Tf(e,t,n,r,a,i){return t=$i($i(t,e),$i(r,i)),$i(t<<a|t>>>32-a,n)}function tr(e,t,n,r,a,i,s){return Tf(t&n|~t&r,e,t,a,i,s)}function nr(e,t,n,r,a,i,s){return Tf(t&r|n&~r,e,t,a,i,s)}function rr(e,t,n,r,a,i,s){return Tf(t^n^r,e,t,a,i,s)}function ar(e,t,n,r,a,i,s){return Tf(n^(t|~r),e,t,a,i,s)}function xv(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)Qh(r,v6(e.substring(t-64,t)));e=e.substring(t-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)a[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(a[t>>2]|=128<<(t%4<<3),t>55)for(Qh(r,a),t=0;t<16;t++)a[t]=0;return a[14]=8*n,Qh(r,a),r}function v6(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}mu=ht.atob.bind(ht),vm=ht.btoa.bind(ht);var q2="0123456789abcdef".split("");function x6(e){for(var t="",n=0;n<4;n++)t+=q2[e>>8*n+4&15]+q2[e>>8*n&15];return t}function b6(e){return String.fromCharCode((255&e)>>0,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function xm(e){return xv(e).map(b6).join("")}var w6=function(e){for(var t=0;t<e.length;t++)e[t]=x6(e[t]);return e.join("")}(xv("hello"))!="5d41402abc4b2a76b9719d911017c592";function $i(e,t){if(w6){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function bm(e,t){var n,r,a,i;if(e!==n){for(var s=(a=e,i=1+(256/e.length>>0),new Array(i+1).join(a)),u=[],c=0;c<256;c++)u[c]=c;var f=0;for(c=0;c<256;c++){var y=u[c];f=(f+y+s.charCodeAt(c))%256,u[c]=u[f],u[f]=y}n=e,r=u}else u=r;var g=t.length,b=0,m=0,j="";for(c=0;c<g;c++)m=(m+(y=u[b=(b+1)%256]))%256,u[b]=u[m],u[m]=y,s=u[(u[b]+u[m])%256],j+=String.fromCharCode(t.charCodeAt(c)^s);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var $2={print:4,modify:8,copy:16,"annot-forms":32};function jo(e,t,n,r){this.v=1,this.r=2;var a=192;e.forEach(function(u){if($2.perm!==void 0)throw new Error("Invalid permission: "+u);a+=$2[u]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(t+this.padding).substr(0,32),s=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,s),this.P=-(1+(255^a)),this.encryptionKey=xm(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=bm(this.encryptionKey,this.padding)}function ko(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var a=e.charCodeAt(r);a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?t+="#"+("0"+a.toString(16)).slice(-2):t+=e[r]}return t}function H2(e){if($t(e)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(n,r,a){if(a=a||!1,typeof n!="string"||typeof r!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(n)||(t[n]={});var i=Math.random().toString(35);return t[n][i]=[r,!!a],i},this.unsubscribe=function(n){for(var r in t)if(t[r][n])return delete t[r][n],Object.keys(t[r]).length===0&&delete t[r],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),a=[];for(var i in t[n]){var s=t[n][i];try{s[0].apply(e,r)}catch(u){ht.console&&Kt.error("jsPDF PubSub Error",u.message,u)}s[1]&&a.push(i)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function ef(e){if(!(this instanceof ef))return new ef(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function bv(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function ks(e,t,n,r,a){if(!(this instanceof ks))return new ks(e,t,n,r,a);this.type=e==="axial"?2:3,this.coords=t,this.colors=n,bv.call(this,r,a)}function Mo(e,t,n,r,a){if(!(this instanceof Mo))return new Mo(e,t,n,r,a);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,bv.call(this,r,a)}function ft(e){var t,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],a=arguments[2],i=arguments[3],s=[],u=1,c=16,f="S",y=null;$t(e=e||{})==="object"&&(n=e.orientation,r=e.unit||r,a=e.format||a,i=e.compress||e.compressPdf||i,(y=e.encryption||null)!==null&&(y.userPassword=y.userPassword||"",y.ownerPassword=y.ownerPassword||"",y.userPermissions=y.userPermissions||[]),u=typeof e.userUnit=="number"?Math.abs(e.userUnit):1,e.precision!==void 0&&(t=e.precision),e.floatPrecision!==void 0&&(c=e.floatPrecision),f=e.defaultPathOperation||"S"),s=e.filters||(i===!0?["FlateEncode"]:s),r=r||"mm",n=(""+(n||"P")).toLowerCase();var g=e.putOnlyUsedFonts||!1,b={},m={internal:{},__private__:{}};m.__private__.PubSub=H2;var j="1.3",w=m.__private__.getPdfVersion=function(){return j};m.__private__.setPdfVersion=function(h){j=h};var P={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};m.__private__.getPageFormats=function(){return P};var x=m.__private__.getPageFormat=function(h){return P[h]};a=a||"a4";var v={COMPAT:"compat",ADVANCED:"advanced"},S=v.COMPAT;function B(){this.saveGraphicsState(),Q(new lt(Ae,0,0,-Ae,0,gi()*Ae).toString()+" cm"),this.setFontSize(this.getFontSize()/Ae),f="n",S=v.ADVANCED}function J(){this.restoreGraphicsState(),f="S",S=v.COMPAT}var ne=m.__private__.combineFontStyleAndFontWeight=function(h,L){if(h=="bold"&&L=="normal"||h=="bold"&&L==400||h=="normal"&&L=="italic"||h=="bold"&&L=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return L&&(h=L==400||L==="normal"?h==="italic"?"italic":"normal":L!=700&&L!=="bold"||h!=="normal"?(L==700?"bold":L)+""+h:"bold"),h};m.advancedAPI=function(h){var L=S===v.COMPAT;return L&&B.call(this),typeof h!="function"||(h(this),L&&J.call(this)),this},m.compatAPI=function(h){var L=S===v.ADVANCED;return L&&J.call(this),typeof h!="function"||(h(this),L&&B.call(this)),this},m.isAdvancedAPI=function(){return S===v.ADVANCED};var U,T=function(h){if(S!==v.ADVANCED)throw new Error(h+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=m.roundToPrecision=m.__private__.roundToPrecision=function(h,L){var K=t||L;if(isNaN(h)||isNaN(K))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return h.toFixed(K).replace(/0+$/,"")};U=m.hpf=m.__private__.hpf=typeof c=="number"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return V(h,c)}:c==="smart"?function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return V(h,h>-1&&h<1?16:5)}:function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.hpf");return V(h,16)};var se=m.f2=m.__private__.f2=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f2");return V(h,2)},E=m.__private__.f3=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.f3");return V(h,3)},_=m.scale=m.__private__.scale=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.scale");return S===v.COMPAT?h*Ae:S===v.ADVANCED?h:void 0},W=function(h){return S===v.COMPAT?gi()-h:S===v.ADVANCED?h:void 0},F=function(h){return _(W(h))};m.__private__.setPrecision=m.setPrecision=function(h){typeof parseInt(h,10)=="number"&&(t=parseInt(h,10))};var te,Z="00000000000000000000000000000000",de=m.__private__.getFileId=function(){return Z},D=m.__private__.setFileId=function(h){return Z=h!==void 0&&/^[a-fA-F0-9]{32}$/.test(h)?h.toUpperCase():Z.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),y!==null&&(Xn=new jo(y.userPermissions,y.userPassword,y.ownerPassword,Z)),Z};m.setFileId=function(h){return D(h),this},m.getFileId=function(){return de()};var X=m.__private__.convertDateToPDFDate=function(h){var L=h.getTimezoneOffset(),K=L<0?"+":"-",ie=Math.floor(Math.abs(L/60)),he=Math.abs(L%60),je=[K,q(ie),"'",q(he),"'"].join("");return["D:",h.getFullYear(),q(h.getMonth()+1),q(h.getDate()),q(h.getHours()),q(h.getMinutes()),q(h.getSeconds()),je].join("")},re=m.__private__.convertPDFDateToDate=function(h){var L=parseInt(h.substr(2,4),10),K=parseInt(h.substr(6,2),10)-1,ie=parseInt(h.substr(8,2),10),he=parseInt(h.substr(10,2),10),je=parseInt(h.substr(12,2),10),Fe=parseInt(h.substr(14,2),10);return new Date(L,K,ie,he,je,Fe,0)},ke=m.__private__.setCreationDate=function(h){var L;if(h===void 0&&(h=new Date),h instanceof Date)L=X(h);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(h))throw new Error("Invalid argument passed to jsPDF.setCreationDate");L=h}return te=L},C=m.__private__.getCreationDate=function(h){var L=te;return h==="jsDate"&&(L=re(te)),L};m.setCreationDate=function(h){return ke(h),this},m.getCreationDate=function(h){return C(h)};var $,q=m.__private__.padd2=function(h){return("0"+parseInt(h)).slice(-2)},Y=m.__private__.padd2Hex=function(h){return("00"+(h=h.toString())).substr(h.length)},ae=0,fe=[],ye=[],ve=0,Be=[],Ie=[],We=!1,Ve=ye,at=function(){ae=0,ve=0,ye=[],fe=[],Be=[],zt=It(),yt=It()};m.__private__.setCustomOutputDestination=function(h){We=!0,Ve=h};var we=function(h){We||(Ve=h)};m.__private__.resetCustomOutputDestination=function(){We=!1,Ve=ye};var Q=m.__private__.out=function(h){return h=h.toString(),ve+=h.length+1,Ve.push(h),Ve},Je=m.__private__.write=function(h){return Q(arguments.length===1?h.toString():Array.prototype.join.call(arguments," "))},Me=m.__private__.getArrayBuffer=function(h){for(var L=h.length,K=new ArrayBuffer(L),ie=new Uint8Array(K);L--;)ie[L]=h.charCodeAt(L);return K},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];m.__private__.getStandardFonts=function(){return _e};var qe=e.fontSize||16;m.__private__.setFontSize=m.setFontSize=function(h){return qe=S===v.ADVANCED?h/Ae:h,this};var ze,Ge=m.__private__.getFontSize=m.getFontSize=function(){return S===v.COMPAT?qe:qe*Ae},et=e.R2L||!1;m.__private__.setR2L=m.setR2L=function(h){return et=h,this},m.__private__.getR2L=m.getR2L=function(){return et};var it,z=m.__private__.setZoomMode=function(h){var L=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(h))ze=h;else if(isNaN(h)){if(L.indexOf(h)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+h+'" is not recognized.');ze=h}else ze=parseInt(h,10)};m.__private__.getZoomMode=function(){return ze};var ge,Ee=m.__private__.setPageMode=function(h){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(h)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+h+'" is not recognized.');it=h};m.__private__.getPageMode=function(){return it};var De=m.__private__.setLayoutMode=function(h){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(h)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+h+'" is not recognized.');ge=h};m.__private__.getLayoutMode=function(){return ge},m.__private__.setDisplayMode=m.setDisplayMode=function(h,L,K){return z(h),De(L),Ee(K),this};var Ce={title:"",subject:"",author:"",keywords:"",creator:""};m.__private__.getDocumentProperty=function(h){if(Object.keys(Ce).indexOf(h)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Ce[h]},m.__private__.getDocumentProperties=function(){return Ce},m.__private__.setDocumentProperties=m.setProperties=m.setDocumentProperties=function(h){for(var L in Ce)Ce.hasOwnProperty(L)&&h[L]&&(Ce[L]=h[L]);return this},m.__private__.setDocumentProperty=function(h,L){if(Object.keys(Ce).indexOf(h)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Ce[h]=L};var $e,Ae,ot,nt,gt,At={},Et={},kt=[],mt={},kn={},Ct={},pn={},cr=null,Dt=0,ct=[],Rt=new H2(m),Yr=e.hotfixes||[],Qt={},dr={},fr=[],lt=function h(L,K,ie,he,je,Fe){if(!(this instanceof h))return new h(L,K,ie,he,je,Fe);isNaN(L)&&(L=1),isNaN(K)&&(K=0),isNaN(ie)&&(ie=0),isNaN(he)&&(he=1),isNaN(je)&&(je=0),isNaN(Fe)&&(Fe=0),this._matrix=[L,K,ie,he,je,Fe]};Object.defineProperty(lt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(lt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(lt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(lt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(lt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(lt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(lt.prototype,"a",{get:function(){return this._matrix[0]},set:function(h){this._matrix[0]=h}}),Object.defineProperty(lt.prototype,"b",{get:function(){return this._matrix[1]},set:function(h){this._matrix[1]=h}}),Object.defineProperty(lt.prototype,"c",{get:function(){return this._matrix[2]},set:function(h){this._matrix[2]=h}}),Object.defineProperty(lt.prototype,"d",{get:function(){return this._matrix[3]},set:function(h){this._matrix[3]=h}}),Object.defineProperty(lt.prototype,"e",{get:function(){return this._matrix[4]},set:function(h){this._matrix[4]=h}}),Object.defineProperty(lt.prototype,"f",{get:function(){return this._matrix[5]},set:function(h){this._matrix[5]=h}}),Object.defineProperty(lt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(lt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(lt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(lt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),lt.prototype.join=function(h){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(U).join(h)},lt.prototype.multiply=function(h){var L=h.sx*this.sx+h.shy*this.shx,K=h.sx*this.shy+h.shy*this.sy,ie=h.shx*this.sx+h.sy*this.shx,he=h.shx*this.shy+h.sy*this.sy,je=h.tx*this.sx+h.ty*this.shx+this.tx,Fe=h.tx*this.shy+h.ty*this.sy+this.ty;return new lt(L,K,ie,he,je,Fe)},lt.prototype.decompose=function(){var h=this.sx,L=this.shy,K=this.shx,ie=this.sy,he=this.tx,je=this.ty,Fe=Math.sqrt(h*h+L*L),Qe=(h/=Fe)*K+(L/=Fe)*ie;K-=h*Qe,ie-=L*Qe;var ut=Math.sqrt(K*K+ie*ie);return Qe/=ut,h*(ie/=ut)<L*(K/=ut)&&(h=-h,L=-L,Qe=-Qe,Fe=-Fe),{scale:new lt(Fe,0,0,ut,0,0),translate:new lt(1,0,0,1,he,je),rotate:new lt(h,L,-L,h,0,0),skew:new lt(1,0,Qe,1,0,0)}},lt.prototype.toString=function(h){return this.join(" ")},lt.prototype.inversed=function(){var h=this.sx,L=this.shy,K=this.shx,ie=this.sy,he=this.tx,je=this.ty,Fe=1/(h*ie-L*K),Qe=ie*Fe,ut=-L*Fe,Nt=-K*Fe,xt=h*Fe;return new lt(Qe,ut,Nt,xt,-Qe*he-Nt*je,-ut*he-xt*je)},lt.prototype.applyToPoint=function(h){var L=h.x*this.sx+h.y*this.shx+this.tx,K=h.x*this.shy+h.y*this.sy+this.ty;return new Xs(L,K)},lt.prototype.applyToRectangle=function(h){var L=this.applyToPoint(h),K=this.applyToPoint(new Xs(h.x+h.w,h.y+h.h));return new bl(L.x,L.y,K.x-L.x,K.y-L.y)},lt.prototype.clone=function(){var h=this.sx,L=this.shy,K=this.shx,ie=this.sy,he=this.tx,je=this.ty;return new lt(h,L,K,ie,he,je)},m.Matrix=lt;var G=m.matrixMult=function(h,L){return L.multiply(h)},Re=new lt(1,0,0,1,0,0);m.unitMatrix=m.identityMatrix=Re;var pt=function(h,L){if(!kn[h]){var K=(L instanceof ks?"Sh":"P")+(Object.keys(mt).length+1).toString(10);L.id=K,kn[h]=K,mt[K]=L,Rt.publish("addPattern",L)}};m.ShadingPattern=ks,m.TilingPattern=Mo,m.addShadingPattern=function(h,L){return T("addShadingPattern()"),pt(h,L),this},m.beginTilingPattern=function(h){T("beginTilingPattern()"),lc(h.boundingBox[0],h.boundingBox[1],h.boundingBox[2]-h.boundingBox[0],h.boundingBox[3]-h.boundingBox[1],h.matrix)},m.endTilingPattern=function(h,L){T("endTilingPattern()"),L.stream=Ie[$].join(`
`),pt(h,L),Rt.publish("endTilingPattern",L),fr.pop().restore()};var Lt=m.__private__.newObject=function(){var h=It();return Vt(h,!0),h},It=m.__private__.newObjectDeferred=function(){return ae++,fe[ae]=function(){return ve},ae},Vt=function(h,L){return L=typeof L=="boolean"&&L,fe[h]=ve,L&&Q(h+" 0 obj"),h},mn=m.__private__.newAdditionalObject=function(){var h={objId:It(),content:""};return Be.push(h),h},zt=It(),yt=It(),wt=m.__private__.decodeColorString=function(h){var L=h.split(" ");if(L.length!==2||L[1]!=="g"&&L[1]!=="G")L.length===5&&(L[4]==="k"||L[4]==="K")&&(L=[(1-L[0])*(1-L[3]),(1-L[1])*(1-L[3]),(1-L[2])*(1-L[3]),"r"]);else{var K=parseFloat(L[0]);L=[K,K,K,"r"]}for(var ie="#",he=0;he<3;he++)ie+=("0"+Math.floor(255*parseFloat(L[he])).toString(16)).slice(-2);return ie},gn=m.__private__.encodeColorString=function(h){var L;typeof h=="string"&&(h={ch1:h});var K=h.ch1,ie=h.ch2,he=h.ch3,je=h.ch4,Fe=h.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof K=="string"&&K.charAt(0)!=="#"){var Qe=new vv(K);if(Qe.ok)K=Qe.toHex();else if(!/^\d*\.?\d*$/.test(K))throw new Error('Invalid color "'+K+'" passed to jsPDF.encodeColorString.')}if(typeof K=="string"&&/^#[0-9A-Fa-f]{3}$/.test(K)&&(K="#"+K[1]+K[1]+K[2]+K[2]+K[3]+K[3]),typeof K=="string"&&/^#[0-9A-Fa-f]{6}$/.test(K)){var ut=parseInt(K.substr(1),16);K=ut>>16&255,ie=ut>>8&255,he=255&ut}if(ie===void 0||je===void 0&&K===ie&&ie===he)if(typeof K=="string")L=K+" "+Fe[0];else switch(h.precision){case 2:L=se(K/255)+" "+Fe[0];break;case 3:default:L=E(K/255)+" "+Fe[0]}else if(je===void 0||$t(je)==="object"){if(je&&!isNaN(je.a)&&je.a===0)return L=["1.","1.","1.",Fe[1]].join(" ");if(typeof K=="string")L=[K,ie,he,Fe[1]].join(" ");else switch(h.precision){case 2:L=[se(K/255),se(ie/255),se(he/255),Fe[1]].join(" ");break;default:case 3:L=[E(K/255),E(ie/255),E(he/255),Fe[1]].join(" ")}}else if(typeof K=="string")L=[K,ie,he,je,Fe[2]].join(" ");else switch(h.precision){case 2:L=[se(K),se(ie),se(he),se(je),Fe[2]].join(" ");break;case 3:default:L=[E(K),E(ie),E(he),E(je),Fe[2]].join(" ")}return L},Tn=m.__private__.getFilters=function(){return s},En=m.__private__.putStream=function(h){var L=(h=h||{}).data||"",K=h.filters||Tn(),ie=h.alreadyAppliedFilters||[],he=h.addLength1||!1,je=L.length,Fe=h.objectId,Qe=function(Qn){return Qn};if(y!==null&&Fe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");y!==null&&(Qe=Xn.encryptor(Fe,0));var ut={};K===!0&&(K=["FlateEncode"]);var Nt=h.additionalKeyValues||[],xt=(ut=ft.API.processDataByFilters!==void 0?ft.API.processDataByFilters(L,K):{data:L,reverseChain:[]}).reverseChain+(Array.isArray(ie)?ie.join(" "):ie.toString());if(ut.data.length!==0&&(Nt.push({key:"Length",value:ut.data.length}),he===!0&&Nt.push({key:"Length1",value:je})),xt.length!=0)if(xt.split("/").length-1==1)Nt.push({key:"Filter",value:xt});else{Nt.push({key:"Filter",value:"["+xt+"]"});for(var Ot=0;Ot<Nt.length;Ot+=1)if(Nt[Ot].key==="DecodeParms"){for(var rn=[],cn=0;cn<ut.reverseChain.split("/").length-1;cn+=1)rn.push("null");rn.push(Nt[Ot].value),Nt[Ot].value="["+rn.join(" ")+"]"}}Q("<<");for(var An=0;An<Nt.length;An++)Q("/"+Nt[An].key+" "+Nt[An].value);Q(">>"),ut.data.length!==0&&(Q("stream"),Q(Qe(ut.data)),Q("endstream"))},Mn=m.__private__.putPage=function(h){var L=h.number,K=h.data,ie=h.objId,he=h.contentsObjId;Vt(ie,!0),Q("<</Type /Page"),Q("/Parent "+h.rootDictionaryObjId+" 0 R"),Q("/Resources "+h.resourceDictionaryObjId+" 0 R"),Q("/MediaBox ["+parseFloat(U(h.mediaBox.bottomLeftX))+" "+parseFloat(U(h.mediaBox.bottomLeftY))+" "+U(h.mediaBox.topRightX)+" "+U(h.mediaBox.topRightY)+"]"),h.cropBox!==null&&Q("/CropBox ["+U(h.cropBox.bottomLeftX)+" "+U(h.cropBox.bottomLeftY)+" "+U(h.cropBox.topRightX)+" "+U(h.cropBox.topRightY)+"]"),h.bleedBox!==null&&Q("/BleedBox ["+U(h.bleedBox.bottomLeftX)+" "+U(h.bleedBox.bottomLeftY)+" "+U(h.bleedBox.topRightX)+" "+U(h.bleedBox.topRightY)+"]"),h.trimBox!==null&&Q("/TrimBox ["+U(h.trimBox.bottomLeftX)+" "+U(h.trimBox.bottomLeftY)+" "+U(h.trimBox.topRightX)+" "+U(h.trimBox.topRightY)+"]"),h.artBox!==null&&Q("/ArtBox ["+U(h.artBox.bottomLeftX)+" "+U(h.artBox.bottomLeftY)+" "+U(h.artBox.topRightX)+" "+U(h.artBox.topRightY)+"]"),typeof h.userUnit=="number"&&h.userUnit!==1&&Q("/UserUnit "+h.userUnit),Rt.publish("putPage",{objId:ie,pageContext:ct[L],pageNumber:L,page:K}),Q("/Contents "+he+" 0 R"),Q(">>"),Q("endobj");var je=K.join(`
`);return S===v.ADVANCED&&(je+=`
Q`),Vt(he,!0),En({data:je,filters:Tn(),objectId:he}),Q("endobj"),ie},k=m.__private__.putPages=function(){var h,L,K=[];for(h=1;h<=Dt;h++)ct[h].objId=It(),ct[h].contentsObjId=It();for(h=1;h<=Dt;h++)K.push(Mn({number:h,data:Ie[h],objId:ct[h].objId,contentsObjId:ct[h].contentsObjId,mediaBox:ct[h].mediaBox,cropBox:ct[h].cropBox,bleedBox:ct[h].bleedBox,trimBox:ct[h].trimBox,artBox:ct[h].artBox,userUnit:ct[h].userUnit,rootDictionaryObjId:zt,resourceDictionaryObjId:yt}));Vt(zt,!0),Q("<</Type /Pages");var ie="/Kids [";for(L=0;L<Dt;L++)ie+=K[L]+" 0 R ";Q(ie+"]"),Q("/Count "+Dt),Q(">>"),Q("endobj"),Rt.publish("postPutPages")},xe=function(h){Rt.publish("putFont",{font:h,out:Q,newObject:Lt,putStream:En}),h.isAlreadyPutted!==!0&&(h.objectNumber=Lt(),Q("<<"),Q("/Type /Font"),Q("/BaseFont /"+ko(h.postScriptName)),Q("/Subtype /Type1"),typeof h.encoding=="string"&&Q("/Encoding /"+h.encoding),Q("/FirstChar 32"),Q("/LastChar 255"),Q(">>"),Q("endobj"))},be=function(){for(var h in At)At.hasOwnProperty(h)&&(g===!1||g===!0&&b.hasOwnProperty(h))&&xe(At[h])},He=function(h){h.objectNumber=Lt();var L=[];L.push({key:"Type",value:"/XObject"}),L.push({key:"Subtype",value:"/Form"}),L.push({key:"BBox",value:"["+[U(h.x),U(h.y),U(h.x+h.width),U(h.y+h.height)].join(" ")+"]"}),L.push({key:"Matrix",value:"["+h.matrix.toString()+"]"});var K=h.pages[1].join(`
`);En({data:K,additionalKeyValues:L,objectId:h.objectNumber}),Q("endobj")},Ye=function(){for(var h in Qt)Qt.hasOwnProperty(h)&&He(Qt[h])},Pt=function(h,L){var K,ie=[],he=1/(L-1);for(K=0;K<1;K+=he)ie.push(K);if(ie.push(1),h[0].offset!=0){var je={offset:0,color:h[0].color};h.unshift(je)}if(h[h.length-1].offset!=1){var Fe={offset:1,color:h[h.length-1].color};h.push(Fe)}for(var Qe="",ut=0,Nt=0;Nt<ie.length;Nt++){for(K=ie[Nt];K>h[ut+1].offset;)ut++;var xt=h[ut].offset,Ot=(K-xt)/(h[ut+1].offset-xt),rn=h[ut].color,cn=h[ut+1].color;Qe+=Y(Math.round((1-Ot)*rn[0]+Ot*cn[0]).toString(16))+Y(Math.round((1-Ot)*rn[1]+Ot*cn[1]).toString(16))+Y(Math.round((1-Ot)*rn[2]+Ot*cn[2]).toString(16))}return Qe.trim()},Rn=function(h,L){L||(L=21);var K=Lt(),ie=Pt(h.colors,L),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+L+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),En({data:ie,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:K}),Q("endobj"),h.objectNumber=Lt(),Q("<< /ShadingType "+h.type),Q("/ColorSpace /DeviceRGB");var je="/Coords ["+U(parseFloat(h.coords[0]))+" "+U(parseFloat(h.coords[1]))+" ";h.type===2?je+=U(parseFloat(h.coords[2]))+" "+U(parseFloat(h.coords[3])):je+=U(parseFloat(h.coords[2]))+" "+U(parseFloat(h.coords[3]))+" "+U(parseFloat(h.coords[4]))+" "+U(parseFloat(h.coords[5])),Q(je+="]"),h.matrix&&Q("/Matrix ["+h.matrix.toString()+"]"),Q("/Function "+K+" 0 R"),Q("/Extend [true true]"),Q(">>"),Q("endobj")},In=function(h,L){var K=It(),ie=Lt();L.push({resourcesOid:K,objectOid:ie}),h.objectNumber=ie;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+h.boundingBox.map(U).join(" ")+"]"}),he.push({key:"XStep",value:U(h.xStep)}),he.push({key:"YStep",value:U(h.yStep)}),he.push({key:"Resources",value:K+" 0 R"}),h.matrix&&he.push({key:"Matrix",value:"["+h.matrix.toString()+"]"}),En({data:h.stream,additionalKeyValues:he,objectId:h.objectNumber}),Q("endobj")},Vn=function(h){var L;for(L in mt)mt.hasOwnProperty(L)&&(mt[L]instanceof ks?Rn(mt[L]):mt[L]instanceof Mo&&In(mt[L],h))},hr=function(h){for(var L in h.objectNumber=Lt(),Q("<<"),h)switch(L){case"opacity":Q("/ca "+se(h[L]));break;case"stroke-opacity":Q("/CA "+se(h[L]))}Q(">>"),Q("endobj")},Or=function(){var h;for(h in Ct)Ct.hasOwnProperty(h)&&hr(Ct[h])},Ca=function(){for(var h in Q("/XObject <<"),Qt)Qt.hasOwnProperty(h)&&Qt[h].objectNumber>=0&&Q("/"+h+" "+Qt[h].objectNumber+" 0 R");Rt.publish("putXobjectDict"),Q(">>")},cl=function(){Xn.oid=Lt(),Q("<<"),Q("/Filter /Standard"),Q("/V "+Xn.v),Q("/R "+Xn.r),Q("/U <"+Xn.toHexString(Xn.U)+">"),Q("/O <"+Xn.toHexString(Xn.O)+">"),Q("/P "+Xn.P),Q(">>"),Q("endobj")},Wu=function(){for(var h in Q("/Font <<"),At)At.hasOwnProperty(h)&&(g===!1||g===!0&&b.hasOwnProperty(h))&&Q("/"+h+" "+At[h].objectNumber+" 0 R");Q(">>")},Ef=function(){if(Object.keys(mt).length>0){for(var h in Q("/Shading <<"),mt)mt.hasOwnProperty(h)&&mt[h]instanceof ks&&mt[h].objectNumber>=0&&Q("/"+h+" "+mt[h].objectNumber+" 0 R");Rt.publish("putShadingPatternDict"),Q(">>")}},Hs=function(h){if(Object.keys(mt).length>0){for(var L in Q("/Pattern <<"),mt)mt.hasOwnProperty(L)&&mt[L]instanceof m.TilingPattern&&mt[L].objectNumber>=0&&mt[L].objectNumber<h&&Q("/"+L+" "+mt[L].objectNumber+" 0 R");Rt.publish("putTilingPatternDict"),Q(">>")}},Rf=function(){if(Object.keys(Ct).length>0){var h;for(h in Q("/ExtGState <<"),Ct)Ct.hasOwnProperty(h)&&Ct[h].objectNumber>=0&&Q("/"+h+" "+Ct[h].objectNumber+" 0 R");Rt.publish("putGStateDict"),Q(">>")}},yn=function(h){Vt(h.resourcesOid,!0),Q("<<"),Q("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Wu(),Ef(),Hs(h.objectOid),Rf(),Ca(),Q(">>"),Q("endobj")},Gu=function(){var h=[];be(),Or(),Ye(),Vn(h),Rt.publish("putResources"),h.forEach(yn),yn({resourcesOid:yt,objectOid:Number.MAX_SAFE_INTEGER}),Rt.publish("postPutResources")},Ku=function(){Rt.publish("putAdditionalObjects");for(var h=0;h<Be.length;h++){var L=Be[h];Vt(L.objId,!0),Q(L.content),Q("endobj")}Rt.publish("postPutAdditionalObjects")},Yu=function(h){Et[h.fontName]=Et[h.fontName]||{},Et[h.fontName][h.fontStyle]=h.id},dl=function(h,L,K,ie,he){var je={id:"F"+(Object.keys(At).length+1).toString(10),postScriptName:h,fontName:L,fontStyle:K,encoding:ie,isStandardFont:he||!1,metadata:{}};return Rt.publish("addFont",{font:je,instance:this}),At[je.id]=je,Yu(je),je.id},If=function(h){for(var L=0,K=_e.length;L<K;L++){var ie=dl.call(this,h[L][0],h[L][1],h[L][2],_e[L][3],!0);g===!1&&(b[ie]=!0);var he=h[L][0].split("-");Yu({id:ie,fontName:he[0],fontStyle:he[1]||""})}Rt.publish("addFonts",{fonts:At,dictionary:Et})},ca=function(h){return h.foo=function(){try{return h.apply(this,arguments)}catch(ie){var L=ie.stack||"";~L.indexOf(" at ")&&(L=L.split(" at ")[1]);var K="Error in function "+L.split(`
`)[0].split("<")[0]+": "+ie.message;if(!ht.console)throw new Error(K);ht.console.error(K,ie),ht.alert&&alert(K)}},h.foo.bar=h,h.foo},Vs=function(h,L){var K,ie,he,je,Fe,Qe,ut,Nt,xt;if(he=(L=L||{}).sourceEncoding||"Unicode",Fe=L.outputEncoding,(L.autoencode||Fe)&&At[$e].metadata&&At[$e].metadata[he]&&At[$e].metadata[he].encoding&&(je=At[$e].metadata[he].encoding,!Fe&&At[$e].encoding&&(Fe=At[$e].encoding),!Fe&&je.codePages&&(Fe=je.codePages[0]),typeof Fe=="string"&&(Fe=je[Fe]),Fe)){for(ut=!1,Qe=[],K=0,ie=h.length;K<ie;K++)(Nt=Fe[h.charCodeAt(K)])?Qe.push(String.fromCharCode(Nt)):Qe.push(h[K]),Qe[K].charCodeAt(0)>>8&&(ut=!0);h=Qe.join("")}for(K=h.length;ut===void 0&&K!==0;)h.charCodeAt(K-1)>>8&&(ut=!0),K--;if(!ut)return h;for(Qe=L.noBOM?[]:[254,255],K=0,ie=h.length;K<ie;K++){if((xt=(Nt=h.charCodeAt(K))>>8)>>8)throw new Error("Character at position "+K+" of string '"+h+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Qe.push(xt),Qe.push(Nt-(xt<<8))}return String.fromCharCode.apply(void 0,Qe)},Nr=m.__private__.pdfEscape=m.pdfEscape=function(h,L){return Vs(h,L).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},fl=m.__private__.beginPage=function(h){Ie[++Dt]=[],ct[Dt]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(h[0]),topRightY:Number(h[1])}},Xu(Dt),we(Ie[$])},Ju=function(h,L){var K,ie,he;switch(n=L||n,typeof h=="string"&&(K=x(h.toLowerCase()),Array.isArray(K)&&(ie=K[0],he=K[1])),Array.isArray(h)&&(ie=h[0]*Ae,he=h[1]*Ae),isNaN(ie)&&(ie=a[0],he=a[1]),(ie>14400||he>14400)&&(Kt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ie=Math.min(14400,ie),he=Math.min(14400,he)),a=[ie,he],n.substr(0,1)){case"l":he>ie&&(a=[he,ie]);break;case"p":ie>he&&(a=[he,ie])}fl(a),rc(gl),Q(da),vl!==0&&Q(vl+" J"),xl!==0&&Q(xl+" j"),Rt.publish("addPage",{pageNumber:Dt})},Of=function(h){h>0&&h<=Dt&&(Ie.splice(h,1),ct.splice(h,1),Dt--,$>Dt&&($=Dt),this.setPage($))},Xu=function(h){h>0&&h<=Dt&&($=h)},Df=m.__private__.getNumberOfPages=m.getNumberOfPages=function(){return Ie.length-1},Qu=function(h,L,K){var ie,he=void 0;return K=K||{},h=h!==void 0?h:At[$e].fontName,L=L!==void 0?L:At[$e].fontStyle,ie=h.toLowerCase(),Et[ie]!==void 0&&Et[ie][L]!==void 0?he=Et[ie][L]:Et[h]!==void 0&&Et[h][L]!==void 0?he=Et[h][L]:K.disableWarning===!1&&Kt.warn("Unable to look up font label for font '"+h+"', '"+L+"'. Refer to getFontList() for available fonts."),he||K.noFallback||(he=Et.times[L])==null&&(he=Et.times.normal),he},Ff=m.__private__.putInfo=function(){var h=Lt(),L=function(ie){return ie};for(var K in y!==null&&(L=Xn.encryptor(h,0)),Q("<<"),Q("/Producer ("+Nr(L("jsPDF "+ft.version))+")"),Ce)Ce.hasOwnProperty(K)&&Ce[K]&&Q("/"+K.substr(0,1).toUpperCase()+K.substr(1)+" ("+Nr(L(Ce[K]))+")");Q("/CreationDate ("+Nr(L(te))+")"),Q(">>"),Q("endobj")},hl=m.__private__.putCatalog=function(h){var L=(h=h||{}).rootDictionaryObjId||zt;switch(Lt(),Q("<<"),Q("/Type /Catalog"),Q("/Pages "+L+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":Q("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Q("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Q("/OpenAction [3 0 R /Fit]");break;case"original":Q("/OpenAction [3 0 R /XYZ null null 1]");break;default:var K=""+ze;K.substr(K.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&Q("/OpenAction [3 0 R /XYZ null null "+se(ze)+"]")}switch(ge||(ge="continuous"),ge){case"continuous":Q("/PageLayout /OneColumn");break;case"single":Q("/PageLayout /SinglePage");break;case"two":case"twoleft":Q("/PageLayout /TwoColumnLeft");break;case"tworight":Q("/PageLayout /TwoColumnRight")}it&&Q("/PageMode /"+it),Rt.publish("putCatalog"),Q(">>"),Q("endobj")},Mf=m.__private__.putTrailer=function(){Q("trailer"),Q("<<"),Q("/Size "+(ae+1)),Q("/Root "+ae+" 0 R"),Q("/Info "+(ae-1)+" 0 R"),y!==null&&Q("/Encrypt "+Xn.oid+" 0 R"),Q("/ID [ <"+Z+"> <"+Z+"> ]"),Q(">>")},Bf=m.__private__.putHeader=function(){Q("%PDF-"+j),Q("%ºß¬à")},zf=m.__private__.putXRef=function(){var h="0000000000";Q("xref"),Q("0 "+(ae+1)),Q("0000000000 65535 f ");for(var L=1;L<=ae;L++)typeof fe[L]=="function"?Q((h+fe[L]()).slice(-10)+" 00000 n "):fe[L]!==void 0?Q((h+fe[L]).slice(-10)+" 00000 n "):Q("0000000000 00000 n ")},$a=m.__private__.buildDocument=function(){at(),we(ye),Rt.publish("buildDocument"),Bf(),k(),Ku(),Gu(),y!==null&&cl(),Ff(),hl();var h=ve;return zf(),Mf(),Q("startxref"),Q(""+h),Q("%%EOF"),we(Ie[$]),ye.join(`
`)},Ws=m.__private__.getBlob=function(h){return new Blob([Me(h)],{type:"application/pdf"})},Gs=m.output=m.__private__.output=ca(function(h,L){switch(typeof(L=L||{})=="string"?L={filename:L}:L.filename=L.filename||"generated.pdf",h){case void 0:return $a();case"save":m.save(L.filename);break;case"arraybuffer":return Me($a());case"blob":return Ws($a());case"bloburi":case"bloburl":if(ht.URL!==void 0&&typeof ht.URL.createObjectURL=="function")return ht.URL&&ht.URL.createObjectURL(Ws($a()))||void 0;Kt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var K="",ie=$a();try{K=vm(ie)}catch{K=vm(unescape(encodeURIComponent(ie)))}return"data:application/pdf;filename="+L.filename+";base64,"+K;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",je=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';L.pdfObjectUrl&&(he=L.pdfObjectUrl,je="");var Fe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+je+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(L)+");<\/script></body></html>",Qe=ht.open();return Qe!==null&&Qe.document.write(Fe),Qe}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ht)==="[object Window]"){var ut='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(L.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+L.filename+'" width="500px" height="400px" /></body></html>',Nt=ht.open();if(Nt!==null){Nt.document.write(ut);var xt=this;Nt.document.documentElement.querySelector("#pdfViewer").onload=function(){Nt.document.title=L.filename,Nt.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(xt.output("bloburl"))}}return Nt}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ht)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Ot='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",L)+'"></iframe></body></html>',rn=ht.open();if(rn!==null&&(rn.document.write(Ot),rn.document.title=L.filename),rn||typeof safari>"u")return rn;break;case"datauri":case"dataurl":return ht.document.location.href=this.output("datauristring",L);default:return null}}),Zu=function(h){return Array.isArray(Yr)===!0&&Yr.indexOf(h)>-1};switch(r){case"pt":Ae=1;break;case"mm":Ae=72/25.4;break;case"cm":Ae=72/2.54;break;case"in":Ae=72;break;case"px":Ae=Zu("px_scaling")==1?.75:96/72;break;case"pc":case"em":Ae=12;break;case"ex":Ae=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Ae=r}var Xn=null;ke(),D();var Uf=function(h){return y!==null?Xn.encryptor(h,0):function(L){return L}},ec=m.__private__.getPageInfo=m.getPageInfo=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:ct[h].objId,pageNumber:h,pageContext:ct[h]}},vt=m.__private__.getPageInfoByObjId=function(h){if(isNaN(h)||h%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var L in ct)if(ct[L].objId===h)break;return ec(L)},qf=m.__private__.getCurrentPageInfo=m.getCurrentPageInfo=function(){return{objId:ct[$].objId,pageNumber:$,pageContext:ct[$]}};m.addPage=function(){return Ju.apply(this,arguments),this},m.setPage=function(){return Xu.apply(this,arguments),we.call(this,Ie[$]),this},m.insertPage=function(h){return this.addPage(),this.movePage($,h),this},m.movePage=function(h,L){var K,ie;if(h>L){K=Ie[h],ie=ct[h];for(var he=h;he>L;he--)Ie[he]=Ie[he-1],ct[he]=ct[he-1];Ie[L]=K,ct[L]=ie,this.setPage(L)}else if(h<L){K=Ie[h],ie=ct[h];for(var je=h;je<L;je++)Ie[je]=Ie[je+1],ct[je]=ct[je+1];Ie[L]=K,ct[L]=ie,this.setPage(L)}return this},m.deletePage=function(){return Of.apply(this,arguments),this},m.__private__.text=m.text=function(h,L,K,ie,he){var je,Fe,Qe,ut,Nt,xt,Ot,rn,cn,An=(ie=ie||{}).scope||this;if(typeof h=="number"&&typeof L=="number"&&(typeof K=="string"||Array.isArray(K))){var Qn=K;K=L,L=h,h=Qn}if(arguments[3]instanceof lt?(T("The transform parameter of text() with a Matrix value"),cn=he):(Qe=arguments[4],ut=arguments[5],$t(Ot=arguments[3])==="object"&&Ot!==null||(typeof Qe=="string"&&(ut=Qe,Qe=null),typeof Ot=="string"&&(ut=Ot,Ot=null),typeof Ot=="number"&&(Qe=Ot,Ot=null),ie={flags:Ot,angle:Qe,align:ut})),isNaN(L)||isNaN(K)||h==null)throw new Error("Invalid arguments passed to jsPDF.text");if(h.length===0)return An;var Bn="",fa=!1,Dr=typeof ie.lineHeightFactor=="number"?ie.lineHeightFactor:us,Ta=An.internal.scaleFactor;function uc(Yt){return Yt=Yt.split("	").join(Array(ie.TabLen||9).join(" ")),Nr(Yt,Ot)}function jl(Yt){for(var Jt,xn=Yt.concat(),On=[],Ka=xn.length;Ka--;)typeof(Jt=xn.shift())=="string"?On.push(Jt):Array.isArray(Yt)&&(Jt.length===1||Jt[1]===void 0&&Jt[2]===void 0)?On.push(Jt[0]):On.push([Jt[0],Jt[1],Jt[2]]);return On}function kl(Yt,Jt){var xn;if(typeof Yt=="string")xn=Jt(Yt)[0];else if(Array.isArray(Yt)){for(var On,Ka,Rl=Yt.concat(),lo=[],pc=Rl.length;pc--;)typeof(On=Rl.shift())=="string"?lo.push(Jt(On)[0]):Array.isArray(On)&&typeof On[0]=="string"&&(Ka=Jt(On[0],On[1],On[2]),lo.push([Ka[0],Ka[1],Ka[2]]));xn=lo}return xn}var Zs=!1,Al=!0;if(typeof h=="string")Zs=!0;else if(Array.isArray(h)){var Ll=h.concat();Fe=[];for(var eo,Wn=Ll.length;Wn--;)(typeof(eo=Ll.shift())!="string"||Array.isArray(eo)&&typeof eo[0]!="string")&&(Al=!1);Zs=Al}if(Zs===!1)throw new Error('Type of text must be string or Array. "'+h+'" is not recognized.');typeof h=="string"&&(h=h.match(/[\r?\n]/)?h.split(/\r\n|\r|\n/g):[h]);var to=qe/An.internal.scaleFactor,no=to*(Dr-1);switch(ie.baseline){case"bottom":K-=no;break;case"top":K+=to-no;break;case"hanging":K+=to-2*no;break;case"middle":K+=to/2-no}if((xt=ie.maxWidth||0)>0&&(typeof h=="string"?h=An.splitTextToSize(h,xt):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(Yt,Jt){return Yt.concat(An.splitTextToSize(Jt,xt))},[]))),je={text:h,x:L,y:K,options:ie,mutex:{pdfEscape:Nr,activeFontKey:$e,fonts:At,activeFontSize:qe}},Rt.publish("preProcessText",je),h=je.text,Qe=(ie=je.options).angle,!(cn instanceof lt)&&Qe&&typeof Qe=="number"){Qe*=Math.PI/180,ie.rotationDirection===0&&(Qe=-Qe),S===v.ADVANCED&&(Qe=-Qe);var ro=Math.cos(Qe),Cl=Math.sin(Qe);cn=new lt(ro,Cl,-Cl,ro,0,0)}else Qe&&Qe instanceof lt&&(cn=Qe);S!==v.ADVANCED||cn||(cn=Re),(Nt=ie.charSpace||Js)!==void 0&&(Bn+=U(_(Nt))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(rn=ie.horizontalScale)!==void 0&&(Bn+=U(100*rn)+` Tz
`),ie.lang;var Sr=-1,Qf=ie.renderingMode!==void 0?ie.renderingMode:ie.stroke,_l=An.internal.getCurrentPageInfo().pageContext;switch(Qf){case 0:case!1:case"fill":Sr=0;break;case 1:case!0:case"stroke":Sr=1;break;case 2:case"fillThenStroke":Sr=2;break;case 3:case"invisible":Sr=3;break;case 4:case"fillAndAddForClipping":Sr=4;break;case 5:case"strokeAndAddPathForClipping":Sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Sr=6;break;case 7:case"addToPathForClipping":Sr=7}var cc=_l.usedRenderingMode!==void 0?_l.usedRenderingMode:-1;Sr!==-1?Bn+=Sr+` Tr
`:cc!==-1&&(Bn+=`0 Tr
`),Sr!==-1&&(_l.usedRenderingMode=Sr),ut=ie.align||"left";var Jr,ao=qe*Dr,dc=An.internal.pageSize.getWidth(),fc=At[$e];Nt=ie.charSpace||Js,xt=ie.maxWidth||0,Ot=Object.assign({autoencode:!0,noBOM:!0},ie.flags);var yi=[],fs=function(Yt){return An.getStringUnitWidth(Yt,{font:fc,charSpace:Nt,fontSize:qe,doKerning:!1})*qe/Ta};if(Object.prototype.toString.call(h)==="[object Array]"){var jr;Fe=jl(h),ut!=="left"&&(Jr=Fe.map(fs));var pr,vi=0;if(ut==="right"){L-=Jr[0],h=[],Wn=Fe.length;for(var Va=0;Va<Wn;Va++)Va===0?(pr=Pa(L),jr=Ha(K)):(pr=_(vi-Jr[Va]),jr=-ao),h.push([Fe[Va],pr,jr]),vi=Jr[Va]}else if(ut==="center"){L-=Jr[0]/2,h=[],Wn=Fe.length;for(var Wa=0;Wa<Wn;Wa++)Wa===0?(pr=Pa(L),jr=Ha(K)):(pr=_((vi-Jr[Wa])/2),jr=-ao),h.push([Fe[Wa],pr,jr]),vi=Jr[Wa]}else if(ut==="left"){h=[],Wn=Fe.length;for(var io=0;io<Wn;io++)h.push(Fe[io])}else if(ut==="justify"&&fc.encoding==="Identity-H"){h=[],Wn=Fe.length,xt=xt!==0?xt:dc;for(var Ga=0,vn=0;vn<Wn;vn++)if(jr=vn===0?Ha(K):-ao,pr=vn===0?Pa(L):Ga,vn<Wn-1){var Pl=_((xt-Jr[vn])/(Fe[vn].split(" ").length-1)),mr=Fe[vn].split(" ");h.push([mr[0]+" ",pr,jr]),Ga=0;for(var Xr=1;Xr<mr.length;Xr++){var so=(fs(mr[Xr-1]+" "+mr[Xr])-fs(mr[Xr]))*Ta+Pl;Xr==mr.length-1?h.push([mr[Xr],so,0]):h.push([mr[Xr]+" ",so,0]),Ga-=so}}else h.push([Fe[vn],pr,jr]);h.push(["",Ga,0])}else{if(ut!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(h=[],Wn=Fe.length,xt=xt!==0?xt:dc,vn=0;vn<Wn;vn++)jr=vn===0?Ha(K):-ao,pr=vn===0?Pa(L):0,vn<Wn-1?yi.push(U(_((xt-Jr[vn])/(Fe[vn].split(" ").length-1)))):yi.push(0),h.push([Fe[vn],pr,jr])}}var hc=typeof ie.R2L=="boolean"?ie.R2L:et;hc===!0&&(h=kl(h,function(Yt,Jt,xn){return[Yt.split("").reverse().join(""),Jt,xn]})),je={text:h,x:L,y:K,options:ie,mutex:{pdfEscape:Nr,activeFontKey:$e,fonts:At,activeFontSize:qe}},Rt.publish("postProcessText",je),h=je.text,fa=je.mutex.isHex||!1;var Tl=At[$e].encoding;Tl!=="WinAnsiEncoding"&&Tl!=="StandardEncoding"||(h=kl(h,function(Yt,Jt,xn){return[uc(Yt),Jt,xn]})),Fe=jl(h),h=[];for(var hs,ps,xi,ms=0,oo=1,gs=Array.isArray(Fe[0])?oo:ms,bi="",El=function(Yt,Jt,xn){var On="";return xn instanceof lt?(xn=typeof ie.angle=="number"?G(xn,new lt(1,0,0,1,Yt,Jt)):G(new lt(1,0,0,1,Yt,Jt),xn),S===v.ADVANCED&&(xn=G(new lt(1,0,0,-1,0,0),xn)),On=xn.join(" ")+` Tm
`):On=U(Yt)+" "+U(Jt)+` Td
`,On},Qr=0;Qr<Fe.length;Qr++){switch(bi="",gs){case oo:xi=(fa?"<":"(")+Fe[Qr][0]+(fa?">":")"),hs=parseFloat(Fe[Qr][1]),ps=parseFloat(Fe[Qr][2]);break;case ms:xi=(fa?"<":"(")+Fe[Qr]+(fa?">":")"),hs=Pa(L),ps=Ha(K)}yi!==void 0&&yi[Qr]!==void 0&&(bi=yi[Qr]+` Tw
`),Qr===0?h.push(bi+El(hs,ps,cn)+xi):gs===ms?h.push(bi+xi):gs===oo&&h.push(bi+El(hs,ps,cn)+xi)}h=gs===ms?h.join(` Tj
T* `):h.join(` Tj
`),h+=` Tj
`;var Zr=`BT
/`;return Zr+=$e+" "+qe+` Tf
`,Zr+=U(qe*Dr)+` TL
`,Zr+=cs+`
`,Zr+=Bn,Zr+=h,Q(Zr+="ET"),b[$e]=!0,An};var $f=m.__private__.clip=m.clip=function(h){return Q(h==="evenodd"?"W*":"W"),this};m.clipEvenOdd=function(){return $f("evenodd")},m.__private__.discardPath=m.discardPath=function(){return Q("n"),this};var _a=m.__private__.isValidStyle=function(h){var L=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(h)!==-1&&(L=!0),L};m.__private__.setDefaultPathOperation=m.setDefaultPathOperation=function(h){return _a(h)&&(f=h),this};var tc=m.__private__.getStyle=m.getStyle=function(h){var L=f;switch(h){case"D":case"S":L="S";break;case"F":L="f";break;case"FD":case"DF":L="B";break;case"f":case"f*":case"B":case"B*":L=h}return L},nc=m.close=function(){return Q("h"),this};m.stroke=function(){return Q("S"),this},m.fill=function(h){return Ks("f",h),this},m.fillEvenOdd=function(h){return Ks("f*",h),this},m.fillStroke=function(h){return Ks("B",h),this},m.fillStrokeEvenOdd=function(h){return Ks("B*",h),this};var Ks=function(h,L){$t(L)==="object"?Vf(L,h):Q(h)},pl=function(h){h===null||S===v.ADVANCED&&h===void 0||(h=tc(h),Q(h))};function Hf(h,L,K,ie,he){var je=new Mo(L||this.boundingBox,K||this.xStep,ie||this.yStep,this.gState,he||this.matrix);je.stream=this.stream;var Fe=h+"$$"+this.cloneIndex+++"$$";return pt(Fe,je),je}var Vf=function(h,L){var K=kn[h.key],ie=mt[K];if(ie instanceof ks)Q("q"),Q(Wf(L)),ie.gState&&m.setGState(ie.gState),Q(h.matrix.toString()+" cm"),Q("/"+K+" sh"),Q("Q");else if(ie instanceof Mo){var he=new lt(1,0,0,-1,0,gi());h.matrix&&(he=he.multiply(h.matrix||Re),K=Hf.call(ie,h.key,h.boundingBox,h.xStep,h.yStep,he).id),Q("q"),Q("/Pattern cs"),Q("/"+K+" scn"),ie.gState&&m.setGState(ie.gState),Q(L),Q("Q")}},Wf=function(h){switch(h){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ml=m.moveTo=function(h,L){return Q(U(_(h))+" "+U(F(L))+" m"),this},ls=m.lineTo=function(h,L){return Q(U(_(h))+" "+U(F(L))+" l"),this},pi=m.curveTo=function(h,L,K,ie,he,je){return Q([U(_(h)),U(F(L)),U(_(K)),U(F(ie)),U(_(he)),U(F(je)),"c"].join(" ")),this};m.__private__.line=m.line=function(h,L,K,ie,he){if(isNaN(h)||isNaN(L)||isNaN(K)||isNaN(ie)||!_a(he))throw new Error("Invalid arguments passed to jsPDF.line");return S===v.COMPAT?this.lines([[K-h,ie-L]],h,L,[1,1],he||"S"):this.lines([[K-h,ie-L]],h,L,[1,1]).stroke()},m.__private__.lines=m.lines=function(h,L,K,ie,he,je){var Fe,Qe,ut,Nt,xt,Ot,rn,cn,An,Qn,Bn,fa;if(typeof h=="number"&&(fa=K,K=L,L=h,h=fa),ie=ie||[1,1],je=je||!1,isNaN(L)||isNaN(K)||!Array.isArray(h)||!Array.isArray(ie)||!_a(he)||typeof je!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ml(L,K),Fe=ie[0],Qe=ie[1],Nt=h.length,Qn=L,Bn=K,ut=0;ut<Nt;ut++)(xt=h[ut]).length===2?(Qn=xt[0]*Fe+Qn,Bn=xt[1]*Qe+Bn,ls(Qn,Bn)):(Ot=xt[0]*Fe+Qn,rn=xt[1]*Qe+Bn,cn=xt[2]*Fe+Qn,An=xt[3]*Qe+Bn,Qn=xt[4]*Fe+Qn,Bn=xt[5]*Qe+Bn,pi(Ot,rn,cn,An,Qn,Bn));return je&&nc(),pl(he),this},m.path=function(h){for(var L=0;L<h.length;L++){var K=h[L],ie=K.c;switch(K.op){case"m":ml(ie[0],ie[1]);break;case"l":ls(ie[0],ie[1]);break;case"c":pi.apply(this,ie);break;case"h":nc()}}return this},m.__private__.rect=m.rect=function(h,L,K,ie,he){if(isNaN(h)||isNaN(L)||isNaN(K)||isNaN(ie)||!_a(he))throw new Error("Invalid arguments passed to jsPDF.rect");return S===v.COMPAT&&(ie=-ie),Q([U(_(h)),U(F(L)),U(_(K)),U(_(ie)),"re"].join(" ")),pl(he),this},m.__private__.triangle=m.triangle=function(h,L,K,ie,he,je,Fe){if(isNaN(h)||isNaN(L)||isNaN(K)||isNaN(ie)||isNaN(he)||isNaN(je)||!_a(Fe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[K-h,ie-L],[he-K,je-ie],[h-he,L-je]],h,L,[1,1],Fe,!0),this},m.__private__.roundedRect=m.roundedRect=function(h,L,K,ie,he,je,Fe){if(isNaN(h)||isNaN(L)||isNaN(K)||isNaN(ie)||isNaN(he)||isNaN(je)||!_a(Fe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Qe=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*K),je=Math.min(je,.5*ie),this.lines([[K-2*he,0],[he*Qe,0,he,je-je*Qe,he,je],[0,ie-2*je],[0,je*Qe,-he*Qe,je,-he,je],[2*he-K,0],[-he*Qe,0,-he,-je*Qe,-he,-je],[0,2*je-ie],[0,-je*Qe,he*Qe,-je,he,-je]],h+he,L,[1,1],Fe,!0),this},m.__private__.ellipse=m.ellipse=function(h,L,K,ie,he){if(isNaN(h)||isNaN(L)||isNaN(K)||isNaN(ie)||!_a(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var je=4/3*(Math.SQRT2-1)*K,Fe=4/3*(Math.SQRT2-1)*ie;return ml(h+K,L),pi(h+K,L-Fe,h+je,L-ie,h,L-ie),pi(h-je,L-ie,h-K,L-Fe,h-K,L),pi(h-K,L+Fe,h-je,L+ie,h,L+ie),pi(h+je,L+ie,h+K,L+Fe,h+K,L),pl(he),this},m.__private__.circle=m.circle=function(h,L,K,ie){if(isNaN(h)||isNaN(L)||isNaN(K)||!_a(ie))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(h,L,K,K,ie)},m.setFont=function(h,L,K){return K&&(L=ne(L,K)),$e=Qu(h,L,{disableWarning:!1}),this};var Gf=m.__private__.getFont=m.getFont=function(){return At[Qu.apply(m,arguments)]};m.__private__.getFontList=m.getFontList=function(){var h,L,K={};for(h in Et)if(Et.hasOwnProperty(h))for(L in K[h]=[],Et[h])Et[h].hasOwnProperty(L)&&K[h].push(L);return K},m.addFont=function(h,L,K,ie,he){var je=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&je.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&je.indexOf(arguments[3])==-1&&(K=ne(K,ie)),he=he||"Identity-H",dl.call(this,h,L,K,he)};var us,gl=e.lineWidth||.200025,Ys=m.__private__.getLineWidth=m.getLineWidth=function(){return gl},rc=m.__private__.setLineWidth=m.setLineWidth=function(h){return gl=h,Q(U(_(h))+" w"),this};m.__private__.setLineDash=ft.API.setLineDash=ft.API.setLineDashPattern=function(h,L){if(h=h||[],L=L||0,isNaN(L)||!Array.isArray(h))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return h=h.map(function(K){return U(_(K))}).join(" "),L=U(_(L)),Q("["+h+"] "+L+" d"),this};var ac=m.__private__.getLineHeight=m.getLineHeight=function(){return qe*us};m.__private__.getLineHeight=m.getLineHeight=function(){return qe*us};var ic=m.__private__.setLineHeightFactor=m.setLineHeightFactor=function(h){return typeof(h=h||1.15)=="number"&&(us=h),this},sc=m.__private__.getLineHeightFactor=m.getLineHeightFactor=function(){return us};ic(e.lineHeight);var Pa=m.__private__.getHorizontalCoordinate=function(h){return _(h)},Ha=m.__private__.getVerticalCoordinate=function(h){return S===v.ADVANCED?h:ct[$].mediaBox.topRightY-ct[$].mediaBox.bottomLeftY-_(h)},Kf=m.__private__.getHorizontalCoordinateString=m.getHorizontalCoordinateString=function(h){return U(Pa(h))},mi=m.__private__.getVerticalCoordinateString=m.getVerticalCoordinateString=function(h){return U(Ha(h))},da=e.strokeColor||"0 G";m.__private__.getStrokeColor=m.getDrawColor=function(){return wt(da)},m.__private__.setStrokeColor=m.setDrawColor=function(h,L,K,ie){return da=gn({ch1:h,ch2:L,ch3:K,ch4:ie,pdfColorType:"draw",precision:2}),Q(da),this};var yl=e.fillColor||"0 g";m.__private__.getFillColor=m.getFillColor=function(){return wt(yl)},m.__private__.setFillColor=m.setFillColor=function(h,L,K,ie){return yl=gn({ch1:h,ch2:L,ch3:K,ch4:ie,pdfColorType:"fill",precision:2}),Q(yl),this};var cs=e.textColor||"0 g",Yf=m.__private__.getTextColor=m.getTextColor=function(){return wt(cs)};m.__private__.setTextColor=m.setTextColor=function(h,L,K,ie){return cs=gn({ch1:h,ch2:L,ch3:K,ch4:ie,pdfColorType:"text",precision:3}),this};var Js=e.charSpace,Jf=m.__private__.getCharSpace=m.getCharSpace=function(){return parseFloat(Js||0)};m.__private__.setCharSpace=m.setCharSpace=function(h){if(isNaN(h))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Js=h,this};var vl=0;m.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},m.__private__.setLineCap=m.setLineCap=function(h){var L=m.CapJoinStyles[h];if(L===void 0)throw new Error("Line cap style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vl=L,Q(L+" J"),this};var xl=0;m.__private__.setLineJoin=m.setLineJoin=function(h){var L=m.CapJoinStyles[h];if(L===void 0)throw new Error("Line join style of '"+h+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return xl=L,Q(L+" j"),this},m.__private__.setLineMiterLimit=m.__private__.setMiterLimit=m.setLineMiterLimit=m.setMiterLimit=function(h){if(h=h||0,isNaN(h))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Q(U(_(h))+" M"),this},m.GState=ef,m.setGState=function(h){(h=typeof h=="string"?Ct[pn[h]]:oc(null,h)).equals(cr)||(Q("/"+h.id+" gs"),cr=h)};var oc=function(h,L){if(!h||!pn[h]){var K=!1;for(var ie in Ct)if(Ct.hasOwnProperty(ie)&&Ct[ie].equals(L)){K=!0;break}if(K)L=Ct[ie];else{var he="GS"+(Object.keys(Ct).length+1).toString(10);Ct[he]=L,L.id=he}return h&&(pn[h]=L.id),Rt.publish("addGState",L),L}};m.addGState=function(h,L){return oc(h,L),this},m.saveGraphicsState=function(){return Q("q"),kt.push({key:$e,size:qe,color:cs}),this},m.restoreGraphicsState=function(){Q("Q");var h=kt.pop();return $e=h.key,qe=h.size,cs=h.color,cr=null,this},m.setCurrentTransformationMatrix=function(h){return Q(h.toString()+" cm"),this},m.comment=function(h){return Q("#"+h),this};var Xs=function(h,L){var K=h||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(je){isNaN(je)||(K=parseFloat(je))}});var ie=L||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ie},set:function(je){isNaN(je)||(ie=parseFloat(je))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(je){he=je.toString()}}),this},bl=function(h,L,K,ie){Xs.call(this,h,L),this.type="rect";var he=K||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(Fe){isNaN(Fe)||(he=parseFloat(Fe))}});var je=ie||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return je},set:function(Fe){isNaN(Fe)||(je=parseFloat(Fe))}}),this},wl=function(){this.page=Dt,this.currentPage=$,this.pages=Ie.slice(0),this.pagesContext=ct.slice(0),this.x=ot,this.y=nt,this.matrix=gt,this.width=ds($),this.height=gi($),this.outputDestination=Ve,this.id="",this.objectNumber=-1};wl.prototype.restore=function(){Dt=this.page,$=this.currentPage,ct=this.pagesContext,Ie=this.pages,ot=this.x,nt=this.y,gt=this.matrix,Nl($,this.width),Sl($,this.height),Ve=this.outputDestination};var lc=function(h,L,K,ie,he){fr.push(new wl),Dt=$=0,Ie=[],ot=h,nt=L,gt=he,fl([K,ie])},Xf=function(h){if(dr[h])fr.pop().restore();else{var L=new wl,K="Xo"+(Object.keys(Qt).length+1).toString(10);L.id=K,dr[h]=K,Qt[K]=L,Rt.publish("addFormObject",L),fr.pop().restore()}};for(var Qs in m.beginFormObject=function(h,L,K,ie,he){return lc(h,L,K,ie,he),this},m.endFormObject=function(h){return Xf(h),this},m.doFormObject=function(h,L){var K=Qt[dr[h]];return Q("q"),Q(L.toString()+" cm"),Q("/"+K.id+" Do"),Q("Q"),this},m.getFormObject=function(h){var L=Qt[dr[h]];return{x:L.x,y:L.y,width:L.width,height:L.height,matrix:L.matrix}},m.save=function(h,L){return h=h||"generated.pdf",(L=L||{}).returnPromise=L.returnPromise||!1,L.returnPromise===!1?(js(Ws($a()),h),typeof js.unload=="function"&&ht.setTimeout&&setTimeout(js.unload,911),this):new Promise(function(K,ie){try{var he=js(Ws($a()),h);typeof js.unload=="function"&&ht.setTimeout&&setTimeout(js.unload,911),K(he)}catch(je){ie(je.message)}})},ft.API)ft.API.hasOwnProperty(Qs)&&(Qs==="events"&&ft.API.events.length?function(h,L){var K,ie,he;for(he=L.length-1;he!==-1;he--)K=L[he][0],ie=L[he][1],h.subscribe.apply(h,[K].concat(typeof ie=="function"?[ie]:ie))}(Rt,ft.API.events):m[Qs]=ft.API[Qs]);var ds=m.getPageWidth=function(h){return(ct[h=h||$].mediaBox.topRightX-ct[h].mediaBox.bottomLeftX)/Ae},Nl=m.setPageWidth=function(h,L){ct[h].mediaBox.topRightX=L*Ae+ct[h].mediaBox.bottomLeftX},gi=m.getPageHeight=function(h){return(ct[h=h||$].mediaBox.topRightY-ct[h].mediaBox.bottomLeftY)/Ae},Sl=m.setPageHeight=function(h,L){ct[h].mediaBox.topRightY=L*Ae+ct[h].mediaBox.bottomLeftY};return m.internal={pdfEscape:Nr,getStyle:tc,getFont:Gf,getFontSize:Ge,getCharSpace:Jf,getTextColor:Yf,getLineHeight:ac,getLineHeightFactor:sc,getLineWidth:Ys,write:Je,getHorizontalCoordinate:Pa,getVerticalCoordinate:Ha,getCoordinateString:Kf,getVerticalCoordinateString:mi,collections:{},newObject:Lt,newAdditionalObject:mn,newObjectDeferred:It,newObjectDeferredBegin:Vt,getFilters:Tn,putStream:En,events:Rt,scaleFactor:Ae,pageSize:{getWidth:function(){return ds($)},setWidth:function(h){Nl($,h)},getHeight:function(){return gi($)},setHeight:function(h){Sl($,h)}},encryptionOptions:y,encryption:Xn,getEncryptor:Uf,output:Gs,getNumberOfPages:Df,pages:Ie,out:Q,f2:se,f3:E,getPageInfo:ec,getPageInfoByObjId:vt,getCurrentPageInfo:qf,getPDFVersion:w,Point:Xs,Rectangle:bl,Matrix:lt,hasHotfix:Zu},Object.defineProperty(m.internal.pageSize,"width",{get:function(){return ds($)},set:function(h){Nl($,h)},enumerable:!0,configurable:!0}),Object.defineProperty(m.internal.pageSize,"height",{get:function(){return gi($)},set:function(h){Sl($,h)},enumerable:!0,configurable:!0}),If.call(m,_e),$e="F1",Ju(a,n),Rt.publish("initialized"),m}jo.prototype.lsbFirstWord=function(e){return String.fromCharCode(e>>0&255,e>>8&255,e>>16&255,e>>24&255)},jo.prototype.toHexString=function(e){return e.split("").map(function(t){return("0"+(255&t.charCodeAt(0)).toString(16)).slice(-2)}).join("")},jo.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},jo.prototype.processOwnerPassword=function(e,t){return bm(xm(t).substr(0,5),e)},jo.prototype.encryptor=function(e,t){var n=xm(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(r){return bm(n,r)}},ef.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||$t(e)!==$t(this))return!1;var r=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t)||this[t]!==e[t])return!1;r++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&r--;return r===0},ft.API={events:[]},ft.version="3.0.1";var fn=ft.API,_1=1,$s=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},vo=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},bt=function(e){return e.toFixed(2)},Ti=function(e){return e.toFixed(5)};fn.__acroform__={};var Ir=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},V2=function(e){return e*_1},Oa=function(e){var t=new Nv,n=rt.internal.getHeight(e)||0,r=rt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(bt(r)),Number(bt(n))],t},N6=fn.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|=1<<t},S6=fn.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&=~(1<<t)},j6=fn.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return e&1<<t?1:0},wn=fn.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return j6(e,t-1)},Nn=fn.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return N6(e,t-1)},Sn=fn.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return S6(e,t-1)},k6=fn.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,a=e[0],i=e[1],s=e[2],u=e[3],c={};return c.lowerLeft_X=n(a)||0,c.lowerLeft_Y=r(i+u)||0,c.upperRight_X=n(a+s)||0,c.upperRight_Y=r(i)||0,[Number(bt(c.lowerLeft_X)),Number(bt(c.lowerLeft_Y)),Number(bt(c.upperRight_X)),Number(bt(c.upperRight_Y))]},A6=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=wm(e,n),a=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+a+" "+bt(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var i=Oa(e);return i.scope=e.scope,i.stream=t.join(`
`),i}},wm=function(e,t){var n=e.fontSize===0?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},a=(t=(t=t.substr(0,1)=="("?t.substr(1):t).substr(t.length-1)==")"?t.substr(0,t.length-1):t).split(" ");a=e.multiline?a.map(function(E){return E.split(`
`)}):a.map(function(E){return[E]});var i=n,s=rt.internal.getHeight(e)||0;s=s<0?-s:s;var u=rt.internal.getWidth(e)||0;u=u<0?-u:u;var c=function(E,_,W){if(E+1<a.length){var F=_+" "+a[E+1][0];return Zc(F,e,W).width<=u-4}return!1};i++;e:for(;i>0;){t="",i--;var f,y,g=Zc("3",e,i).height,b=e.multiline?s-i:(s-g)/2,m=b+=2,j=0,w=0,P=0;if(i<=0){t=`(...) Tj
`,t+="% Width of Text: "+Zc(t,e,i=12).width+", FieldWidth:"+u+`
`;break}for(var x="",v=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var B=!1;if(a[S].length!==1&&P!==a[S].length-1){if((g+2)*(v+2)+2>s)continue e;x+=a[S][P],B=!0,w=S,S--}else{x=(x+=a[S][P]+" ").substr(x.length-1)==" "?x.substr(0,x.length-1):x;var J=parseInt(S),ne=c(J,x,i),U=S>=a.length-1;if(ne&&!U){x+=" ",P=0;continue}if(ne||U){if(U)w=J;else if(e.multiline&&(g+2)*(v+2)+2>s)continue e}else{if(!e.multiline||(g+2)*(v+2)+2>s)continue e;w=J}}for(var T="",V=j;V<=w;V++){var se=a[V];if(e.multiline){if(V===w){T+=se[P]+" ",P=(P+1)%se.length;continue}if(V===j){T+=se[se.length-1]+" ";continue}}T+=se[0]+" "}switch(T=T.substr(T.length-1)==" "?T.substr(0,T.length-1):T,y=Zc(T,e,i).width,e.textAlign){case"right":f=u-y-2;break;case"center":f=(u-y)/2;break;case"left":default:f=2}t+=bt(f)+" "+bt(m)+` Td
`,t+="("+$s(T)+`) Tj
`,t+=-bt(f)+` 0 Td
`,m=-(i+2),y=0,j=B?w:w+1,v++,x=""}break}return r.text=t,r.fontSize=i,r},Zc=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),a=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:a}},L6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},C6=function(e,t){var n={type:"reference",object:e};t.internal.getPageInfo(e.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},_6=function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),$t(a)==="object"&&typeof a.putStream=="function"&&a.putStream(),delete e[r]}},P6=function(e,t){if(t.scope=e,e.internal!==void 0&&(e.internal.acroformPlugin===void 0||e.internal.acroformPlugin.isInitialized===!1)){if(Aa.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify(L6)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_1=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new Sv,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(e)}),e.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in r)if(r.hasOwnProperty(a)){var i=r[a];i.objId=void 0,i.hasAnnotation&&C6(i,n)}})(e)}),e.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(e)}),e.internal.events.subscribe("postPutPages",function(n){(function(r,a){var i=!r;for(var s in r||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(s)){var u=r[s],c=[],f=u.Rect;if(u.Rect&&(u.Rect=k6(u.Rect,a)),a.internal.newObjectDeferredBegin(u.objId,!0),u.DA=rt.createDefaultAppearanceStream(u),$t(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(c=u.getKeyValueListForStream()),u.Rect=f,u.hasAppearanceStream&&!u.appearanceStreamContent){var y=A6(u);c.push({key:"AP",value:"<</N "+y+">>"}),a.internal.acroformPlugin.xForms.push(y)}if(u.appearanceStreamContent){var g="";for(var b in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(b)){var m=u.appearanceStreamContent[b];if(g+="/"+b+" ",g+="<<",Object.keys(m).length>=1||Array.isArray(m)){for(var s in m)if(m.hasOwnProperty(s)){var j=m[s];typeof j=="function"&&(j=j.call(a,u)),g+="/"+s+" "+j+" ",a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j)}}else typeof(j=m)=="function"&&(j=j.call(a,u)),g+="/"+s+" "+j,a.internal.acroformPlugin.xForms.indexOf(j)>=0||a.internal.acroformPlugin.xForms.push(j);g+=">>"}c.push({key:"AP",value:`<<
`+g+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:u.objId}),a.internal.out("endobj")}i&&_6(a.internal.acroformPlugin.xForms,a)})(n,e)}),e.internal.acroformPlugin.isInitialized=!0}},wv=fn.__acroform__.arrayToPdfArray=function(e,t,n){var r=function(s){return s};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(i!==0&&(a+=" "),$t(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":e[i].substr(0,1)!=="/"?(t!==void 0&&n&&(r=n.internal.getEncryptor(t)),a+="("+$s(r(e[i].toString()))+")"):a+=e[i].toString()}return a+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Zh=function(e,t,n){var r=function(a){return a};return t!==void 0&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),e="("+$s(r(e))+")"},Ma=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ma.prototype.toString=function(){return this.objId+" 0 R"},Ma.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},Ma.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var n in t)if(Object.getOwnPropertyDescriptor(this,t[n]).configurable===!1){var r=t[n],a=this[r];a&&(Array.isArray(a)?e.push({key:r,value:wv(a,this.objId,this.scope)}):a instanceof Ma?(a.scope=this.scope,e.push({key:r,value:a.objId+" 0 R"})):typeof a!="function"&&e.push({key:r,value:a}))}return e};var Nv=function(){Ma.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){e=n.trim()},get:function(){return e||null}})};Ir(Nv,Ma);var Sv=function(){Ma.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+$s(n(e))+")"}},set:function(n){e=n}})};Ir(Sv,Ma);var Aa=function e(){Ma.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute F supplied.');t=x}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!wn(t,3)},set:function(x){x?this.F=Nn(t,3):this.F=Sn(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(x){if(isNaN(x))throw new Error('Invalid value "'+x+'" for attribute Ff supplied.');n=x}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(x){r=x!==void 0?x:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(x){r[0]=x}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(x){r[1]=x}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(x){r[2]=x}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(x){r[3]=x}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(x){switch(x){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=x;break;default:throw new Error('Invalid value "'+x+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof tf)return;i="FieldObject"+e.FieldNum++}var x=function(v){return v};return this.scope&&(x=this.scope.internal.getEncryptor(this.objId)),"("+$s(x(i))+")"},set:function(x){i=x.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(x){i=x}});var s="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return s},set:function(x){s=x}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(x){u=x}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(x){c=x}});var f=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return f===void 0?50/_1:f},set:function(x){f=x}});var y="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return y},set:function(x){y=x}});var g="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!g||this instanceof tf||this instanceof Rs))return Zh(g,this.objId,this.scope)},set:function(x){x=x.toString(),g=x}});var b=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof $n?b:Zh(b,this.objId,this.scope)},set:function(x){x=x.toString(),b=this instanceof $n?x:x.substr(0,1)==="("?vo(x.substr(1,x.length-2)):vo(x)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?vo(b.substr(1,b.length-1)):b},set:function(x){x=x.toString(),b=this instanceof $n?"/"+x:x}});var m=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(m)return m},set:function(x){this.V=x}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof $n?m:Zh(m,this.objId,this.scope)},set:function(x){x=x.toString(),m=this instanceof $n?x:x.substr(0,1)==="("?vo(x.substr(1,x.length-2)):vo(x)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof $n?vo(m.substr(1,m.length-1)):m},set:function(x){x=x.toString(),m=this instanceof $n?"/"+x:x}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(x){x=!!x,w=x}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(x){j=x}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,1)},set:function(x){x?this.Ff=Nn(this.Ff,1):this.Ff=Sn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,2)},set:function(x){x?this.Ff=Nn(this.Ff,2):this.Ff=Sn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,3)},set:function(x){x?this.Ff=Nn(this.Ff,3):this.Ff=Sn(this.Ff,3)}});var P=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(P!==null)return P},set:function(x){if([0,1,2].indexOf(x)===-1)throw new Error('Invalid value "'+x+'" for attribute Q supplied.');P=x}}),Object.defineProperty(this,"textAlign",{get:function(){var x;switch(P){case 0:default:x="left";break;case 1:x="center";break;case 2:x="right"}return x},configurable:!0,enumerable:!0,set:function(x){switch(x){case"right":case 2:P=2;break;case"center":case 1:P=1;break;case"left":case 0:default:P=0}}})};Ir(Aa,Ma);var Vo=function(){Aa.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(n){e=n}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return wv(t,this.objId,this.scope)},set:function(n){var r,a;a=[],typeof(r=n)=="string"&&(a=function(i,s,u){u||(u=1);for(var c,f=[];c=s.exec(i);)f.push(c[u]);return f}(r,/\((.*?)\)/g)),t=a}}),this.getOptions=function(){return t},this.setOptions=function(n){t=n,this.sort&&t.sort()},this.addOption=function(n){n=(n=n||"").toString(),t.push(n),this.sort&&t.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();t.indexOf(n)!==-1&&(t.splice(t.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,18)},set:function(n){n?this.Ff=Nn(this.Ff,18):this.Ff=Sn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Nn(this.Ff,19):this.Ff=Sn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,20)},set:function(n){n?(this.Ff=Nn(this.Ff,20),t.sort()):this.Ff=Sn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,22)},set:function(n){n?this.Ff=Nn(this.Ff,22):this.Ff=Sn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(n){n?this.Ff=Nn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,27)},set:function(n){n?this.Ff=Nn(this.Ff,27):this.Ff=Sn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ir(Vo,Aa);var Wo=function(){Vo.call(this),this.fontName="helvetica",this.combo=!1};Ir(Wo,Vo);var Go=function(){Wo.call(this),this.combo=!0};Ir(Go,Wo);var bd=function(){Go.call(this),this.edit=!0};Ir(bd,Go);var $n=function(){Aa.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,15)},set:function(n){n?this.Ff=Nn(this.Ff,15):this.Ff=Sn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,16)},set:function(n){n?this.Ff=Nn(this.Ff,16):this.Ff=Sn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,17)},set:function(n){n?this.Ff=Nn(this.Ff,17):this.Ff=Sn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(n){n?this.Ff=Nn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(i){return i};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(t).length!==0){var r,a=[];for(r in a.push("<<"),t)a.push("/"+r+" ("+$s(n(t[r]))+")");return a.push(">>"),a.join(`
`)}},set:function(n){$t(n)==="object"&&(t=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(n){typeof n=="string"&&(t.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(n){e="/"+n}})};Ir($n,Aa);var wd=function(){$n.call(this),this.pushButton=!0};Ir(wd,$n);var Ko=function(){$n.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t!==void 0?t:[]}})};Ir(Ko,$n);var tf=function(){var e,t;Aa.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(a){e=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(a){t=a}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(u){return u};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var i,s=[];for(i in s.push("<<"),r)s.push("/"+i+" ("+$s(a(r[i]))+")");return s.push(">>"),s.join(`
`)},set:function(a){$t(a)==="object"&&(r=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(a){typeof a=="string"&&(r.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(a){n=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(a){n="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=rt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ir(tf,Aa),Ko.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},Ko.prototype.createOption=function(e){var t=new tf;return t.Parent=this,t.optionName=e,this.Kids.push(t),T6.call(this.scope,t),t};var Nd=function(){$n.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=rt.CheckBox.createAppearanceStream()};Ir(Nd,$n);var Rs=function(){Aa.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,13)},set:function(t){t?this.Ff=Nn(this.Ff,13):this.Ff=Sn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,21)},set:function(t){t?this.Ff=Nn(this.Ff,21):this.Ff=Sn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,23)},set:function(t){t?this.Ff=Nn(this.Ff,23):this.Ff=Sn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,24)},set:function(t){t?this.Ff=Nn(this.Ff,24):this.Ff=Sn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,25)},set:function(t){t?this.Ff=Nn(this.Ff,25):this.Ff=Sn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,26)},set:function(t){t?this.Ff=Nn(this.Ff,26):this.Ff=Sn(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ir(Rs,Aa);var Sd=function(){Rs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!wn(this.Ff,14)},set:function(e){e?this.Ff=Nn(this.Ff,14):this.Ff=Sn(this.Ff,14)}}),this.password=!0};Ir(Sd,Rs);var rt={CheckBox:{createAppearanceStream:function(){return{N:{On:rt.CheckBox.YesNormal},D:{On:rt.CheckBox.YesPushDown,Off:rt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,a=e.scope.__private__.encodeColorString(e.color),i=wm(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+bt(i.fontSize)+" Tf "+a),n.push("BT"),n.push(i.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join(`
`),t},YesNormal:function(e){var t=Oa(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),a=[],i=rt.internal.getHeight(e),s=rt.internal.getWidth(e),u=wm(e,e.caption);return a.push("1 g"),a.push("0 0 "+bt(s)+" "+bt(i)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+bt(s-1)+" "+bt(i-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+n+" "+bt(u.fontSize)+" Tf "+r),a.push(u.text),a.push("ET"),a.push("Q"),t.stream=a.join(`
`),t},OffPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Circle.YesNormal,t.D[e]=rt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=Oa(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=rt.internal.Bezier_C,i=Number((r*a).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ti(rt.internal.getWidth(e)/2)+" "+Ti(rt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5)),s=Number((r*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ti(rt.internal.getWidth(e)/2)+" "+Ti(rt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ti(rt.internal.getWidth(e)/2)+" "+Ti(rt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t},OffPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=[],r=rt.internal.getWidth(e)<=rt.internal.getHeight(e)?rt.internal.getWidth(e)/4:rt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var a=Number((2*r).toFixed(5)),i=Number((a*rt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ti(rt.internal.getWidth(e)/2)+" "+Ti(rt.internal.getHeight(e)/2)+" cm"),n.push(a+" 0 m"),n.push(a+" "+i+" "+i+" "+a+" 0 "+a+" c"),n.push("-"+i+" "+a+" -"+a+" "+i+" -"+a+" 0 c"),n.push("-"+a+" -"+i+" -"+i+" -"+a+" 0 -"+a+" c"),n.push(i+" -"+a+" "+a+" -"+i+" "+a+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join(`
`),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:rt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=rt.RadioButton.Cross.YesNormal,t.D[e]=rt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=Oa(e);t.scope=e.scope;var n=[],r=rt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+bt(rt.internal.getWidth(e)-2)+" "+bt(rt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(bt(r.x1.x)+" "+bt(r.x1.y)+" m"),n.push(bt(r.x2.x)+" "+bt(r.x2.y)+" l"),n.push(bt(r.x4.x)+" "+bt(r.x4.y)+" m"),n.push(bt(r.x3.x)+" "+bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join(`
`),t},YesPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=rt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+bt(rt.internal.getWidth(e)-2)+" "+bt(rt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(bt(n.x1.x)+" "+bt(n.x1.y)+" m"),r.push(bt(n.x2.x)+" "+bt(n.x2.y)+" l"),r.push(bt(n.x4.x)+" "+bt(n.x4.y)+" m"),r.push(bt(n.x3.x)+" "+bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join(`
`),t},OffPushDown:function(e){var t=Oa(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+bt(rt.internal.getWidth(e))+" "+bt(rt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join(`
`),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};rt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=rt.internal.getWidth(e),n=rt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},rt.internal.getWidth=function(e){var t=0;return $t(e)==="object"&&(t=V2(e.Rect[2])),t},rt.internal.getHeight=function(e){var t=0;return $t(e)==="object"&&(t=V2(e.Rect[3])),t};var T6=fn.addField=function(e){if(P6(this,e),!(e instanceof Aa))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};fn.AcroFormChoiceField=Vo,fn.AcroFormListBox=Wo,fn.AcroFormComboBox=Go,fn.AcroFormEditBox=bd,fn.AcroFormButton=$n,fn.AcroFormPushButton=wd,fn.AcroFormRadioButton=Ko,fn.AcroFormCheckBox=Nd,fn.AcroFormTextField=Rs,fn.AcroFormPasswordField=Sd,fn.AcroFormAppearance=rt,fn.AcroForm={ChoiceField:Vo,ListBox:Wo,ComboBox:Go,EditBox:bd,Button:$n,PushButton:wd,RadioButton:Ko,CheckBox:Nd,TextField:Rs,PasswordField:Sd,Appearance:rt},ft.AcroForm={ChoiceField:Vo,ListBox:Wo,ComboBox:Go,EditBox:bd,Button:$n,PushButton:wd,RadioButton:Ko,CheckBox:Nd,TextField:Rs,PasswordField:Sd,Appearance:rt};ft.AcroForm;function jv(e){return e.reduce(function(t,n,r){return t[n]=r,t},{})}(function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=e.__addimage__.getImageFileTypeByImageData=function(E,_){var W,F,te,Z,de,D=t;if((_=_||t)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(ne(E))for(de in n)for(te=n[de],W=0;W<te.length;W+=1){for(Z=!0,F=0;F<te[W].length;F+=1)if(te[W][F]!==void 0&&te[W][F]!==E[F]){Z=!1;break}if(Z===!0){D=de;break}}else for(de in n)for(te=n[de],W=0;W<te.length;W+=1){for(Z=!0,F=0;F<te[W].length;F+=1)if(te[W][F]!==void 0&&te[W][F]!==E.charCodeAt(F)){Z=!1;break}if(Z===!0){D=de;break}}return D===t&&_!==t&&(D=_),D},a=function E(_){for(var W=this.internal.write,F=this.internal.putStream,te=(0,this.internal.getFilters)();te.indexOf("FlateEncode")!==-1;)te.splice(te.indexOf("FlateEncode"),1);_.objectId=this.internal.newObject();var Z=[];if(Z.push({key:"Type",value:"/XObject"}),Z.push({key:"Subtype",value:"/Image"}),Z.push({key:"Width",value:_.width}),Z.push({key:"Height",value:_.height}),_.colorSpace===P.INDEXED?Z.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(_.palette.length/3-1)+" "+("sMask"in _&&_.sMask!==void 0?_.objectId+2:_.objectId+1)+" 0 R]"}):(Z.push({key:"ColorSpace",value:"/"+_.colorSpace}),_.colorSpace===P.DEVICE_CMYK&&Z.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Z.push({key:"BitsPerComponent",value:_.bitsPerComponent}),"decodeParameters"in _&&_.decodeParameters!==void 0&&Z.push({key:"DecodeParms",value:"<<"+_.decodeParameters+">>"}),"transparency"in _&&Array.isArray(_.transparency)){for(var de="",D=0,X=_.transparency.length;D<X;D++)de+=_.transparency[D]+" "+_.transparency[D]+" ";Z.push({key:"Mask",value:"["+de+"]"})}_.sMask!==void 0&&Z.push({key:"SMask",value:_.objectId+1+" 0 R"});var re=_.filter!==void 0?["/"+_.filter]:void 0;if(F({data:_.data,additionalKeyValues:Z,alreadyAppliedFilters:re,objectId:_.objectId}),W("endobj"),"sMask"in _&&_.sMask!==void 0){var ke="/Predictor "+_.predictor+" /Colors 1 /BitsPerComponent "+_.bitsPerComponent+" /Columns "+_.width,C={width:_.width,height:_.height,colorSpace:"DeviceGray",bitsPerComponent:_.bitsPerComponent,decodeParameters:ke,data:_.sMask};"filter"in _&&(C.filter=_.filter),E.call(this,C)}if(_.colorSpace===P.INDEXED){var $=this.internal.newObject();F({data:T(new Uint8Array(_.palette)),objectId:$}),W("endobj")}},i=function(){var E=this.internal.collections.addImage_images;for(var _ in E)a.call(this,E[_])},s=function(){var E,_=this.internal.collections.addImage_images,W=this.internal.write;for(var F in _)W("/I"+(E=_[F]).index,E.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",s))},c=function(){var E=this.internal.collections.addImage_images;return u.call(this),E},f=function(){return Object.keys(this.internal.collections.addImage_images).length},y=function(E){return typeof e["process"+E.toUpperCase()]=="function"},g=function(E){return $t(E)==="object"&&E.nodeType===1},b=function(E,_){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var W=""+E.getAttribute("src");if(W.indexOf("data:image/")===0)return mu(unescape(W).split("base64,").pop());var F=e.loadFile(W,!0);if(F!==void 0)return F}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var te;switch(_){case"PNG":te="image/png";break;case"WEBP":te="image/webp";break;case"JPEG":case"JPG":default:te="image/jpeg"}return mu(E.toDataURL(te,1).split("base64,").pop())}},m=function(E){var _=this.internal.collections.addImage_images;if(_){for(var W in _)if(E===_[W].alias)return _[W]}},j=function(E,_,W){return E||_||(E=-96,_=-96),E<0&&(E=-1*W.width*72/E/this.internal.scaleFactor),_<0&&(_=-1*W.height*72/_/this.internal.scaleFactor),E===0&&(E=_*W.width/W.height),_===0&&(_=E*W.height/W.width),[E,_]},w=function(E,_,W,F,te,Z){var de=j.call(this,W,F,te),D=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,re=c.call(this);if(W=de[0],F=de[1],re[te.index]=te,Z){Z*=Math.PI/180;var ke=Math.cos(Z),C=Math.sin(Z),$=function(Y){return Y.toFixed(4)},q=[$(ke),$(C),$(-1*C),$(ke),0,0,"cm"]}this.internal.write("q"),Z?(this.internal.write([1,"0","0",1,D(E),X(_+F),"cm"].join(" ")),this.internal.write(q.join(" ")),this.internal.write([D(W),"0","0",D(F),"0","0","cm"].join(" "))):this.internal.write([D(W),"0","0",D(F),D(E),X(_+F),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+te.index+" Do"),this.internal.write("Q")},P=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},v=e.__addimage__.sHashCode=function(E){var _,W,F=0;if(typeof E=="string")for(W=E.length,_=0;_<W;_++)F=(F<<5)-F+E.charCodeAt(_),F|=0;else if(ne(E))for(W=E.byteLength/2,_=0;_<W;_++)F=(F<<5)-F+E[_],F|=0;return F},S=e.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var _=!0;return E.length===0&&(_=!1),E.length%4!=0&&(_=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(_=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(_=!1),_},B=e.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var _=E.indexOf(",");return _<0?null:E.substring(0,_).trim().endsWith("base64")?E.substring(_+1):null},J=e.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};e.__addimage__.isArrayBuffer=function(E){return J()&&E instanceof ArrayBuffer};var ne=e.__addimage__.isArrayBufferView=function(E){return J()&&typeof Uint32Array<"u"&&(E instanceof Int8Array||E instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array)},U=e.__addimage__.binaryStringToUint8Array=function(E){for(var _=E.length,W=new Uint8Array(_),F=0;F<_;F++)W[F]=E.charCodeAt(F);return W},T=e.__addimage__.arrayBufferToBinaryString=function(E){for(var _="",W=ne(E)?E:new Uint8Array(E),F=0;F<W.length;F+=8192)_+=String.fromCharCode.apply(null,W.subarray(F,F+8192));return _};e.addImage=function(){var E,_,W,F,te,Z,de,D,X;if(typeof arguments[1]=="number"?(_=t,W=arguments[1],F=arguments[2],te=arguments[3],Z=arguments[4],de=arguments[5],D=arguments[6],X=arguments[7]):(_=arguments[1],W=arguments[2],F=arguments[3],te=arguments[4],Z=arguments[5],de=arguments[6],D=arguments[7],X=arguments[8]),$t(E=arguments[0])==="object"&&!g(E)&&"imageData"in E){var re=E;E=re.imageData,_=re.format||_||t,W=re.x||W||0,F=re.y||F||0,te=re.w||re.width||te,Z=re.h||re.height||Z,de=re.alias||de,D=re.compression||D,X=re.rotation||re.angle||X}var ke=this.internal.getFilters();if(D===void 0&&ke.indexOf("FlateEncode")!==-1&&(D="SLOW"),isNaN(W)||isNaN(F))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var C=V.call(this,E,_,de,D);return w.call(this,W,F,te,Z,C,X),this};var V=function(E,_,W,F){var te,Z,de;if(typeof E=="string"&&r(E)===t){E=unescape(E);var D=se(E,!1);(D!==""||(D=e.loadFile(E,!0))!==void 0)&&(E=D)}if(g(E)&&(E=b(E,_)),_=r(E,_),!y(_))throw new Error("addImage does not support files of type '"+_+"', please ensure that a plugin for '"+_+"' support is added.");if(((de=W)==null||de.length===0)&&(W=function(X){return typeof X=="string"||ne(X)?v(X):ne(X.data)?v(X.data):null}(E)),(te=m.call(this,W))||(J()&&(E instanceof Uint8Array||_==="RGBA"||(Z=E,E=U(E))),te=this["process"+_.toUpperCase()](E,f.call(this),W,function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in e.image_compression?X:x.NONE}(F),Z)),!te)throw new Error("An unknown error occurred whilst processing the image.");return te},se=e.__addimage__.convertBase64ToBinaryString=function(E,_){_=typeof _!="boolean"||_;var W,F="";if(typeof E=="string"){var te;W=(te=B(E))!==null&&te!==void 0?te:E;try{F=mu(W)}catch(Z){if(_)throw S(W)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Z.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return F};e.getImageProperties=function(E){var _,W,F="";if(g(E)&&(E=b(E)),typeof E=="string"&&r(E)===t&&((F=se(E,!1))===""&&(F=e.loadFile(E)||""),E=F),W=r(E),!y(W))throw new Error("addImage does not support files of type '"+W+"', please ensure that a plugin for '"+W+"' support is added.");if(!J()||E instanceof Uint8Array||(E=U(E)),!(_=this["process"+W.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return _.fileType=W,_}})(ft.API),function(e){var t=function(n){if(n!==void 0&&n!="")return!0};ft.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(n){for(var r,a,i,s=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),f=n.pageContext.annotations,y=!1,g=0;g<f.length&&!y;g++)switch((r=f[g]).type){case"link":(t(r.options.url)||t(r.options.pageNumber))&&(y=!0);break;case"reference":case"text":case"freetext":y=!0}if(y!=0){this.internal.write("/Annots [");for(var b=0;b<f.length;b++){r=f[b];var m=this.internal.pdfEscape,j=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),P=this.internal.newAdditionalObject(),x=this.internal.getEncryptor(w.objId),v=r.title||"Note";i="<</Type /Annot /Subtype /Text "+(a="/Rect ["+s(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+m(x(r.contents))+")",i+=" /Popup "+P.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+m(x(v))+") >>",w.content=i;var S=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+s(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+s(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+S,r.open&&(i+=" /Open true"),i+=" >>",P.content=i,this.internal.write(w.objId,"0 R",P.objId,"0 R");break;case"freetext":a="/Rect ["+s(r.bounds.x)+" "+u(r.bounds.y)+" "+s(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var B=r.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+m(j(r.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+B+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(r.options.name){var J=this.annotations._nameMap[r.options.name];r.options.pageNumber=J.page,r.options.top=J.y}else r.options.top||(r.options.top=0);if(a="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",i="",r.options.url)i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+m(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,i+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var ne=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),i+=" /XYZ "+r.options.left+" "+ne+" "+r.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),e.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},e.link=function(n,r,a,i,s){var u=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,f=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:c(n),y:f(r),w:c(n+a),h:f(r+i)},options:s,type:"link"})},e.textWithLink=function(n,r,a,i){var s,u,c=this.getTextWidth(n),f=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){u=i.maxWidth;var y=this.splitTextToSize(n,u).length;s=Math.ceil(f*y)}else u=c,s=f;return this.text(n,r,a,i),a+=.2*f,i.align==="center"&&(r-=c/2),i.align==="right"&&(r-=c),this.link(r,a-f,u,s,i),c},e.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(ft.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];e.__arabicParser__={};var i=e.__arabicParser__.isInArabicSubstitutionA=function(w){return t[w.charCodeAt(0)]!==void 0},s=e.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},u=e.__arabicParser__.isArabicEndLetter=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length<=2},c=e.__arabicParser__.isArabicAlfLetter=function(w){return s(w)&&a.indexOf(w.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=1};var f=e.__arabicParser__.arabicLetterHasFinalForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length>=3};var y=e.__arabicParser__.arabicLetterHasMedialForm=function(w){return s(w)&&i(w)&&t[w.charCodeAt(0)].length==4},g=e.__arabicParser__.resolveLigatures=function(w){var P=0,x=n,v="",S=0;for(P=0;P<w.length;P+=1)x[w.charCodeAt(P)]!==void 0?(S++,typeof(x=x[w.charCodeAt(P)])=="number"&&(v+=String.fromCharCode(x),x=n,S=0),P===w.length-1&&(x=n,v+=w.charAt(P-(S-1)),P-=S-1,S=0)):(x=n,v+=w.charAt(P-S),P-=S,S=0);return v};e.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&r[w.charCodeAt(0)]!==void 0};var b=e.__arabicParser__.getCorrectForm=function(w,P,x){return s(w)?i(w)===!1?-1:!f(w)||!s(P)&&!s(x)||!s(x)&&u(P)||u(w)&&!s(P)||u(w)&&c(P)||u(w)&&u(P)?0:y(w)&&s(P)&&!u(P)&&s(x)&&f(x)?3:u(w)||!s(x)?1:2:-1},m=function(w){var P=0,x=0,v=0,S="",B="",J="",ne=(w=w||"").split("\\s+"),U=[];for(P=0;P<ne.length;P+=1){for(U.push(""),x=0;x<ne[P].length;x+=1)S=ne[P][x],B=ne[P][x-1],J=ne[P][x+1],s(S)?(v=b(S,B,J),U[P]+=v!==-1?String.fromCharCode(t[S.charCodeAt(0)][v]):S):U[P]+=S;U[P]=g(U[P])}return U.join(" ")},j=e.__arabicParser__.processArabic=e.processArabic=function(){var w,P=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,x=[];if(Array.isArray(P)){var v=0;for(x=[],v=0;v<P.length;v+=1)Array.isArray(P[v])?x.push([m(P[v][0]),P[v][1],P[v][2]]):x.push([m(P[v])]);w=x}else w=m(P);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};e.events.push(["preProcessText",j])}(ft.API),ft.API.autoPrint=function(e){var t;switch((e=e||{}).variant=e.variant||"non-conform",e.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")})}return this},function(e){var t=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(u){n=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(u){a=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(u){i=u}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(u){s=u}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(n,r){var a;if((n=n||"2d")!=="2d")return null;for(a in r)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=r[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(ft.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var f=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var y=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return y},set:function(w){y=w}});var g=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var b=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return b},set:function(w){b=w}});var m=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(w){j=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},e.getTextDimensions=function(c,f){r.call(this);var y=(f=f||{}).fontSize||this.getFontSize(),g=f.font||this.getFont(),b=f.scaleFactor||this.internal.scaleFactor,m=0,j=0,w=0,P=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var x=f.maxWidth;x>0?typeof c=="string"?c=this.splitTextToSize(c,x):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,B){return S.concat(P.splitTextToSize(B,x))},[])):c=Array.isArray(c)?c:[c];for(var v=0;v<c.length;v++)m<(w=this.getStringUnitWidth(c[v],{font:g})*y)&&(m=w);return m!==0&&(j=c.length),{w:m/=b,h:Math.max((j*y*this.getLineHeightFactor()-y*(this.getLineHeightFactor()-1))/b,0)}},e.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var s=e.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var f=this.internal.__cell__.lastCell,y=this.internal.__cell__.padding,g=this.internal.__cell__.margins||t,b=this.internal.__cell__.tableHeaderRow,m=this.internal.__cell__.printHeaders;return f.lineNumber!==void 0&&(f.lineNumber===c.lineNumber?(c.x=(f.x||0)+(f.width||0),c.y=f.y||0):f.y+f.height+c.height+g.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=g.top,m&&b&&(this.printHeaderRow(c.lineNumber,!0),c.y+=b[0].height)):c.y=f.y+f.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-y,c.y+y,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+y,{align:"center",baseline:"top",maxWidth:c.width-y-y}):this.text(c.text,c.x+y,c.y+y,{align:"left",baseline:"top",maxWidth:c.width-y-y})),this.internal.__cell__.lastCell=c,this};e.table=function(c,f,y,g,b){if(r.call(this),!y)throw new Error("No data for PDF table.");var m,j,w,P,x=[],v=[],S=[],B={},J={},ne=[],U=[],T=(b=b||{}).autoSize||!1,V=b.printHeaders!==!1,se=b.css&&b.css["font-size"]!==void 0?16*b.css["font-size"]:b.fontSize||12,E=b.margins||Object.assign({width:this.getPageWidth()},t),_=typeof b.padding=="number"?b.padding:3,W=b.headerBackgroundColor||"#c8c8c8",F=b.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=se,this.internal.__cell__.padding=_,this.internal.__cell__.headerBackgroundColor=W,this.internal.__cell__.headerTextColor=F,this.setFontSize(se),g==null)v=x=Object.keys(y[0]),S=x.map(function(){return"left"});else if(Array.isArray(g)&&$t(g[0])==="object")for(x=g.map(function(re){return re.name}),v=g.map(function(re){return re.prompt||re.name||""}),S=g.map(function(re){return re.align||"left"}),m=0;m<g.length;m+=1)J[g[m].name]=g[m].width*(19.049976/25.4);else Array.isArray(g)&&typeof g[0]=="string"&&(v=x=g,S=x.map(function(){return"left"}));if(T||Array.isArray(g)&&typeof g[0]=="string")for(m=0;m<x.length;m+=1){for(B[P=x[m]]=y.map(function(re){return re[P]}),this.setFont(void 0,"bold"),ne.push(this.getTextDimensions(v[m],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=B[P],this.setFont(void 0,"normal"),w=0;w<j.length;w+=1)ne.push(this.getTextDimensions(j[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);J[P]=Math.max.apply(null,ne)+_+_,ne=[]}if(V){var te={};for(m=0;m<x.length;m+=1)te[x[m]]={},te[x[m]].text=v[m],te[x[m]].align=S[m];var Z=u.call(this,te,J);U=x.map(function(re){return new i(c,f,J[re],Z,te[re].text,void 0,te[re].align)}),this.setTableHeaderRow(U),this.printHeaderRow(1,!1)}var de=g.reduce(function(re,ke){return re[ke.name]=ke.align,re},{});for(m=0;m<y.length;m+=1){"rowStart"in b&&b.rowStart instanceof Function&&b.rowStart({row:m,data:y[m]},this);var D=u.call(this,y[m],J);for(w=0;w<x.length;w+=1){var X=y[m][x[w]];"cellStart"in b&&b.cellStart instanceof Function&&b.cellStart({row:m,col:w,data:X},this),s.call(this,new i(c,f,J[x[w]],D,X,m+2,de[x[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=f,this};var u=function(c,f){var y=this.internal.__cell__.padding,g=this.internal.__cell__.table_font_size,b=this.internal.scaleFactor;return Object.keys(c).map(function(m){var j=c[m];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,f[m]-y-y)},this).map(function(m){return this.getLineHeightFactor()*m.length*g/b+y+y},this).reduce(function(m,j){return Math.max(m,j)},0)};e.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},e.printHeaderRow=function(c,f){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var y;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var g=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(g[0],g[1],g[2],g[3],void 0,-1)}this.setFont(void 0,"bold");for(var b=[],m=0;m<this.internal.__cell__.tableHeaderRow.length;m+=1){y=this.internal.__cell__.tableHeaderRow[m].clone(),f&&(y.y=this.internal.__cell__.margins.top||0,b.push(y)),y.lineNumber=c;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),s.call(this,y),this.setTextColor(j)}b.length>0&&this.setTableHeaderRow(b),this.setFont(void 0,"normal"),n=!1}}(ft.API);var kv={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Av=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Nm=jv(Av),Lv=[100,200,300,400,500,600,700,800,900],E6=jv(Lv);function Sm(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(i){return kv[i=i||"normal"]?i:"normal"}(e.style),r=function(i){if(!i)return 400;if(typeof i=="number")return i>=100&&i<=900&&i%100==0?i:400;if(/^\d00$/.test(i))return parseInt(i);switch(i){case"bold":return 700;case"normal":default:return 400}}(e.weight),a=function(i){return typeof Nm[i=i||"normal"]=="number"?i:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:a,src:e.src||[],ref:e.ref||{name:t,style:[a,n,r].join(" ")}}}function W2(e,t,n,r){var a;for(a=n;a>=0&&a<t.length;a+=r)if(e[t[a]])return e[t[a]];for(a=n;a>=0&&a<t.length;a-=r)if(e[t[a]])return e[t[a]]}var R6={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},G2={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function K2(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function I6(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",a=Object.assign({},R6,n.genericFontFamilies||{}),i=null,s=null,u=0;u<t.length;++u)if(a[(i=Sm(t[u])).family]&&(i.family=a[i.family]),e.hasOwnProperty(i.family)){s=e[i.family];break}if(!(s=s||e[r]))throw new Error("Could not find a font-family for the rule '"+K2(i)+"' and default family '"+r+"'.");if(s=function(c,f){if(f[c])return f[c];var y=Nm[c],g=y<=Nm.normal?-1:1,b=W2(f,Av,y,g);if(!b)throw new Error("Could not find a matching font-stretch value for "+c);return b}(i.stretch,s),s=function(c,f){if(f[c])return f[c];for(var y=kv[c],g=0;g<y.length;++g)if(f[y[g]])return f[y[g]];throw new Error("Could not find a matching font-style for "+c)}(i.style,s),!(s=function(c,f){if(f[c])return f[c];if(c===400&&f[500])return f[500];if(c===500&&f[400])return f[400];var y=E6[c],g=W2(f,Lv,y,c<400?-1:1);if(!g)throw new Error("Could not find a matching font-weight for value "+c);return g}(i.weight,s)))throw new Error("Failed to resolve a font for the rule '"+K2(i)+"'.");return s}function Y2(e){return e.trimLeft()}function O6(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function D6(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return t===null?null:[t[0],e.substring(t[0].length)]}var ed,J2,X2,ep=["times"];(function(e){var t,n,r,a,i,s,u,c,f,y=function(C){return C=C||{},this.isStrokeTransparent=C.isStrokeTransparent||!1,this.strokeOpacity=C.strokeOpacity||1,this.strokeStyle=C.strokeStyle||"#000000",this.fillStyle=C.fillStyle||"#000000",this.isFillTransparent=C.isFillTransparent||!1,this.fillOpacity=C.fillOpacity||1,this.font=C.font||"10px sans-serif",this.textBaseline=C.textBaseline||"alphabetic",this.textAlign=C.textAlign||"left",this.lineWidth=C.lineWidth||1,this.lineJoin=C.lineJoin||"miter",this.lineCap=C.lineCap||"butt",this.path=C.path||[],this.transform=C.transform!==void 0?C.transform.clone():new c,this.globalCompositeOperation=C.globalCompositeOperation||"normal",this.globalAlpha=C.globalAlpha||1,this.clip_path=C.clip_path||[],this.currentPoint=C.currentPoint||new s,this.miterLimit=C.miterLimit||10,this.lastPoint=C.lastPoint||new s,this.lineDashOffset=C.lineDashOffset||0,this.lineDash=C.lineDash||[],this.margin=C.margin||[0,0,0,0],this.prevPageLastElemOffset=C.prevPageLastElemOffset||0,this.ignoreClearRect=typeof C.ignoreClearRect!="boolean"||C.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new g(this),t=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,s=this.internal.Point,u=this.internal.Rectangle,c=this.internal.Matrix,f=new y}]);var g=function(C){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var $=C;Object.defineProperty(this,"pdf",{get:function(){return $}});var q=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return q},set:function(we){q=!!we}});var Y=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Y},set:function(we){Y=!!we}});var ae=0;Object.defineProperty(this,"posX",{get:function(){return ae},set:function(we){isNaN(we)||(ae=we)}});var fe=0;Object.defineProperty(this,"posY",{get:function(){return fe},set:function(we){isNaN(we)||(fe=we)}}),Object.defineProperty(this,"margin",{get:function(){return f.margin},set:function(we){var Q;typeof we=="number"?Q=[we,we,we,we]:((Q=new Array(4))[0]=we[0],Q[1]=we.length>=2?we[1]:Q[0],Q[2]=we.length>=3?we[2]:Q[0],Q[3]=we.length>=4?we[3]:Q[1]),f.margin=Q}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(we){ye=we}});var ve=0;Object.defineProperty(this,"lastBreak",{get:function(){return ve},set:function(we){ve=we}});var Be=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Be},set:function(we){Be=we}}),Object.defineProperty(this,"ctx",{get:function(){return f},set:function(we){we instanceof y&&(f=we)}}),Object.defineProperty(this,"path",{get:function(){return f.path},set:function(we){f.path=we}});var Ie=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ie},set:function(we){Ie=we}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(we){var Q;Q=b(we),this.ctx.fillStyle=Q.style,this.ctx.isFillTransparent=Q.a===0,this.ctx.fillOpacity=Q.a,this.pdf.setFillColor(Q.r,Q.g,Q.b,{a:Q.a}),this.pdf.setTextColor(Q.r,Q.g,Q.b,{a:Q.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(we){var Q=b(we);this.ctx.strokeStyle=Q.style,this.ctx.isStrokeTransparent=Q.a===0,this.ctx.strokeOpacity=Q.a,Q.a===0?this.pdf.setDrawColor(255,255,255):(Q.a,this.pdf.setDrawColor(Q.r,Q.g,Q.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(we){["butt","round","square"].indexOf(we)!==-1&&(this.ctx.lineCap=we,this.pdf.setLineCap(we))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(we){isNaN(we)||(this.ctx.lineWidth=we,this.pdf.setLineWidth(we))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(we){["bevel","round","miter"].indexOf(we)!==-1&&(this.ctx.lineJoin=we,this.pdf.setLineJoin(we))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(we){isNaN(we)||(this.ctx.miterLimit=we,this.pdf.setMiterLimit(we))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(we){this.ctx.textBaseline=we}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(we){["right","end","center","left","start"].indexOf(we)!==-1&&(this.ctx.textAlign=we)}});var We=null;function Ve(we,Q){if(We===null){var Je=function(Me){var _e=[];return Object.keys(Me).forEach(function(qe){Me[qe].forEach(function(ze){var Ge=null;switch(ze){case"bold":Ge={family:qe,weight:"bold"};break;case"italic":Ge={family:qe,style:"italic"};break;case"bolditalic":Ge={family:qe,weight:"bold",style:"italic"};break;case"":case"normal":Ge={family:qe}}Ge!==null&&(Ge.ref={name:qe,style:ze},_e.push(Ge))})}),_e}(we.getFontList());We=function(Me){for(var _e={},qe=0;qe<Me.length;++qe){var ze=Sm(Me[qe]),Ge=ze.family,et=ze.stretch,it=ze.style,z=ze.weight;_e[Ge]=_e[Ge]||{},_e[Ge][et]=_e[Ge][et]||{},_e[Ge][et][it]=_e[Ge][et][it]||{},_e[Ge][et][it][z]=ze}return _e}(Je.concat(Q))}return We}var at=null;Object.defineProperty(this,"fontFaces",{get:function(){return at},set:function(we){We=null,at=we}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(we){var Q;if(this.ctx.font=we,(Q=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(we))!==null){var Je=Q[1];Q[2];var Me=Q[3],_e=Q[4];Q[5];var qe=Q[6],ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(ze==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Ge=function(Ce){var $e,Ae,ot=[],nt=Ce.trim();if(nt==="")return ep;if(nt in G2)return[G2[nt]];for(;nt!=="";){switch(Ae=null,$e=(nt=Y2(nt)).charAt(0)){case'"':case"'":Ae=O6(nt.substring(1),$e);break;default:Ae=D6(nt)}if(Ae===null||(ot.push(Ae[0]),(nt=Y2(Ae[1]))!==""&&nt.charAt(0)!==","))return ep;nt=nt.replace(/^,/,"")}return ot}(qe);if(this.fontFaces){var et=I6(Ve(this.pdf,this.fontFaces),Ge.map(function(Ce){return{family:Ce,stretch:"normal",weight:Me,style:Je}}));this.pdf.setFont(et.ref.name,et.ref.style)}else{var it="";(Me==="bold"||parseInt(Me,10)>=700||Je==="bold")&&(it="bold"),Je==="italic"&&(it+="italic"),it.length===0&&(it="normal");for(var z="",ge={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Ee=0;Ee<Ge.length;Ee++){if(this.pdf.internal.getFont(Ge[Ee],it,{noFallback:!0,disableWarning:!0})!==void 0){z=Ge[Ee];break}if(it==="bolditalic"&&this.pdf.internal.getFont(Ge[Ee],"bold",{noFallback:!0,disableWarning:!0})!==void 0)z=Ge[Ee],it="bold";else if(this.pdf.internal.getFont(Ge[Ee],"normal",{noFallback:!0,disableWarning:!0})!==void 0){z=Ge[Ee],it="normal";break}}if(z===""){for(var De=0;De<Ge.length;De++)if(ge[Ge[De]]){z=ge[Ge[De]];break}}z=z===""?"Times":z,this.pdf.setFont(z,it)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(we){this.ctx.globalCompositeOperation=we}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(we){this.ctx.globalAlpha=we}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(we){this.ctx.lineDashOffset=we,ke.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(we){this.ctx.lineDash=we,ke.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(we){this.ctx.ignoreClearRect=!!we}})};g.prototype.setLineDash=function(C){this.lineDash=C},g.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},g.prototype.fill=function(){B.call(this,"fill",!1)},g.prototype.stroke=function(){B.call(this,"stroke",!1)},g.prototype.beginPath=function(){this.path=[{type:"begin"}]},g.prototype.moveTo=function(C,$){if(isNaN(C)||isNaN($))throw Kt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var q=this.ctx.transform.applyToPoint(new s(C,$));this.path.push({type:"mt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(C,$)},g.prototype.closePath=function(){var C=new s(0,0),$=0;for($=this.path.length-1;$!==-1;$--)if(this.path[$].type==="begin"&&$t(this.path[$+1])==="object"&&typeof this.path[$+1].x=="number"){C=new s(this.path[$+1].x,this.path[$+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new s(C.x,C.y)},g.prototype.lineTo=function(C,$){if(isNaN(C)||isNaN($))throw Kt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var q=this.ctx.transform.applyToPoint(new s(C,$));this.path.push({type:"lt",x:q.x,y:q.y}),this.ctx.lastPoint=new s(q.x,q.y)},g.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),B.call(this,null,!0)},g.prototype.quadraticCurveTo=function(C,$,q,Y){if(isNaN(q)||isNaN(Y)||isNaN(C)||isNaN($))throw Kt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ae=this.ctx.transform.applyToPoint(new s(q,Y)),fe=this.ctx.transform.applyToPoint(new s(C,$));this.path.push({type:"qct",x1:fe.x,y1:fe.y,x:ae.x,y:ae.y}),this.ctx.lastPoint=new s(ae.x,ae.y)},g.prototype.bezierCurveTo=function(C,$,q,Y,ae,fe){if(isNaN(ae)||isNaN(fe)||isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y))throw Kt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new s(ae,fe)),ve=this.ctx.transform.applyToPoint(new s(C,$)),Be=this.ctx.transform.applyToPoint(new s(q,Y));this.path.push({type:"bct",x1:ve.x,y1:ve.y,x2:Be.x,y2:Be.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new s(ye.x,ye.y)},g.prototype.arc=function(C,$,q,Y,ae,fe){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y)||isNaN(ae))throw Kt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(fe=!!fe,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new s(C,$));C=ye.x,$=ye.y;var ve=this.ctx.transform.applyToPoint(new s(0,q)),Be=this.ctx.transform.applyToPoint(new s(0,0));q=Math.sqrt(Math.pow(ve.x-Be.x,2)+Math.pow(ve.y-Be.y,2))}Math.abs(ae-Y)>=2*Math.PI&&(Y=0,ae=2*Math.PI),this.path.push({type:"arc",x:C,y:$,radius:q,startAngle:Y,endAngle:ae,counterclockwise:fe})},g.prototype.arcTo=function(C,$,q,Y,ae){throw new Error("arcTo not implemented.")},g.prototype.rect=function(C,$,q,Y){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y))throw Kt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(C,$),this.lineTo(C+q,$),this.lineTo(C+q,$+Y),this.lineTo(C,$+Y),this.lineTo(C,$),this.lineTo(C+q,$),this.lineTo(C,$)},g.prototype.fillRect=function(C,$,q,Y){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y))throw Kt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!m.call(this)){var ae={};this.lineCap!=="butt"&&(ae.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ae.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(C,$,q,Y),this.fill(),ae.hasOwnProperty("lineCap")&&(this.lineCap=ae.lineCap),ae.hasOwnProperty("lineJoin")&&(this.lineJoin=ae.lineJoin)}},g.prototype.strokeRect=function(C,$,q,Y){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y))throw Kt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(C,$,q,Y),this.stroke())},g.prototype.clearRect=function(C,$,q,Y){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y))throw Kt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(C,$,q,Y))},g.prototype.save=function(C){C=typeof C!="boolean"||C;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("q");if(this.pdf.setPage($),C){this.ctx.fontSize=this.pdf.internal.getFontSize();var Y=new y(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Y}},g.prototype.restore=function(C){C=typeof C!="boolean"||C;for(var $=this.pdf.internal.getCurrentPageInfo().pageNumber,q=0;q<this.pdf.internal.getNumberOfPages();q++)this.pdf.setPage(q+1),this.pdf.internal.out("Q");this.pdf.setPage($),C&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},g.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var b=function(C){var $,q,Y,ae;if(C.isCanvasGradient===!0&&(C=C.getColor()),!C)return{r:0,g:0,b:0,a:0,style:C};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(C))$=0,q=0,Y=0,ae=0;else{var fe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(C);if(fe!==null)$=parseInt(fe[1]),q=parseInt(fe[2]),Y=parseInt(fe[3]),ae=1;else if((fe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(C))!==null)$=parseInt(fe[1]),q=parseInt(fe[2]),Y=parseInt(fe[3]),ae=parseFloat(fe[4]);else{if(ae=1,typeof C=="string"&&C.charAt(0)!=="#"){var ye=new vv(C);C=ye.ok?ye.toHex():"#000000"}C.length===4?($=C.substring(1,2),$+=$,q=C.substring(2,3),q+=q,Y=C.substring(3,4),Y+=Y):($=C.substring(1,3),q=C.substring(3,5),Y=C.substring(5,7)),$=parseInt($,16),q=parseInt(q,16),Y=parseInt(Y,16)}}return{r:$,g:q,b:Y,a:ae,style:C}},m=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};g.prototype.fillText=function(C,$,q,Y){if(isNaN($)||isNaN(q)||typeof C!="string")throw Kt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Y=isNaN(Y)?void 0:Y,!m.call(this)){var ae=D(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;_.call(this,{text:C,x:$,y:q,scale:fe,angle:ae,align:this.textAlign,maxWidth:Y})}},g.prototype.strokeText=function(C,$,q,Y){if(isNaN($)||isNaN(q)||typeof C!="string")throw Kt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){Y=isNaN(Y)?void 0:Y;var ae=D(this.ctx.transform.rotation),fe=this.ctx.transform.scaleX;_.call(this,{text:C,x:$,y:q,scale:fe,renderingMode:"stroke",angle:ae,align:this.textAlign,maxWidth:Y})}},g.prototype.measureText=function(C){if(typeof C!="string")throw Kt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var $=this.pdf,q=this.pdf.internal.scaleFactor,Y=$.internal.getFontSize(),ae=$.getStringUnitWidth(C)*Y/$.internal.scaleFactor,fe=function(ye){var ve=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ve}}),this};return new fe({width:ae*=Math.round(96*q/72*1e4)/1e4})},g.prototype.scale=function(C,$){if(isNaN(C)||isNaN($))throw Kt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var q=new c(C,0,0,$,0,0);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.rotate=function(C){if(isNaN(C))throw Kt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var $=new c(Math.cos(C),Math.sin(C),-Math.sin(C),Math.cos(C),0,0);this.ctx.transform=this.ctx.transform.multiply($)},g.prototype.translate=function(C,$){if(isNaN(C)||isNaN($))throw Kt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var q=new c(1,0,0,1,C,$);this.ctx.transform=this.ctx.transform.multiply(q)},g.prototype.transform=function(C,$,q,Y,ae,fe){if(isNaN(C)||isNaN($)||isNaN(q)||isNaN(Y)||isNaN(ae)||isNaN(fe))throw Kt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(C,$,q,Y,ae,fe);this.ctx.transform=this.ctx.transform.multiply(ye)},g.prototype.setTransform=function(C,$,q,Y,ae,fe){C=isNaN(C)?1:C,$=isNaN($)?0:$,q=isNaN(q)?0:q,Y=isNaN(Y)?1:Y,ae=isNaN(ae)?0:ae,fe=isNaN(fe)?0:fe,this.ctx.transform=new c(C,$,q,Y,ae,fe)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};g.prototype.drawImage=function(C,$,q,Y,ae,fe,ye,ve,Be){var Ie=this.pdf.getImageProperties(C),We=1,Ve=1,at=1,we=1;Y!==void 0&&ve!==void 0&&(at=ve/Y,we=Be/ae,We=Ie.width/Y*ve/Y,Ve=Ie.height/ae*Be/ae),fe===void 0&&(fe=$,ye=q,$=0,q=0),Y!==void 0&&ve===void 0&&(ve=Y,Be=ae),Y===void 0&&ve===void 0&&(ve=Ie.width,Be=Ie.height);for(var Q,Je=this.ctx.transform.decompose(),Me=D(Je.rotate.shx),_e=new c,qe=(_e=(_e=(_e=_e.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new u(fe-$*at,ye-q*we,Y*We,ae*Ve)),ze=P.call(this,qe),Ge=[],et=0;et<ze.length;et+=1)Ge.indexOf(ze[et])===-1&&Ge.push(ze[et]);if(S(Ge),this.autoPaging)for(var it=Ge[0],z=Ge[Ge.length-1],ge=it;ge<z+1;ge++){this.pdf.setPage(ge);var Ee=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],De=ge===1?this.posY+this.margin[0]:this.margin[0],Ce=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ae=ge===1?0:Ce+(ge-2)*$e;if(this.ctx.clip_path.length!==0){var ot=this.path;Q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Q,this.posX+this.margin[3],-Ae+De+this.ctx.prevPageLastElemOffset),J.call(this,"fill",!0),this.path=ot}var nt=JSON.parse(JSON.stringify(qe));nt=v([nt],this.posX+this.margin[3],-Ae+De+this.ctx.prevPageLastElemOffset)[0];var gt=(ge>it||ge<z)&&w.call(this);gt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ee,$e,null).clip().discardPath()),this.pdf.addImage(C,"JPEG",nt.x,nt.y,nt.w,nt.h,null,null,Me),gt&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(C,"JPEG",qe.x,qe.y,qe.w,qe.h,null,null,Me)};var P=function(C,$,q){var Y=[];$=$||this.pdf.internal.pageSize.width,q=q||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ae=this.posY+this.ctx.prevPageLastElemOffset;switch(C.type){default:case"mt":case"lt":Y.push(Math.floor((C.y+ae)/q)+1);break;case"arc":Y.push(Math.floor((C.y+ae-C.radius)/q)+1),Y.push(Math.floor((C.y+ae+C.radius)/q)+1);break;case"qct":var fe=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x,C.y);Y.push(Math.floor((fe.y+ae)/q)+1),Y.push(Math.floor((fe.y+fe.h+ae)/q)+1);break;case"bct":var ye=re(this.ctx.lastPoint.x,this.ctx.lastPoint.y,C.x1,C.y1,C.x2,C.y2,C.x,C.y);Y.push(Math.floor((ye.y+ae)/q)+1),Y.push(Math.floor((ye.y+ye.h+ae)/q)+1);break;case"rect":Y.push(Math.floor((C.y+ae)/q)+1),Y.push(Math.floor((C.y+C.h+ae)/q)+1)}for(var ve=0;ve<Y.length;ve+=1)for(;this.pdf.internal.getNumberOfPages()<Y[ve];)x.call(this);return Y},x=function(){var C=this.fillStyle,$=this.strokeStyle,q=this.font,Y=this.lineCap,ae=this.lineWidth,fe=this.lineJoin;this.pdf.addPage(),this.fillStyle=C,this.strokeStyle=$,this.font=q,this.lineCap=Y,this.lineWidth=ae,this.lineJoin=fe},v=function(C,$,q){for(var Y=0;Y<C.length;Y++)switch(C[Y].type){case"bct":C[Y].x2+=$,C[Y].y2+=q;case"qct":C[Y].x1+=$,C[Y].y1+=q;case"mt":case"lt":case"arc":default:C[Y].x+=$,C[Y].y+=q}return C},S=function(C){return C.sort(function($,q){return $-q})},B=function(C,$){for(var q,Y,ae=this.fillStyle,fe=this.strokeStyle,ye=this.lineCap,ve=this.lineWidth,Be=Math.abs(ve*this.ctx.transform.scaleX),Ie=this.lineJoin,We=JSON.parse(JSON.stringify(this.path)),Ve=JSON.parse(JSON.stringify(this.path)),at=[],we=0;we<Ve.length;we++)if(Ve[we].x!==void 0)for(var Q=P.call(this,Ve[we]),Je=0;Je<Q.length;Je+=1)at.indexOf(Q[Je])===-1&&at.push(Q[Je]);for(var Me=0;Me<at.length;Me++)for(;this.pdf.internal.getNumberOfPages()<at[Me];)x.call(this);if(S(at),this.autoPaging)for(var _e=at[0],qe=at[at.length-1],ze=_e;ze<qe+1;ze++){this.pdf.setPage(ze),this.fillStyle=ae,this.strokeStyle=fe,this.lineCap=ye,this.lineWidth=Be,this.lineJoin=Ie;var Ge=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],et=ze===1?this.posY+this.margin[0]:this.margin[0],it=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],z=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=ze===1?0:it+(ze-2)*z;if(this.ctx.clip_path.length!==0){var Ee=this.path;q=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(q,this.posX+this.margin[3],-ge+et+this.ctx.prevPageLastElemOffset),J.call(this,C,!0),this.path=Ee}if(Y=JSON.parse(JSON.stringify(We)),this.path=v(Y,this.posX+this.margin[3],-ge+et+this.ctx.prevPageLastElemOffset),$===!1||ze===0){var De=(ze>_e||ze<qe)&&w.call(this);De&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,z,null).clip().discardPath()),J.call(this,C,$),De&&this.pdf.restoreGraphicsState()}this.lineWidth=ve}else this.lineWidth=Be,J.call(this,C,$),this.lineWidth=ve;this.path=We},J=function(C,$){if((C!=="stroke"||$||!j.call(this))&&(C==="stroke"||$||!m.call(this))){for(var q,Y,ae=[],fe=this.path,ye=0;ye<fe.length;ye++){var ve=fe[ye];switch(ve.type){case"begin":ae.push({begin:!0});break;case"close":ae.push({close:!0});break;case"mt":ae.push({start:ve,deltas:[],abs:[]});break;case"lt":var Be=ae.length;if(fe[ye-1]&&!isNaN(fe[ye-1].x)&&(q=[ve.x-fe[ye-1].x,ve.y-fe[ye-1].y],Be>0)){for(;Be>=0;Be--)if(ae[Be-1].close!==!0&&ae[Be-1].begin!==!0){ae[Be-1].deltas.push(q),ae[Be-1].abs.push(ve);break}}break;case"bct":q=[ve.x1-fe[ye-1].x,ve.y1-fe[ye-1].y,ve.x2-fe[ye-1].x,ve.y2-fe[ye-1].y,ve.x-fe[ye-1].x,ve.y-fe[ye-1].y],ae[ae.length-1].deltas.push(q);break;case"qct":var Ie=fe[ye-1].x+2/3*(ve.x1-fe[ye-1].x),We=fe[ye-1].y+2/3*(ve.y1-fe[ye-1].y),Ve=ve.x+2/3*(ve.x1-ve.x),at=ve.y+2/3*(ve.y1-ve.y),we=ve.x,Q=ve.y;q=[Ie-fe[ye-1].x,We-fe[ye-1].y,Ve-fe[ye-1].x,at-fe[ye-1].y,we-fe[ye-1].x,Q-fe[ye-1].y],ae[ae.length-1].deltas.push(q);break;case"arc":ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(ae[ae.length-1].abs)&&ae[ae.length-1].abs.push(ve)}}Y=$?null:C==="stroke"?"stroke":"fill";for(var Je=!1,Me=0;Me<ae.length;Me++)if(ae[Me].arc)for(var _e=ae[Me].abs,qe=0;qe<_e.length;qe++){var ze=_e[qe];ze.type==="arc"?T.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,$,!Je):W.call(this,ze.x,ze.y),Je=!0}else if(ae[Me].close===!0)this.pdf.internal.out("h"),Je=!1;else if(ae[Me].begin!==!0){var Ge=ae[Me].start.x,et=ae[Me].start.y;F.call(this,ae[Me].deltas,Ge,et),Je=!0}Y&&V.call(this,Y),$&&se.call(this)}},ne=function(C){var $=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,q=$*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return C-q;case"top":return C+$-q;case"hanging":return C+$-2*q;case"middle":return C+$/2-q;case"ideographic":return C;case"alphabetic":default:return C}},U=function(C){return C+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};g.prototype.createLinearGradient=function(){var C=function(){};return C.colorStops=[],C.addColorStop=function($,q){this.colorStops.push([$,q])},C.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},C.isCanvasGradient=!0,C},g.prototype.createPattern=function(){return this.createLinearGradient()},g.prototype.createRadialGradient=function(){return this.createLinearGradient()};var T=function(C,$,q,Y,ae,fe,ye,ve,Be){for(var Ie=Z.call(this,q,Y,ae,fe),We=0;We<Ie.length;We++){var Ve=Ie[We];We===0&&(Be?E.call(this,Ve.x1+C,Ve.y1+$):W.call(this,Ve.x1+C,Ve.y1+$)),te.call(this,C,$,Ve.x2,Ve.y2,Ve.x3,Ve.y3,Ve.x4,Ve.y4)}ve?se.call(this):V.call(this,ye)},V=function(C){switch(C){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},se=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(C,$){this.pdf.internal.out(n(C)+" "+r($)+" m")},_=function(C){var $;switch(C.align){case"right":case"end":$="right";break;case"center":$="center";break;case"left":case"start":default:$="left"}var q=this.pdf.getTextDimensions(C.text),Y=ne.call(this,C.y),ae=U.call(this,Y)-q.h,fe=this.ctx.transform.applyToPoint(new s(C.x,Y)),ye=this.ctx.transform.decompose(),ve=new c;ve=(ve=(ve=ve.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Be,Ie,We,Ve=this.ctx.transform.applyToRectangle(new u(C.x,Y,q.w,q.h)),at=ve.applyToRectangle(new u(C.x,ae,q.w,q.h)),we=P.call(this,at),Q=[],Je=0;Je<we.length;Je+=1)Q.indexOf(we[Je])===-1&&Q.push(we[Je]);if(S(Q),this.autoPaging)for(var Me=Q[0],_e=Q[Q.length-1],qe=Me;qe<_e+1;qe++){this.pdf.setPage(qe);var ze=qe===1?this.posY+this.margin[0]:this.margin[0],Ge=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],et=this.pdf.internal.pageSize.height-this.margin[2],it=et-this.margin[0],z=this.pdf.internal.pageSize.width-this.margin[1],ge=z-this.margin[3],Ee=qe===1?0:Ge+(qe-2)*it;if(this.ctx.clip_path.length!==0){var De=this.path;Be=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=v(Be,this.posX+this.margin[3],-1*Ee+ze),J.call(this,"fill",!0),this.path=De}var Ce=v([JSON.parse(JSON.stringify(at))],this.posX+this.margin[3],-Ee+ze+this.ctx.prevPageLastElemOffset)[0];C.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*C.scale),We=this.lineWidth,this.lineWidth=We*C.scale);var $e=this.autoPaging!=="text";if($e||Ce.y+Ce.h<=et){if($e||Ce.y>=ze&&Ce.x<=z){var Ae=$e?C.text:this.pdf.splitTextToSize(C.text,C.maxWidth||z-Ce.x)[0],ot=v([JSON.parse(JSON.stringify(Ve))],this.posX+this.margin[3],-Ee+ze+this.ctx.prevPageLastElemOffset)[0],nt=$e&&(qe>Me||qe<_e)&&w.call(this);nt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ge,it,null).clip().discardPath()),this.pdf.text(Ae,ot.x,ot.y,{angle:C.angle,align:$,renderingMode:C.renderingMode}),nt&&this.pdf.restoreGraphicsState()}}else Ce.y<et&&(this.ctx.prevPageLastElemOffset+=et-Ce.y);C.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=We)}else C.scale>=.01&&(Ie=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ie*C.scale),We=this.lineWidth,this.lineWidth=We*C.scale),this.pdf.text(C.text,fe.x+this.posX,fe.y+this.posY,{angle:C.angle,align:$,renderingMode:C.renderingMode,maxWidth:C.maxWidth}),C.scale>=.01&&(this.pdf.setFontSize(Ie),this.lineWidth=We)},W=function(C,$,q,Y){q=q||0,Y=Y||0,this.pdf.internal.out(n(C+q)+" "+r($+Y)+" l")},F=function(C,$,q){return this.pdf.lines(C,$,q,null,null)},te=function(C,$,q,Y,ae,fe,ye,ve){this.pdf.internal.out([t(a(q+C)),t(i(Y+$)),t(a(ae+C)),t(i(fe+$)),t(a(ye+C)),t(i(ve+$)),"c"].join(" "))},Z=function(C,$,q,Y){for(var ae=2*Math.PI,fe=Math.PI/2;$>q;)$-=ae;var ye=Math.abs(q-$);ye<ae&&Y&&(ye=ae-ye);for(var ve=[],Be=Y?-1:1,Ie=$;ye>1e-5;){var We=Ie+Be*Math.min(ye,fe);ve.push(de.call(this,C,Ie,We)),ye-=Math.abs(We-Ie),Ie=We}return ve},de=function(C,$,q){var Y=(q-$)/2,ae=C*Math.cos(Y),fe=C*Math.sin(Y),ye=ae,ve=-fe,Be=ye*ye+ve*ve,Ie=Be+ye*ae+ve*fe,We=4/3*(Math.sqrt(2*Be*Ie)-Ie)/(ye*fe-ve*ae),Ve=ye-We*ve,at=ve+We*ye,we=Ve,Q=-at,Je=Y+$,Me=Math.cos(Je),_e=Math.sin(Je);return{x1:C*Math.cos($),y1:C*Math.sin($),x2:Ve*Me-at*_e,y2:Ve*_e+at*Me,x3:we*Me-Q*_e,y3:we*_e+Q*Me,x4:C*Math.cos(q),y4:C*Math.sin(q)}},D=function(C){return 180*C/Math.PI},X=function(C,$,q,Y,ae,fe){var ye=C+.5*(q-C),ve=$+.5*(Y-$),Be=ae+.5*(q-ae),Ie=fe+.5*(Y-fe),We=Math.min(C,ae,ye,Be),Ve=Math.max(C,ae,ye,Be),at=Math.min($,fe,ve,Ie),we=Math.max($,fe,ve,Ie);return new u(We,at,Ve-We,we-at)},re=function(C,$,q,Y,ae,fe,ye,ve){var Be,Ie,We,Ve,at,we,Q,Je,Me,_e,qe,ze,Ge,et,it=q-C,z=Y-$,ge=ae-q,Ee=fe-Y,De=ye-ae,Ce=ve-fe;for(Ie=0;Ie<41;Ie++)Me=(Q=(We=C+(Be=Ie/40)*it)+Be*((at=q+Be*ge)-We))+Be*(at+Be*(ae+Be*De-at)-Q),_e=(Je=(Ve=$+Be*z)+Be*((we=Y+Be*Ee)-Ve))+Be*(we+Be*(fe+Be*Ce-we)-Je),Ie==0?(qe=Me,ze=_e,Ge=Me,et=_e):(qe=Math.min(qe,Me),ze=Math.min(ze,_e),Ge=Math.max(Ge,Me),et=Math.max(et,_e));return new u(Math.round(qe),Math.round(ze),Math.round(Ge-qe),Math.round(et-ze))},ke=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var C,$,q=(C=this.ctx.lineDash,$=this.ctx.lineDashOffset,JSON.stringify({lineDash:C,lineDashOffset:$}));this.prevLineDash!==q&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=q)}}})(ft.API),function(e){var t=function(i){var s,u,c,f,y,g,b,m,j,w;for(u=[],c=0,f=(i+=s="\0\0\0\0".slice(i.length%4||4)).length;f>c;c+=4)(y=(i.charCodeAt(c)<<24)+(i.charCodeAt(c+1)<<16)+(i.charCodeAt(c+2)<<8)+i.charCodeAt(c+3))!==0?(g=(y=((y=((y=((y=(y-(w=y%85))/85)-(j=y%85))/85)-(m=y%85))/85)-(b=y%85))/85)%85,u.push(g+33,b+33,m+33,j+33,w+33)):u.push(122);return function(P,x){for(var v=x;v>0;v--)P.pop()}(u,s.length),String.fromCharCode.apply(String,u)+"~>"},n=function(i){var s,u,c,f,y,g=String,b="length",m=255,j="charCodeAt",w="slice",P="replace";for(i[w](-2),i=i[w](0,-2)[P](/\s/g,"")[P]("z","!!!!!"),c=[],f=0,y=(i+=s="uuuuu"[w](i[b]%5||5))[b];y>f;f+=5)u=52200625*(i[j](f)-33)+614125*(i[j](f+1)-33)+7225*(i[j](f+2)-33)+85*(i[j](f+3)-33)+(i[j](f+4)-33),c.push(m&u>>24,m&u>>16,m&u>>8,m&u);return function(x,v){for(var S=v;S>0;S--)x.pop()}(c,s[b]),g.fromCharCode.apply(g,c)},r=function(i){var s=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((i=i.replace(/\s/g,"")).indexOf(">")!==-1&&(i=i.substr(0,i.indexOf(">"))),i.length%2&&(i+="0"),s.test(i)===!1)return"";for(var u="",c=0;c<i.length;c+=2)u+=String.fromCharCode("0x"+(i[c]+i[c+1]));return u},a=function(i){for(var s=new Uint8Array(i.length),u=i.length;u--;)s[u]=i.charCodeAt(u);return i=(s=ym(s)).reduce(function(c,f){return c+String.fromCharCode(f)},"")};e.processDataByFilters=function(i,s){var u=0,c=i||"",f=[];for(typeof(s=s||[])=="string"&&(s=[s]),u=0;u<s.length;u+=1)switch(s[u]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=t(c),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(y){return("0"+y.charCodeAt().toString(16)).slice(-2)}).join("")+">",f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=a(c),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+s[u]+'" is not implemented')}return{data:c,reverseChain:f.reverse().join(" ")}}}(ft.API),function(e){e.loadFile=function(t,n,r){return function(a,i,s){i=i!==!1,s=typeof s=="function"?s:function(){};var u=void 0;try{u=function(c,f,y){var g=new XMLHttpRequest,b=0,m=function(j){var w=j.length,P=[],x=String.fromCharCode;for(b=0;b<w;b+=1)P.push(x(255&j.charCodeAt(b)));return P.join("")};if(g.open("GET",c,!f),g.overrideMimeType("text/plain; charset=x-user-defined"),f===!1&&(g.onload=function(){g.status===200?y(m(this.responseText)):y(void 0)}),g.send(null),f&&g.status===200)return m(g.responseText)}(a,i,s)}catch{}return u}(t,n,r)},e.loadImageFile=e.loadFile}(ft.API),function(e){function t(){return(ht.html2canvas?Promise.resolve(ht.html2canvas):fm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load html2canvas: "+s))}).then(function(s){return s.default?s.default:s})}function n(){return(ht.DOMPurify?Promise.resolve(ht.DOMPurify):fm(()=>import("./purify.es-CQJ0hv7W.js"),[])).catch(function(s){return Promise.reject(new Error("Could not load dompurify: "+s))}).then(function(s){return s.default?s.default:s})}var r=function(s){var u=$t(s);return u==="undefined"?"undefined":u==="string"||s instanceof String?"string":u==="number"||s instanceof Number?"number":u==="function"||s instanceof Function?"function":s&&s.constructor===Array?"array":s&&s.nodeType===1?"element":u==="object"?"object":"unknown"},a=function(s,u){var c=document.createElement(s);for(var f in u.className&&(c.className=u.className),u.innerHTML&&u.dompurify&&(c.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)c.style[f]=u.style[f];return c},i=function s(u){var c=Object.assign(s.convert(Promise.resolve()),JSON.parse(JSON.stringify(s.template))),f=s.convert(Promise.resolve(),c);return f=(f=f.setProgress(1,s,1,[s])).set(u)};(i.prototype=Object.create(Promise.prototype)).constructor=i,i.convert=function(s,u){return s.__proto__=u||i.prototype,s},i.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},i.prototype.from=function(s,u){return this.then(function(){switch(u=u||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(s)){case"string":return this.then(n).then(function(c){return this.set({src:a("div",{innerHTML:s,dompurify:c})})});case"element":return this.set({src:s});case"canvas":return this.set({canvas:s});case"img":return this.set({img:s});default:return this.error("Unknown source type.")}})},i.prototype.to=function(s){switch(s){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},i.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var s={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function c(f,y){for(var g=f.nodeType===3?document.createTextNode(f.nodeValue):f.cloneNode(!1),b=f.firstChild;b;b=b.nextSibling)y!==!0&&b.nodeType===1&&b.nodeName==="SCRIPT"||g.appendChild(c(b,y));return f.nodeType===1&&(f.nodeName==="CANVAS"?(g.width=f.width,g.height=f.height,g.getContext("2d").drawImage(f,0,0)):f.nodeName!=="TEXTAREA"&&f.nodeName!=="SELECT"||(g.value=f.value),g.addEventListener("load",function(){g.scrollTop=f.scrollTop,g.scrollLeft=f.scrollLeft},!0)),g}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(s.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:s}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},i.prototype.toCanvas=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,u(this.prop.container,c)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toContext2d=function(){var s=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(s).then(t).then(function(u){var c=this.opt.jsPDF,f=this.opt.fontFaces,y=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:y,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=f,f)for(var b=0;b<f.length;++b){var m=f[b],j=m.src.find(function(w){return w.format==="truetype"});j&&c.addFont(j.url,m.ref.name,m.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,c.context2d.save(!0),u(this.prop.container,g)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},i.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var s=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=s})},i.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},i.prototype.output=function(s,u,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(s,u):this.outputPdf(s,u)},i.prototype.outputPdf=function(s,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(s,u)})},i.prototype.outputImg=function(s){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(s){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+s+'" is not supported.'}})},i.prototype.save=function(s){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(s?{filename:s}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},i.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},i.prototype.set=function(s){if(r(s)!=="object")return this;var u=Object.keys(s||{}).map(function(c){if(c in i.template.prop)return function(){this.prop[c]=s[c]};switch(c){case"margin":return this.setMargin.bind(this,s.margin);case"jsPDF":return function(){return this.opt.jsPDF=s.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,s.pageSize);default:return function(){this.opt[c]=s[c]}}},this);return this.then(function(){return this.thenList(u)})},i.prototype.get=function(s,u){return this.then(function(){var c=s in i.template.prop?this.prop[s]:this.opt[s];return u?u(c):c})},i.prototype.setMargin=function(s){return this.then(function(){switch(r(s)){case"number":s=[s,s,s,s];case"array":if(s.length===2&&(s=[s[0],s[1],s[0],s[1]]),s.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=s}).then(this.setPageSize)},i.prototype.setPageSize=function(s){function u(c,f){return Math.floor(c*f/72*96)}return this.then(function(){(s=s||ft.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(s.inner={width:s.width-this.opt.margin[1]-this.opt.margin[3],height:s.height-this.opt.margin[0]-this.opt.margin[2]},s.inner.px={width:u(s.inner.width,s.k),height:u(s.inner.height,s.k)},s.inner.ratio=s.inner.height/s.inner.width),this.prop.pageSize=s})},i.prototype.setProgress=function(s,u,c,f){return s!=null&&(this.progress.val=s),u!=null&&(this.progress.state=u),c!=null&&(this.progress.n=c),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},i.prototype.updateProgress=function(s,u,c,f){return this.setProgress(s?this.progress.val+s:null,u||null,c?this.progress.n+c:null,f?this.progress.stack.concat(f):null)},i.prototype.then=function(s,u){var c=this;return this.thenCore(s,u,function(f,y){return c.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return c.updateProgress(null,f),g}).then(f,y).then(function(g){return c.updateProgress(1),g})})},i.prototype.thenCore=function(s,u,c){c=c||Promise.prototype.then,s&&(s=s.bind(this)),u&&(u=u.bind(this));var f=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:i.convert(Object.assign({},this),Promise.prototype),y=c.call(f,s,u);return i.convert(y,this.__proto__)},i.prototype.thenExternal=function(s,u){return Promise.prototype.then.call(this,s,u)},i.prototype.thenList=function(s){var u=this;return s.forEach(function(c){u=u.thenCore(c)}),u},i.prototype.catch=function(s){s&&(s=s.bind(this));var u=Promise.prototype.catch.call(this,s);return i.convert(u,this)},i.prototype.catchExternal=function(s){return Promise.prototype.catch.call(this,s)},i.prototype.error=function(s){return this.then(function(){throw new Error(s)})},i.prototype.using=i.prototype.set,i.prototype.saveAs=i.prototype.save,i.prototype.export=i.prototype.output,i.prototype.run=i.prototype.then,ft.getPageSize=function(s,u,c){if($t(s)==="object"){var f=s;s=f.orientation,u=f.unit||u,c=f.format||c}u=u||"mm",c=c||"a4",s=(""+(s||"P")).toLowerCase();var y,g=(""+c).toLowerCase(),b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":y=1;break;case"mm":y=72/25.4;break;case"cm":y=72/2.54;break;case"in":y=72;break;case"px":y=.75;break;case"pc":case"em":y=12;break;case"ex":y=6;break;default:throw"Invalid unit: "+u}var m,j=0,w=0;if(b.hasOwnProperty(g))j=b[g][1]/y,w=b[g][0]/y;else try{j=c[1],w=c[0]}catch{throw new Error("Invalid format: "+c)}if(s==="p"||s==="portrait")s="p",w>j&&(m=w,w=j,j=m);else{if(s!=="l"&&s!=="landscape")throw"Invalid orientation: "+s;s="l",j>w&&(m=w,w=j,j=m)}return{width:w,height:j,unit:u,k:y,orientation:s}},e.html=function(s,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(Sm):null;var c=new i(u);return u.worker?c:c.from(s).doCallback()}}(ft.API),ft.API.addJS=function(e){return X2=e,this.internal.events.subscribe("postPutResources",function(){ed=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ed+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),J2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+X2+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ed!==void 0&&J2!==void 0&&this.internal.out("/Names <</JavaScript "+ed+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=n.outline.render().split(/\r\n/),i=0;i<a.length;i++){var s=a[i],u=r.exec(s);if(u!=null){var c=u[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(s)}if(this.outline.createNamedDestinations){var f=this.internal.pages.length,y=[];for(i=0;i<f;i++){var g=n.internal.newObject();y.push(g);var b=n.internal.getPageInfo(i+1);n.internal.write("<< /D["+b.objId+" 0 R /XYZ null null null]>> endobj")}var m=n.internal.newObject();for(n.internal.write("<< /Names [ "),i=0;i<y.length;i++)n.internal.write("(page_"+(i+1)+")"+y[i]+" 0 R");n.internal.write(" ] >>","endobj"),t=n.internal.newObject(),n.internal.write("<< /Dests "+m+" 0 R"),n.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,a,i){var s={title:a,options:i,children:[]};return r==null&&(r=this.root),r.children.push(s),s},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var a=0;a<r.children.length;a++)this.genIds_r(r.children[a])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<r.children.length;i++){var s=r.children[i];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(r)),i>0&&this.line("/Prev "+this.makeRef(r.children[i-1])),i<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[i+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var u=this.count=this.count_r({count:0},s);if(u>0&&this.line("/Count "+u),s.options&&s.options.pageNumber){var c=n.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var f=0;f<r.children.length;f++)this.renderItems(r.children[f])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,a){for(var i=0;i<a.children.length;i++)r.count++,this.count_r(r,a.children[i]);return r.count}}])}(ft.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(n,r,a,i,s,u){var c,f=this.decode.DCT_DECODE,y=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=s||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(g){for(var b,m=256*g.charCodeAt(4)+g.charCodeAt(5),j=g.length,w={width:0,height:0,numcomponents:1},P=4;P<j;P+=2){if(P+=m,t.indexOf(g.charCodeAt(P+1))!==-1){b=256*g.charCodeAt(P+5)+g.charCodeAt(P+6),w={width:256*g.charCodeAt(P+7)+g.charCodeAt(P+8),height:b,numcomponents:g.charCodeAt(P+9)};break}m=256*g.charCodeAt(P+2)+g.charCodeAt(P+3)}return w}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}y={data:n,width:c.width,height:c.height,colorSpace:u,bitsPerComponent:8,filter:f,index:r,alias:a}}return y}}(ft.API);var xo,td,Q2,Z2,e5,F6=function(){var e,t,n;function r(i){var s,u,c,f,y,g,b,m,j,w,P,x,v,S;for(this.data=i,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},g=null;;){switch(s=this.readUInt32(),j=(function(){var B,J;for(J=[],B=0;B<4;++B)J.push(String.fromCharCode(this.data[this.pos++]));return J}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(s);break;case"fcTL":g&&this.animation.frames.push(g),this.pos+=4,g={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},y=this.readUInt16(),f=this.readUInt16()||100,g.delay=1e3*y/f,g.disposeOp=this.data[this.pos++],g.blendOp=this.data[this.pos++],g.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,s-=4),i=(g!=null?g.data:void 0)||this.imgData,x=0;0<=s?x<s:x>s;0<=s?++x:--x)i.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(s),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((w=c-this.transparency.indexed.length)>0)for(v=0;0<=w?v<w:v>w;0<=w?++v:--v)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(s)[0];break;case 2:this.transparency.rgb=this.read(s)}break;case"tEXt":b=(P=this.read(s)).indexOf(0),m=String.fromCharCode.apply(String,P.slice(0,b)),this.text[m]=String.fromCharCode.apply(String,P.slice(b+1));break;case"IEND":return g&&this.animation.frames.push(g),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(S=this.colorType)===4||S===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=s}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(i){var s,u;for(u=[],s=0;0<=i?s<i:s>i;0<=i?++s:--s)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(i){var s=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*s),c=0,f=this;if(i==null&&(i=this.imgData),i.length===0)return new Uint8Array(0);function y(g,b,m,j){var w,P,x,v,S,B,J,ne,U,T,V,se,E,_,W,F,te,Z,de,D,X,re=Math.ceil((f.width-g)/m),ke=Math.ceil((f.height-b)/j),C=f.width==re&&f.height==ke;for(_=s*re,se=C?u:new Uint8Array(_*ke),B=i.length,E=0,P=0;E<ke&&c<B;){switch(i[c++]){case 0:for(v=te=0;te<_;v=te+=1)se[P++]=i[c++];break;case 1:for(v=Z=0;Z<_;v=Z+=1)w=i[c++],S=v<s?0:se[P-s],se[P++]=(w+S)%256;break;case 2:for(v=de=0;de<_;v=de+=1)w=i[c++],x=(v-v%s)/s,W=E&&se[(E-1)*_+x*s+v%s],se[P++]=(W+w)%256;break;case 3:for(v=D=0;D<_;v=D+=1)w=i[c++],x=(v-v%s)/s,S=v<s?0:se[P-s],W=E&&se[(E-1)*_+x*s+v%s],se[P++]=(w+Math.floor((S+W)/2))%256;break;case 4:for(v=X=0;X<_;v=X+=1)w=i[c++],x=(v-v%s)/s,S=v<s?0:se[P-s],E===0?W=F=0:(W=se[(E-1)*_+x*s+v%s],F=x&&se[(E-1)*_+(x-1)*s+v%s]),J=S+W-F,ne=Math.abs(J-S),T=Math.abs(J-W),V=Math.abs(J-F),U=ne<=T&&ne<=V?S:T<=V?W:F,se[P++]=(w+U)%256;break;default:throw new Error("Invalid filter algorithm: "+i[c-1])}if(!C){var $=((b+E*j)*f.width+g)*s,q=E*_;for(v=0;v<re;v+=1){for(var Y=0;Y<s;Y+=1)u[$++]=se[q++];$+=(m-1)*s}}E++}}return i=m6(i),f.interlaceMethod==1?(y(0,0,8,8),y(4,0,8,8),y(0,4,4,8),y(2,0,4,4),y(0,2,2,4),y(1,0,2,2),y(0,1,1,2)):y(0,0,1,1),u},r.prototype.decodePalette=function(){var i,s,u,c,f,y,g,b,m;for(u=this.palette,y=this.transparency.indexed||[],f=new Uint8Array((y.length||0)+u.length),c=0,i=0,s=g=0,b=u.length;g<b;s=g+=3)f[c++]=u[s],f[c++]=u[s+1],f[c++]=u[s+2],f[c++]=(m=y[i++])!=null?m:255;return f},r.prototype.copyToImageData=function(i,s){var u,c,f,y,g,b,m,j,w,P,x;if(c=this.colors,w=null,u=this.hasAlphaChannel,this.palette.length&&(w=(x=this._decodedPalette)!=null?x:this._decodedPalette=this.decodePalette(),c=4,u=!0),j=(f=i.data||i).length,g=w||s,y=b=0,c===1)for(;y<j;)m=w?4*s[y/4]:b,P=g[m++],f[y++]=P,f[y++]=P,f[y++]=P,f[y++]=u?g[m++]:255,b=m;else for(;y<j;)m=w?4*s[y/4]:b,f[y++]=g[m++],f[y++]=g[m++],f[y++]=g[m++],f[y++]=u?g[m++]:255,b=m},r.prototype.decode=function(){var i;return i=new Uint8Array(this.width*this.height*4),this.copyToImageData(i,this.decodePixels()),i};var a=function(){if(Object.prototype.toString.call(ht)==="[object Window]"){try{t=ht.document.createElement("canvas"),n=t.getContext("2d")}catch{return!1}return!0}return!1};return a(),e=function(i){var s;if(a()===!0)return n.width=i.width,n.height=i.height,n.clearRect(0,0,i.width,i.height),n.putImageData(i,0,0),(s=new Image).src=t.toDataURL(),s;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(i){var s,u,c,f,y,g,b,m;if(this.animation){for(m=[],u=y=0,g=(b=this.animation.frames).length;y<g;u=++y)s=b[u],c=i.createImageData(s.width,s.height),f=this.decodePixels(new Uint8Array(s.data)),this.copyToImageData(c,f),s.imageData=c,m.push(s.image=e(c));return m}},r.prototype.renderFrame=function(i,s){var u,c,f;return u=(c=this.animation.frames)[s],f=c[s-1],s===0&&i.clearRect(0,0,this.width,this.height),(f!=null?f.disposeOp:void 0)===1?i.clearRect(f.xOffset,f.yOffset,f.width,f.height):(f!=null?f.disposeOp:void 0)===2&&i.putImageData(f.imageData,f.xOffset,f.yOffset),u.blendOp===0&&i.clearRect(u.xOffset,u.yOffset,u.width,u.height),i.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(i){var s,u,c,f,y,g,b=this;return u=0,g=this.animation,f=g.numFrames,c=g.frames,y=g.numPlays,(s=function(){var m,j;if(m=u++%f,j=c[m],b.renderFrame(i,m),f>1&&u/f<y)return b.animation._timeout=setTimeout(s,j.delay)})()},r.prototype.stopAnimation=function(){var i;return clearTimeout((i=this.animation)!=null?i._timeout:void 0)},r.prototype.render=function(i){var s,u;return i._png&&i._png.stopAnimation(),i._png=this,i.width=this.width,i.height=this.height,s=i.getContext("2d"),this.animation?(this.decodeFrames(s),this.animate(s)):(u=s.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),s.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function M6(e){var t=0;if(e[t++]!==71||e[t++]!==73||e[t++]!==70||e[t++]!==56||(e[t++]+1&253)!=56||e[t++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,a=e[t++],i=a>>7,s=1<<(7&a)+1;e[t++],e[t++];var u=null,c=null;i&&(u=t,c=s,t+=3*s);var f=!0,y=[],g=0,b=null,m=0,j=null;for(this.width=n,this.height=r;f&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(e[t]!==11||e[t+1]==78&&e[t+2]==69&&e[t+3]==84&&e[t+4]==83&&e[t+5]==67&&e[t+6]==65&&e[t+7]==80&&e[t+8]==69&&e[t+9]==50&&e[t+10]==46&&e[t+11]==48&&e[t+12]==3&&e[t+13]==1&&e[t+16]==0)t+=14,j=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;case 249:if(e[t++]!==4||e[t+4]!==0)throw new Error("Invalid graphics extension block.");var w=e[t++];g=e[t++]|e[t++]<<8,b=e[t++],!(1&w)&&(b=null),m=w>>2&7,t++;break;case 254:for(;;){if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var P=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,v=e[t++]|e[t++]<<8,S=e[t++]|e[t++]<<8,B=e[t++],J=B>>6&1,ne=1<<(7&B)+1,U=u,T=c,V=!1;B>>7&&(V=!0,U=t,T=ne,t+=3*ne);var se=t;for(t++;;){var E;if(!((E=e[t++])>=0))throw Error("Invalid block size");if(E===0)break;t+=E}y.push({x:P,y:x,width:v,height:S,has_local_palette:V,palette_offset:U,palette_size:T,data_offset:se,data_length:t-se,transparent_index:b,interlaced:!!J,delay:g,disposal:m});break;case 59:f=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return y.length},this.loopCount=function(){return j},this.frameInfo=function(_){if(_<0||_>=y.length)throw new Error("Frame index out of range.");return y[_]},this.decodeAndBlitFrameBGRA=function(_,W){var F=this.frameInfo(_),te=F.width*F.height,Z=new Uint8Array(te);t5(e,F.data_offset,Z,te);var de=F.palette_offset,D=F.transparent_index;D===null&&(D=256);var X=F.width,re=n-X,ke=X,C=4*(F.y*n+F.x),$=4*((F.y+F.height)*n+F.x),q=C,Y=4*re;F.interlaced===!0&&(Y+=4*n*7);for(var ae=8,fe=0,ye=Z.length;fe<ye;++fe){var ve=Z[fe];if(ke===0&&(ke=X,(q+=Y)>=$&&(Y=4*re+4*n*(ae-1),q=C+(X+re)*(ae<<1),ae>>=1)),ve===D)q+=4;else{var Be=e[de+3*ve],Ie=e[de+3*ve+1],We=e[de+3*ve+2];W[q++]=We,W[q++]=Ie,W[q++]=Be,W[q++]=255}--ke}},this.decodeAndBlitFrameRGBA=function(_,W){var F=this.frameInfo(_),te=F.width*F.height,Z=new Uint8Array(te);t5(e,F.data_offset,Z,te);var de=F.palette_offset,D=F.transparent_index;D===null&&(D=256);var X=F.width,re=n-X,ke=X,C=4*(F.y*n+F.x),$=4*((F.y+F.height)*n+F.x),q=C,Y=4*re;F.interlaced===!0&&(Y+=4*n*7);for(var ae=8,fe=0,ye=Z.length;fe<ye;++fe){var ve=Z[fe];if(ke===0&&(ke=X,(q+=Y)>=$&&(Y=4*re+4*n*(ae-1),q=C+(X+re)*(ae<<1),ae>>=1)),ve===D)q+=4;else{var Be=e[de+3*ve],Ie=e[de+3*ve+1],We=e[de+3*ve+2];W[q++]=Be,W[q++]=Ie,W[q++]=We,W[q++]=255}--ke}}}function t5(e,t,n,r){for(var a=e[t++],i=1<<a,s=i+1,u=s+1,c=a+1,f=(1<<c)-1,y=0,g=0,b=0,m=e[t++],j=new Int32Array(4096),w=null;;){for(;y<16&&m!==0;)g|=e[t++]<<y,y+=8,m===1?m=e[t++]:--m;if(y<c)break;var P=g&f;if(g>>=c,y-=c,P!==i){if(P===s)break;for(var x=P<u?P:w,v=0,S=x;S>i;)S=j[S]>>8,++v;var B=S;if(b+v+(x!==P?1:0)>r)return void Kt.log("Warning, gif stream longer than expected.");n[b++]=B;var J=b+=v;for(x!==P&&(n[b++]=B),S=x;v--;)S=j[S],n[--J]=255&S,S>>=8;w!==null&&u<4096&&(j[u++]=w<<8|B,u>=f+1&&c<12&&(++c,f=f<<1|1)),w=P}else u=s+1,f=(1<<(c=a+1))-1,w=null}return b!==r&&Kt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function tp(e){var t,n,r,a,i,s=Math.floor,u=new Array(64),c=new Array(64),f=new Array(64),y=new Array(64),g=new Array(65535),b=new Array(65535),m=new Array(64),j=new Array(64),w=[],P=0,x=7,v=new Array(64),S=new Array(64),B=new Array(64),J=new Array(256),ne=new Array(2048),U=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],T=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],se=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],_=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],W=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],te=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Z(C,$){for(var q=0,Y=0,ae=new Array,fe=1;fe<=16;fe++){for(var ye=1;ye<=C[fe];ye++)ae[$[Y]]=[],ae[$[Y]][0]=q,ae[$[Y]][1]=fe,Y++,q++;q*=2}return ae}function de(C){for(var $=C[0],q=C[1]-1;q>=0;)$&1<<q&&(P|=1<<x),q--,--x<0&&(P==255?(D(255),D(0)):D(P),x=7,P=0)}function D(C){w.push(C)}function X(C){D(C>>8&255),D(255&C)}function re(C,$,q,Y,ae){for(var fe,ye=ae[0],ve=ae[240],Be=function(_e,qe){var ze,Ge,et,it,z,ge,Ee,De,Ce,$e,Ae=0;for(Ce=0;Ce<8;++Ce){ze=_e[Ae],Ge=_e[Ae+1],et=_e[Ae+2],it=_e[Ae+3],z=_e[Ae+4],ge=_e[Ae+5],Ee=_e[Ae+6];var ot=ze+(De=_e[Ae+7]),nt=ze-De,gt=Ge+Ee,At=Ge-Ee,Et=et+ge,kt=et-ge,mt=it+z,kn=it-z,Ct=ot+mt,pn=ot-mt,cr=gt+Et,Dt=gt-Et;_e[Ae]=Ct+cr,_e[Ae+4]=Ct-cr;var ct=.707106781*(Dt+pn);_e[Ae+2]=pn+ct,_e[Ae+6]=pn-ct;var Rt=.382683433*((Ct=kn+kt)-(Dt=At+nt)),Yr=.5411961*Ct+Rt,Qt=1.306562965*Dt+Rt,dr=.707106781*(cr=kt+At),fr=nt+dr,lt=nt-dr;_e[Ae+5]=lt+Yr,_e[Ae+3]=lt-Yr,_e[Ae+1]=fr+Qt,_e[Ae+7]=fr-Qt,Ae+=8}for(Ae=0,Ce=0;Ce<8;++Ce){ze=_e[Ae],Ge=_e[Ae+8],et=_e[Ae+16],it=_e[Ae+24],z=_e[Ae+32],ge=_e[Ae+40],Ee=_e[Ae+48];var G=ze+(De=_e[Ae+56]),Re=ze-De,pt=Ge+Ee,Lt=Ge-Ee,It=et+ge,Vt=et-ge,mn=it+z,zt=it-z,yt=G+mn,wt=G-mn,gn=pt+It,Tn=pt-It;_e[Ae]=yt+gn,_e[Ae+32]=yt-gn;var En=.707106781*(Tn+wt);_e[Ae+16]=wt+En,_e[Ae+48]=wt-En;var Mn=.382683433*((yt=zt+Vt)-(Tn=Lt+Re)),k=.5411961*yt+Mn,xe=1.306562965*Tn+Mn,be=.707106781*(gn=Vt+Lt),He=Re+be,Ye=Re-be;_e[Ae+40]=Ye+k,_e[Ae+24]=Ye-k,_e[Ae+8]=He+xe,_e[Ae+56]=He-xe,Ae++}for(Ce=0;Ce<64;++Ce)$e=_e[Ce]*qe[Ce],m[Ce]=$e>0?$e+.5|0:$e-.5|0;return m}(C,$),Ie=0;Ie<64;++Ie)j[U[Ie]]=Be[Ie];var We=j[0]-q;q=j[0],We==0?de(Y[0]):(de(Y[b[fe=32767+We]]),de(g[fe]));for(var Ve=63;Ve>0&&j[Ve]==0;)Ve--;if(Ve==0)return de(ye),q;for(var at,we=1;we<=Ve;){for(var Q=we;j[we]==0&&we<=Ve;)++we;var Je=we-Q;if(Je>=16){at=Je>>4;for(var Me=1;Me<=at;++Me)de(ve);Je&=15}fe=32767+j[we],de(ae[(Je<<4)+b[fe]]),de(g[fe]),we++}return Ve!=63&&de(ye),q}function ke(C){C=Math.min(Math.max(C,1),100),i!=C&&(function($){for(var q=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Y=0;Y<64;Y++){var ae=s((q[Y]*$+50)/100);ae=Math.min(Math.max(ae,1),255),u[U[Y]]=ae}for(var fe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var ve=s((fe[ye]*$+50)/100);ve=Math.min(Math.max(ve,1),255),c[U[ye]]=ve}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ie=0,We=0;We<8;We++)for(var Ve=0;Ve<8;Ve++)f[Ie]=1/(u[U[Ie]]*Be[We]*Be[Ve]*8),y[Ie]=1/(c[U[Ie]]*Be[We]*Be[Ve]*8),Ie++}(C<50?Math.floor(5e3/C):Math.floor(200-2*C)),i=C)}this.encode=function(C,$){$&&ke($),w=new Array,P=0,x=7,X(65496),X(65504),X(16),D(74),D(70),D(73),D(70),D(0),D(1),D(1),D(0),X(1),X(1),D(0),D(0),function(){X(65499),X(132),D(0);for(var Ge=0;Ge<64;Ge++)D(u[Ge]);D(1);for(var et=0;et<64;et++)D(c[et])}(),function(Ge,et){X(65472),X(17),D(8),X(et),X(Ge),D(3),D(1),D(17),D(0),D(2),D(17),D(1),D(3),D(17),D(1)}(C.width,C.height),function(){X(65476),X(418),D(0);for(var Ge=0;Ge<16;Ge++)D(T[Ge+1]);for(var et=0;et<=11;et++)D(V[et]);D(16);for(var it=0;it<16;it++)D(se[it+1]);for(var z=0;z<=161;z++)D(E[z]);D(1);for(var ge=0;ge<16;ge++)D(_[ge+1]);for(var Ee=0;Ee<=11;Ee++)D(W[Ee]);D(17);for(var De=0;De<16;De++)D(F[De+1]);for(var Ce=0;Ce<=161;Ce++)D(te[Ce])}(),X(65498),X(12),D(3),D(1),D(0),D(2),D(17),D(3),D(17),D(0),D(63),D(0);var q=0,Y=0,ae=0;P=0,x=7,this.encode.displayName="_encode_";for(var fe,ye,ve,Be,Ie,We,Ve,at,we,Q=C.data,Je=C.width,Me=C.height,_e=4*Je,qe=0;qe<Me;){for(fe=0;fe<_e;){for(Ie=_e*qe+fe,Ve=-1,at=0,we=0;we<64;we++)We=Ie+(at=we>>3)*_e+(Ve=4*(7&we)),qe+at>=Me&&(We-=_e*(qe+1+at-Me)),fe+Ve>=_e&&(We-=fe+Ve-_e+4),ye=Q[We++],ve=Q[We++],Be=Q[We++],v[we]=(ne[ye]+ne[ve+256>>0]+ne[Be+512>>0]>>16)-128,S[we]=(ne[ye+768>>0]+ne[ve+1024>>0]+ne[Be+1280>>0]>>16)-128,B[we]=(ne[ye+1280>>0]+ne[ve+1536>>0]+ne[Be+1792>>0]>>16)-128;q=re(v,f,q,t,r),Y=re(S,y,Y,n,a),ae=re(B,y,ae,n,a),fe+=32}qe+=8}if(x>=0){var ze=[];ze[1]=x+1,ze[0]=(1<<x+1)-1,de(ze)}return X(65497),new Uint8Array(w)},e=e||50,function(){for(var C=String.fromCharCode,$=0;$<256;$++)J[$]=C($)}(),t=Z(T,V),n=Z(_,W),r=Z(se,E),a=Z(F,te),function(){for(var C=1,$=2,q=1;q<=15;q++){for(var Y=C;Y<$;Y++)b[32767+Y]=q,g[32767+Y]=[],g[32767+Y][1]=q,g[32767+Y][0]=Y;for(var ae=-($-1);ae<=-C;ae++)b[32767+ae]=q,g[32767+ae]=[],g[32767+ae][1]=q,g[32767+ae][0]=$-1+ae;C<<=1,$<<=1}}(),function(){for(var C=0;C<256;C++)ne[C]=19595*C,ne[C+256>>0]=38470*C,ne[C+512>>0]=7471*C+32768,ne[C+768>>0]=-11059*C,ne[C+1024>>0]=-21709*C,ne[C+1280>>0]=32768*C+8421375,ne[C+1536>>0]=-27439*C,ne[C+1792>>0]=-5329*C}(),ke(e)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ya(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function n5(e){function t(T){if(!T)throw Error("assert :P")}function n(T,V,se){for(var E=0;4>E;E++)if(T[V+E]!=se.charCodeAt(E))return!0;return!1}function r(T,V,se,E,_){for(var W=0;W<_;W++)T[V+W]=se[E+W]}function a(T,V,se,E){for(var _=0;_<E;_++)T[V+_]=se}function i(T){return new Int32Array(T)}function s(T,V){for(var se=[],E=0;E<T;E++)se.push(new V);return se}function u(T,V){var se=[];return function E(_,W,F){for(var te=F[W],Z=0;Z<te&&(_.push(F.length>W+1?[]:new V),!(F.length<W+1));Z++)E(_[Z],W+1,F)}(se,0,T),se}var c=function(){var T=this;function V(l,d){for(var p=1<<d-1>>>0;l&p;)p>>>=1;return p?(l&p-1)+p:l}function se(l,d,p,N,A){t(!(N%p));do l[d+(N-=p)]=A;while(0<N)}function E(l,d,p,N,A){if(t(2328>=A),512>=A)var R=i(512);else if((R=i(A))==null)return 0;return function(I,O,M,H,oe,pe){var me,ce,Te=O,Se=1<<M,le=i(16),ue=i(16);for(t(oe!=0),t(H!=null),t(I!=null),t(0<M),ce=0;ce<oe;++ce){if(15<H[ce])return 0;++le[H[ce]]}if(le[0]==oe)return 0;for(ue[1]=0,me=1;15>me;++me){if(le[me]>1<<me)return 0;ue[me+1]=ue[me]+le[me]}for(ce=0;ce<oe;++ce)me=H[ce],0<H[ce]&&(pe[ue[me]++]=ce);if(ue[15]==1)return(H=new _).g=0,H.value=pe[0],se(I,Te,1,Se,H),Se;var Le,Oe=-1,Pe=Se-1,Ze=0,Ke=1,dt=1,Xe=1<<M;for(ce=0,me=1,oe=2;me<=M;++me,oe<<=1){if(Ke+=dt<<=1,0>(dt-=le[me]))return 0;for(;0<le[me];--le[me])(H=new _).g=me,H.value=pe[ce++],se(I,Te+Ze,oe,Xe,H),Ze=V(Ze,me)}for(me=M+1,oe=2;15>=me;++me,oe<<=1){if(Ke+=dt<<=1,0>(dt-=le[me]))return 0;for(;0<le[me];--le[me]){if(H=new _,(Ze&Pe)!=Oe){for(Te+=Xe,Le=1<<(Oe=me)-M;15>Oe&&!(0>=(Le-=le[Oe]));)++Oe,Le<<=1;Se+=Xe=1<<(Le=Oe-M),I[O+(Oe=Ze&Pe)].g=Le+M,I[O+Oe].value=Te-O-Oe}H.g=me-M,H.value=pe[ce++],se(I,Te+(Ze>>M),oe,Xe,H),Ze=V(Ze,me)}}return Ke!=2*ue[15]-1?0:Se}(l,d,p,N,A,R)}function _(){this.value=this.g=0}function W(){this.value=this.g=0}function F(){this.G=s(5,_),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=s(Wn,W)}function te(l,d,p,N){t(l!=null),t(d!=null),t(2147483648>N),l.Ca=254,l.I=0,l.b=-8,l.Ka=0,l.oa=d,l.pa=p,l.Jd=d,l.Yc=p+N,l.Zc=4<=N?p+N-4+1:p,fe(l)}function Z(l,d){for(var p=0;0<d--;)p|=ve(l,128)<<d;return p}function de(l,d){var p=Z(l,d);return ye(l)?-p:p}function D(l,d,p,N){var A,R=0;for(t(l!=null),t(d!=null),t(4294967288>N),l.Sb=N,l.Ra=0,l.u=0,l.h=0,4<N&&(N=4),A=0;A<N;++A)R+=d[p+A]<<8*A;l.Ra=R,l.bb=N,l.oa=d,l.pa=p}function X(l){for(;8<=l.u&&l.bb<l.Sb;)l.Ra>>>=8,l.Ra+=l.oa[l.pa+l.bb]<<ro-8>>>0,++l.bb,l.u-=8;q(l)&&(l.h=1,l.u=0)}function re(l,d){if(t(0<=d),!l.h&&d<=no){var p=$(l)&to[d];return l.u+=d,X(l),p}return l.h=1,l.u=0}function ke(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function C(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function $(l){return l.Ra>>>(l.u&ro-1)>>>0}function q(l){return t(l.bb<=l.Sb),l.h||l.bb==l.Sb&&l.u>ro}function Y(l,d){l.u=d,l.h=q(l)}function ae(l){l.u>=Cl&&(t(l.u>=Cl),X(l))}function fe(l){t(l!=null&&l.oa!=null),l.pa<l.Zc?(l.I=(l.oa[l.pa++]|l.I<<8)>>>0,l.b+=8):(t(l!=null&&l.oa!=null),l.pa<l.Yc?(l.b+=8,l.I=l.oa[l.pa++]|l.I<<8):l.Ka?l.b=0:(l.I<<=8,l.b+=8,l.Ka=1))}function ye(l){return Z(l,1)}function ve(l,d){var p=l.Ca;0>l.b&&fe(l);var N=l.b,A=p*d>>>8,R=(l.I>>>N>A)+0;for(R?(p-=A,l.I-=A+1<<N>>>0):p=A+1,N=p,A=0;256<=N;)A+=8,N>>=8;return N=7^A+Sr[N],l.b-=N,l.Ca=(p<<N)-1,R}function Be(l,d,p){l[d+0]=p>>24&255,l[d+1]=p>>16&255,l[d+2]=p>>8&255,l[d+3]=p>>0&255}function Ie(l,d){return l[d+0]<<0|l[d+1]<<8}function We(l,d){return Ie(l,d)|l[d+2]<<16}function Ve(l,d){return Ie(l,d)|Ie(l,d+2)<<16}function at(l,d){var p=1<<d;return t(l!=null),t(0<d),l.X=i(p),l.X==null?0:(l.Mb=32-d,l.Xa=d,1)}function we(l,d){t(l!=null),t(d!=null),t(l.Xa==d.Xa),r(d.X,0,l.X,0,1<<d.Xa)}function Q(){this.X=[],this.Xa=this.Mb=0}function Je(l,d,p,N){t(p!=null),t(N!=null);var A=p[0],R=N[0];return A==0&&(A=(l*R+d/2)/d),R==0&&(R=(d*A+l/2)/l),0>=A||0>=R?0:(p[0]=A,N[0]=R,1)}function Me(l,d){return l+(1<<d)-1>>>d}function _e(l,d){return((4278255360&l)+(4278255360&d)>>>0&4278255360)+((16711935&l)+(16711935&d)>>>0&16711935)>>>0}function qe(l,d){T[d]=function(p,N,A,R,I,O,M){var H;for(H=0;H<I;++H){var oe=T[l](O[M+H-1],A,R+H);O[M+H]=_e(p[N+H],oe)}}}function ze(){this.ud=this.hd=this.jd=0}function Ge(l,d){return((4278124286&(l^d))>>>1)+(l&d)>>>0}function et(l){return 0<=l&&256>l?l:0>l?0:255<l?255:void 0}function it(l,d){return et(l+(l-d+.5>>1))}function z(l,d,p){return Math.abs(d-p)-Math.abs(l-p)}function ge(l,d,p,N,A,R,I){for(N=R[I-1],p=0;p<A;++p)R[I+p]=N=_e(l[d+p],N)}function Ee(l,d,p,N,A){var R;for(R=0;R<p;++R){var I=l[d+R],O=I>>8&255,M=16711935&(M=(M=16711935&I)+((O<<16)+O));N[A+R]=(4278255360&I)+M>>>0}}function De(l,d){d.jd=l>>0&255,d.hd=l>>8&255,d.ud=l>>16&255}function Ce(l,d,p,N,A,R){var I;for(I=0;I<N;++I){var O=d[p+I],M=O>>>8,H=O,oe=255&(oe=(oe=O>>>16)+((l.jd<<24>>24)*(M<<24>>24)>>>5));H=255&(H=(H=H+((l.hd<<24>>24)*(M<<24>>24)>>>5))+((l.ud<<24>>24)*(oe<<24>>24)>>>5)),A[R+I]=(4278255360&O)+(oe<<16)+H}}function $e(l,d,p,N,A){T[d]=function(R,I,O,M,H,oe,pe,me,ce){for(M=pe;M<me;++M)for(pe=0;pe<ce;++pe)H[oe++]=A(O[N(R[I++])])},T[l]=function(R,I,O,M,H,oe,pe){var me=8>>R.b,ce=R.Ea,Te=R.K[0],Se=R.w;if(8>me)for(R=(1<<R.b)-1,Se=(1<<me)-1;I<O;++I){var le,ue=0;for(le=0;le<ce;++le)le&R||(ue=N(M[H++])),oe[pe++]=A(Te[ue&Se]),ue>>=me}else T["VP8LMapColor"+p](M,H,Te,Se,oe,pe,I,O,ce)}}function Ae(l,d,p,N,A){for(p=d+p;d<p;){var R=l[d++];N[A++]=R>>16&255,N[A++]=R>>8&255,N[A++]=R>>0&255}}function ot(l,d,p,N,A){for(p=d+p;d<p;){var R=l[d++];N[A++]=R>>16&255,N[A++]=R>>8&255,N[A++]=R>>0&255,N[A++]=R>>24&255}}function nt(l,d,p,N,A){for(p=d+p;d<p;){var R=(I=l[d++])>>16&240|I>>12&15,I=I>>0&240|I>>28&15;N[A++]=R,N[A++]=I}}function gt(l,d,p,N,A){for(p=d+p;d<p;){var R=(I=l[d++])>>16&248|I>>13&7,I=I>>5&224|I>>3&31;N[A++]=R,N[A++]=I}}function At(l,d,p,N,A){for(p=d+p;d<p;){var R=l[d++];N[A++]=R>>0&255,N[A++]=R>>8&255,N[A++]=R>>16&255}}function Et(l,d,p,N,A,R){if(R==0)for(p=d+p;d<p;)Be(N,((R=l[d++])[0]>>24|R[1]>>8&65280|R[2]<<8&16711680|R[3]<<24)>>>0),A+=32;else r(N,A,l,d,p)}function kt(l,d){T[d][0]=T[l+"0"],T[d][1]=T[l+"1"],T[d][2]=T[l+"2"],T[d][3]=T[l+"3"],T[d][4]=T[l+"4"],T[d][5]=T[l+"5"],T[d][6]=T[l+"6"],T[d][7]=T[l+"7"],T[d][8]=T[l+"8"],T[d][9]=T[l+"9"],T[d][10]=T[l+"10"],T[d][11]=T[l+"11"],T[d][12]=T[l+"12"],T[d][13]=T[l+"13"],T[d][14]=T[l+"0"],T[d][15]=T[l+"0"]}function mt(l){return l==th||l==nh||l==bc||l==rh}function kn(){this.eb=[],this.size=this.A=this.fb=0}function Ct(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function pn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new kn,this.f.kb=new Ct,this.sd=null}function cr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Dt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ct(l){return alert("todo:WebPSamplerProcessPlane"),l.T}function Rt(l,d){var p=l.T,N=d.ba.f.RGBA,A=N.eb,R=N.fb+l.ka*N.A,I=ta[d.ba.S],O=l.y,M=l.O,H=l.f,oe=l.N,pe=l.ea,me=l.W,ce=d.cc,Te=d.dc,Se=d.Mc,le=d.Nc,ue=l.ka,Le=l.ka+l.T,Oe=l.U,Pe=Oe+1>>1;for(ue==0?I(O,M,null,null,H,oe,pe,me,H,oe,pe,me,A,R,null,null,Oe):(I(d.ec,d.fc,O,M,ce,Te,Se,le,H,oe,pe,me,A,R-N.A,A,R,Oe),++p);ue+2<Le;ue+=2)ce=H,Te=oe,Se=pe,le=me,oe+=l.Rc,me+=l.Rc,R+=2*N.A,I(O,(M+=2*l.fa)-l.fa,O,M,ce,Te,Se,le,H,oe,pe,me,A,R-N.A,A,R,Oe);return M+=l.fa,l.j+Le<l.o?(r(d.ec,d.fc,O,M,Oe),r(d.cc,d.dc,H,oe,Pe),r(d.Mc,d.Nc,pe,me,Pe),p--):1&Le||I(O,M,null,null,H,oe,pe,me,H,oe,pe,me,A,R+N.A,null,null,Oe),p}function Yr(l,d,p){var N=l.F,A=[l.J];if(N!=null){var R=l.U,I=d.ba.S,O=I==xc||I==bc;d=d.ba.f.RGBA;var M=[0],H=l.ka;M[0]=l.T,l.Kb&&(H==0?--M[0]:(--H,A[0]-=l.width),l.j+l.ka+l.T==l.o&&(M[0]=l.o-l.j-H));var oe=d.eb;H=d.fb+H*d.A,l=Jt(N,A[0],l.width,R,M,oe,H+(O?0:3),d.A),t(p==M),l&&mt(I)&&Zr(oe,H,O,R,M,d.A)}return 0}function Qt(l){var d=l.ma,p=d.ba.S,N=11>p,A=p==yc||p==vc||p==xc||p==eh||p==12||mt(p);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Al(d.Oa,l,A?11:12))return 0;if(A&&mt(p)&&Fe(),l.da)alert("todo:use_scaling");else{if(N){if(d.Ib=ct,l.Kb){if(p=l.U+1>>1,d.memory=i(l.U+2*p),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+l.U,d.Mc=d.cc,d.Nc=d.dc+p,d.Ib=Rt,Fe()}}else alert("todo:EmitYUV");A&&(d.Jb=Yr,N&&he())}if(N&&!B1){for(l=0;256>l;++l)Qv[l]=89858*(l-128)+Nc>>wc,tx[l]=-22014*(l-128)+Nc,ex[l]=-45773*(l-128),Zv[l]=113618*(l-128)+Nc>>wc;for(l=Ol;l<sh;++l)d=76283*(l-16)+Nc>>wc,nx[l-Ol]=Dr(d,255),rx[l-Ol]=Dr(d+8>>4,15);B1=1}return 1}function dr(l){var d=l.ma,p=l.U,N=l.T;return t(!(1&l.ka)),0>=p||0>=N?0:(p=d.Ib(l,d),d.Jb!=null&&d.Jb(l,d,p),d.Dc+=p,1)}function fr(l){l.ma.memory=null}function lt(l,d,p,N){return re(l,8)!=47?0:(d[0]=re(l,14)+1,p[0]=re(l,14)+1,N[0]=re(l,1),re(l,3)!=0?0:!l.h)}function G(l,d){if(4>l)return l+1;var p=l-2>>1;return(2+(1&l)<<p)+re(d,p)+1}function Re(l,d){return 120<d?d-120:1<=(p=((p=Mv[d-1])>>4)*l+(8-(15&p)))?p:1;var p}function pt(l,d,p){var N=$(p),A=l[d+=255&N].g-8;return 0<A&&(Y(p,p.u+8),N=$(p),d+=l[d].value,d+=N&(1<<A)-1),Y(p,p.u+l[d].g),l[d].value}function Lt(l,d,p){return p.g+=l.g,p.value+=l.value<<d>>>0,t(8>=p.g),l.g}function It(l,d,p){var N=l.xc;return t((d=N==0?0:l.vc[l.md*(p>>N)+(d>>N)])<l.Wb),l.Ya[d]}function Vt(l,d,p,N){var A=l.ab,R=l.c*d,I=l.C;d=I+d;var O=p,M=N;for(N=l.Ta,p=l.Ua;0<A--;){var H=l.gc[A],oe=I,pe=d,me=O,ce=M,Te=(M=N,O=p,H.Ea);switch(t(oe<pe),t(pe<=H.nc),H.hc){case 2:cc(me,ce,(pe-oe)*Te,M,O);break;case 0:var Se=oe,le=pe,ue=M,Le=O,Oe=(Xe=H).Ea;Se==0&&(Qf(me,ce,null,null,1,ue,Le),ge(me,ce+1,0,0,Oe-1,ue,Le+1),ce+=Oe,Le+=Oe,++Se);for(var Pe=1<<Xe.b,Ze=Pe-1,Ke=Me(Oe,Xe.b),dt=Xe.K,Xe=Xe.w+(Se>>Xe.b)*Ke;Se<le;){var Bt=dt,Ut=Xe,Ft=1;for(_l(me,ce,ue,Le-Oe,1,ue,Le);Ft<Oe;){var Tt=(Ft&~Ze)+Pe;Tt>Oe&&(Tt=Oe),(0,yi[Bt[Ut++]>>8&15])(me,ce+ +Ft,ue,Le+Ft-Oe,Tt-Ft,ue,Le+Ft),Ft=Tt}ce+=Oe,Le+=Oe,++Se&Ze||(Xe+=Ke)}pe!=H.nc&&r(M,O-Te,M,O+(pe-oe-1)*Te,Te);break;case 1:for(Te=me,le=ce,Oe=(me=H.Ea)-(Le=me&~(ue=(ce=1<<H.b)-1)),Se=Me(me,H.b),Pe=H.K,H=H.w+(oe>>H.b)*Se;oe<pe;){for(Ze=Pe,Ke=H,dt=new ze,Xe=le+Le,Bt=le+me;le<Xe;)De(Ze[Ke++],dt),fs(dt,Te,le,ce,M,O),le+=ce,O+=ce;le<Bt&&(De(Ze[Ke++],dt),fs(dt,Te,le,Oe,M,O),le+=Oe,O+=Oe),++oe&ue||(H+=Se)}break;case 3:if(me==M&&ce==O&&0<H.b){for(le=M,me=Te=O+(pe-oe)*Te-(Le=(pe-oe)*Me(H.Ea,H.b)),ce=M,ue=O,Se=[],Le=(Oe=Le)-1;0<=Le;--Le)Se[Le]=ce[ue+Le];for(Le=Oe-1;0<=Le;--Le)le[me+Le]=Se[Le];Jr(H,oe,pe,M,Te,M,O)}else Jr(H,oe,pe,me,ce,M,O)}O=N,M=p}M!=p&&r(N,p,O,M,R)}function mn(l,d){var p=l.V,N=l.Ba+l.c*l.C,A=d-l.C;if(t(d<=l.l.o),t(16>=A),0<A){var R=l.l,I=l.Ta,O=l.Ua,M=R.width;if(Vt(l,A,p,N),A=O=[O],t((p=l.C)<(N=d)),t(R.v<R.va),N>R.o&&(N=R.o),p<R.j){var H=R.j-p;p=R.j,A[0]+=H*M}if(p>=N?p=0:(A[0]+=4*R.v,R.ka=p-R.j,R.U=R.va-R.v,R.T=N-p,p=1),p){if(O=O[0],11>(p=l.ca).S){var oe=p.f.RGBA,pe=(N=p.S,A=R.U,R=R.T,H=oe.eb,oe.A),me=R;for(oe=oe.fb+l.Ma*oe.A;0<me--;){var ce=I,Te=O,Se=A,le=H,ue=oe;switch(N){case gc:jr(ce,Te,Se,le,ue);break;case yc:pr(ce,Te,Se,le,ue);break;case th:pr(ce,Te,Se,le,ue),Zr(le,ue,0,Se,1,0);break;case P1:Wa(ce,Te,Se,le,ue);break;case vc:Et(ce,Te,Se,le,ue,1);break;case nh:Et(ce,Te,Se,le,ue,1),Zr(le,ue,0,Se,1,0);break;case xc:Et(ce,Te,Se,le,ue,0);break;case bc:Et(ce,Te,Se,le,ue,0),Zr(le,ue,1,Se,1,0);break;case eh:vi(ce,Te,Se,le,ue);break;case rh:vi(ce,Te,Se,le,ue),Yt(le,ue,Se,1,0);break;case T1:Va(ce,Te,Se,le,ue);break;default:t(0)}O+=M,oe+=pe}l.Ma+=R}else alert("todo:EmitRescaledRowsYUVA");t(l.Ma<=p.height)}}l.C=d,t(l.C<=l.i)}function zt(l){var d;if(0<l.ua)return 0;for(d=0;d<l.Wb;++d){var p=l.Ya[d].G,N=l.Ya[d].H;if(0<p[1][N[1]+0].g||0<p[2][N[2]+0].g||0<p[3][N[3]+0].g)return 0}return 1}function yt(l,d,p,N,A,R){if(l.Z!=0){var I=l.qd,O=l.rd;for(t(Ni[l.Z]!=null);d<p;++d)Ni[l.Z](I,O,N,A,N,A,R),I=N,O=A,A+=R;l.qd=I,l.rd=O}}function wt(l,d){var p=l.l.ma,N=p.Z==0||p.Z==1?l.l.j:l.C;if(N=l.C<N?N:l.C,t(d<=l.l.o),d>N){var A=l.l.width,R=p.ca,I=p.tb+A*N,O=l.V,M=l.Ba+l.c*N,H=l.gc;t(l.ab==1),t(H[0].hc==3),dc(H[0],N,d,O,M,R,I),yt(p,N,d,R,I,A)}l.C=l.Ma=d}function gn(l,d,p,N,A,R,I){var O=l.$/N,M=l.$%N,H=l.m,oe=l.s,pe=p+l.$,me=pe;A=p+N*A;var ce=p+N*R,Te=280+oe.ua,Se=l.Pb?O:16777216,le=0<oe.ua?oe.Wa:null,ue=oe.wc,Le=pe<ce?It(oe,M,O):null;t(l.C<R),t(ce<=A);var Oe=!1;e:for(;;){for(;Oe||pe<ce;){var Pe=0;if(O>=Se){var Ze=pe-p;t((Se=l).Pb),Se.wd=Se.m,Se.xd=Ze,0<Se.s.ua&&we(Se.s.Wa,Se.s.vb),Se=O+zv}if(M&ue||(Le=It(oe,M,O)),t(Le!=null),Le.Qb&&(d[pe]=Le.qb,Oe=!0),!Oe)if(ae(H),Le.jc){Pe=H,Ze=d;var Ke=pe,dt=Le.pd[$(Pe)&Wn-1];t(Le.jc),256>dt.g?(Y(Pe,Pe.u+dt.g),Ze[Ke]=dt.value,Pe=0):(Y(Pe,Pe.u+dt.g-256),t(256<=dt.value),Pe=dt.value),Pe==0&&(Oe=!0)}else Pe=pt(Le.G[0],Le.H[0],H);if(H.h)break;if(Oe||256>Pe){if(!Oe)if(Le.nd)d[pe]=(Le.qb|Pe<<8)>>>0;else{if(ae(H),Oe=pt(Le.G[1],Le.H[1],H),ae(H),Ze=pt(Le.G[2],Le.H[2],H),Ke=pt(Le.G[3],Le.H[3],H),H.h)break;d[pe]=(Ke<<24|Oe<<16|Pe<<8|Ze)>>>0}if(Oe=!1,++pe,++M>=N&&(M=0,++O,I!=null&&O<=R&&!(O%16)&&I(l,O),le!=null))for(;me<pe;)Pe=d[me++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe}else if(280>Pe){if(Pe=G(Pe-256,H),Ze=pt(Le.G[4],Le.H[4],H),ae(H),Ze=Re(N,Ze=G(Ze,H)),H.h)break;if(pe-p<Ze||A-pe<Pe)break e;for(Ke=0;Ke<Pe;++Ke)d[pe+Ke]=d[pe+Ke-Ze];for(pe+=Pe,M+=Pe;M>=N;)M-=N,++O,I!=null&&O<=R&&!(O%16)&&I(l,O);if(t(pe<=A),M&ue&&(Le=It(oe,M,O)),le!=null)for(;me<pe;)Pe=d[me++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe}else{if(!(Pe<Te))break e;for(Oe=Pe-280,t(le!=null);me<pe;)Pe=d[me++],le.X[(506832829*Pe&4294967295)>>>le.Mb]=Pe;Pe=pe,t(!(Oe>>>(Ze=le).Xa)),d[Pe]=Ze.X[Oe],Oe=!0}Oe||t(H.h==q(H))}if(l.Pb&&H.h&&pe<A)t(l.m.h),l.a=5,l.m=l.wd,l.$=l.xd,0<l.s.ua&&we(l.s.vb,l.s.Wa);else{if(H.h)break e;I!=null&&I(l,O>R?R:O),l.a=0,l.$=pe-p}return 1}return l.a=3,0}function Tn(l){t(l!=null),l.vc=null,l.yc=null,l.Ya=null;var d=l.Wa;d!=null&&(d.X=null),l.vb=null,t(l!=null)}function En(){var l=new Xf;return l==null?null:(l.a=0,l.xb=I1,kt("Predictor","VP8LPredictors"),kt("Predictor","VP8LPredictors_C"),kt("PredictorAdd","VP8LPredictorsAdd"),kt("PredictorAdd","VP8LPredictorsAdd_C"),cc=Ee,fs=Ce,jr=Ae,pr=ot,vi=nt,Va=gt,Wa=At,T.VP8LMapColor32b=ao,T.VP8LMapColor8b=fc,l)}function Mn(l,d,p,N,A){var R=1,I=[l],O=[d],M=N.m,H=N.s,oe=null,pe=0;e:for(;;){if(p)for(;R&&re(M,1);){var me=I,ce=O,Te=N,Se=1,le=Te.m,ue=Te.gc[Te.ab],Le=re(le,2);if(Te.Oc&1<<Le)R=0;else{switch(Te.Oc|=1<<Le,ue.hc=Le,ue.Ea=me[0],ue.nc=ce[0],ue.K=[null],++Te.ab,t(4>=Te.ab),Le){case 0:case 1:ue.b=re(le,3)+2,Se=Mn(Me(ue.Ea,ue.b),Me(ue.nc,ue.b),0,Te,ue.K),ue.K=ue.K[0];break;case 3:var Oe,Pe=re(le,8)+1,Ze=16<Pe?0:4<Pe?1:2<Pe?2:3;if(me[0]=Me(ue.Ea,Ze),ue.b=Ze,Oe=Se=Mn(Pe,1,0,Te,ue.K)){var Ke,dt=Pe,Xe=ue,Bt=1<<(8>>Xe.b),Ut=i(Bt);if(Ut==null)Oe=0;else{var Ft=Xe.K[0],Tt=Xe.w;for(Ut[0]=Xe.K[0][0],Ke=1;Ke<1*dt;++Ke)Ut[Ke]=_e(Ft[Tt+Ke],Ut[Ke-1]);for(;Ke<4*Bt;++Ke)Ut[Ke]=0;Xe.K[0]=null,Xe.K[0]=Ut,Oe=1}}Se=Oe;break;case 2:break;default:t(0)}R=Se}}if(I=I[0],O=O[0],R&&re(M,1)&&!(R=1<=(pe=re(M,4))&&11>=pe)){N.a=3;break e}var Gt;if(Gt=R)t:{var Wt,St,Ln,kr=N,Cn=I,Ar=O,qt=pe,Mr=p,Br=kr.m,zn=kr.s,Gn=[null],gr=1,na=0,Ea=Bv[qt];n:for(;;){if(Mr&&re(Br,1)){var Un=re(Br,3)+2,Ja=Me(Cn,Un),ys=Me(Ar,Un),uo=Ja*ys;if(!Mn(Ja,ys,0,kr,Gn))break n;for(Gn=Gn[0],zn.xc=Un,Wt=0;Wt<uo;++Wt){var Si=Gn[Wt]>>8&65535;Gn[Wt]=Si,Si>=gr&&(gr=Si+1)}}if(Br.h)break n;for(St=0;5>St;++St){var dn=E1[St];!St&&0<qt&&(dn+=1<<qt),na<dn&&(na=dn)}var oh=s(gr*Ea,_),q1=gr,$1=s(q1,F);if($1==null)var jc=null;else t(65536>=q1),jc=$1;var Dl=i(na);if(jc==null||Dl==null||oh==null){kr.a=1;break n}var kc=oh;for(Wt=Ln=0;Wt<gr;++Wt){var pa=jc[Wt],co=pa.G,fo=pa.H,H1=0,Ac=1,V1=0;for(St=0;5>St;++St){dn=E1[St],co[St]=kc,fo[St]=Ln,!St&&0<qt&&(dn+=1<<qt);a:{var Lc,lh=dn,Cc=kr,Fl=Dl,sx=kc,ox=Ln,uh=0,ji=Cc.m,lx=re(ji,1);if(a(Fl,0,0,lh),lx){var ux=re(ji,1)+1,cx=re(ji,1),W1=re(ji,cx==0?1:8);Fl[W1]=1,ux==2&&(Fl[W1=re(ji,8)]=1);var _c=1}else{var G1=i(19),K1=re(ji,4)+4;if(19<K1){Cc.a=3;var Pc=0;break a}for(Lc=0;Lc<K1;++Lc)G1[Fv[Lc]]=re(ji,3);var ch=void 0,Ml=void 0,Y1=Cc,dx=G1,Tc=lh,J1=Fl,dh=0,ki=Y1.m,X1=8,Q1=s(128,_);r:for(;E(Q1,0,7,dx,19);){if(re(ki,1)){var fx=2+2*re(ki,3);if((ch=2+re(ki,fx))>Tc)break r}else ch=Tc;for(Ml=0;Ml<Tc&&ch--;){ae(ki);var Z1=Q1[0+(127&$(ki))];Y(ki,ki.u+Z1.g);var ho=Z1.value;if(16>ho)J1[Ml++]=ho,ho!=0&&(X1=ho);else{var hx=ho==16,e0=ho-16,px=Ov[e0],t0=re(ki,Iv[e0])+px;if(Ml+t0>Tc)break r;for(var mx=hx?X1:0;0<t0--;)J1[Ml++]=mx}}dh=1;break r}dh||(Y1.a=3),_c=dh}(_c=_c&&!ji.h)&&(uh=E(sx,ox,8,Fl,lh)),_c&&uh!=0?Pc=uh:(Cc.a=3,Pc=0)}if(Pc==0)break n;if(Ac&&Dv[St]==1&&(Ac=kc[Ln].g==0),H1+=kc[Ln].g,Ln+=Pc,3>=St){var Bl,fh=Dl[0];for(Bl=1;Bl<dn;++Bl)Dl[Bl]>fh&&(fh=Dl[Bl]);V1+=fh}}if(pa.nd=Ac,pa.Qb=0,Ac&&(pa.qb=(co[3][fo[3]+0].value<<24|co[1][fo[1]+0].value<<16|co[2][fo[2]+0].value)>>>0,H1==0&&256>co[0][fo[0]+0].value&&(pa.Qb=1,pa.qb+=co[0][fo[0]+0].value<<8)),pa.jc=!pa.Qb&&6>V1,pa.jc){var Ec,Xa=pa;for(Ec=0;Ec<Wn;++Ec){var Ai=Ec,Li=Xa.pd[Ai],Rc=Xa.G[0][Xa.H[0]+Ai];256<=Rc.value?(Li.g=Rc.g+256,Li.value=Rc.value):(Li.g=0,Li.value=0,Ai>>=Lt(Rc,8,Li),Ai>>=Lt(Xa.G[1][Xa.H[1]+Ai],16,Li),Ai>>=Lt(Xa.G[2][Xa.H[2]+Ai],0,Li),Lt(Xa.G[3][Xa.H[3]+Ai],24,Li))}}}zn.vc=Gn,zn.Wb=gr,zn.Ya=jc,zn.yc=oh,Gt=1;break t}Gt=0}if(!(R=Gt)){N.a=3;break e}if(0<pe){if(H.ua=1<<pe,!at(H.Wa,pe)){N.a=1,R=0;break e}}else H.ua=0;var hh=N,n0=I,gx=O,ph=hh.s,mh=ph.xc;if(hh.c=n0,hh.i=gx,ph.md=Me(n0,mh),ph.wc=mh==0?-1:(1<<mh)-1,p){N.xb=Gv;break e}if((oe=i(I*O))==null){N.a=1,R=0;break e}R=(R=gn(N,oe,0,I,O,O,null))&&!M.h;break e}return R?(A!=null?A[0]=oe:(t(oe==null),t(p)),N.$=0,p||Tn(H)):Tn(H),R}function k(l,d){var p=l.c*l.i,N=p+d+16*d;return t(l.c<=d),l.V=i(N),l.V==null?(l.Ta=null,l.Ua=0,l.a=1,0):(l.Ta=l.V,l.Ua=l.Ba+p+d,1)}function xe(l,d){var p=l.C,N=d-p,A=l.V,R=l.Ba+l.c*p;for(t(d<=l.l.o);0<N;){var I=16<N?16:N,O=l.l.ma,M=l.l.width,H=M*I,oe=O.ca,pe=O.tb+M*p,me=l.Ta,ce=l.Ua;Vt(l,I,A,R),xn(me,ce,oe,pe,H),yt(O,p,p+I,oe,pe,M),N-=I,A+=I*l.c,p+=I}t(p==d),l.C=l.Ma=d}function be(){this.ub=this.yd=this.td=this.Rb=0}function He(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ye(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function Pt(){this.Yb=function(){var l=[];return function d(p,N,A){for(var R=A[N],I=0;I<R&&(p.push(A.length>N+1?[]:0),!(A.length<N+1));I++)d(p[I],N+1,A)}(l,0,[3,11]),l}()}function Rn(){this.jb=i(3),this.Wc=u([4,8],Pt),this.Xc=u([4,17],Pt)}function In(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function Vn(){this.ld=this.La=this.dd=this.tc=0}function hr(){this.Na=this.la=0}function Or(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ca(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function cl(){this.uc=this.M=this.Nb=0,this.wa=Array(new Vn),this.Y=0,this.ya=Array(new Ca),this.aa=0,this.l=new Hs}function Wu(){this.y=i(16),this.f=i(8),this.ea=i(8)}function Ef(){this.cb=this.a=0,this.sc="",this.m=new ke,this.Od=new be,this.Kc=new He,this.ed=new In,this.Qa=new Ye,this.Ic=this.$c=this.Aa=0,this.D=new cl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=s(8,ke),this.ia=0,this.pb=s(4,Or),this.Pa=new Rn,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Wu),this.Hd=0,this.rb=Array(new hr),this.sb=0,this.wa=Array(new Vn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ca),this.L=this.aa=0,this.gd=u([4,2],Vn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Hs(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Rf(){var l=new Ef;return l!=null&&(l.a=0,l.sc="OK",l.cb=0,l.Xb=0,Il||(Il=Yu)),l}function yn(l,d,p){return l.a==0&&(l.a=d,l.sc=p,l.cb=0),0}function Gu(l,d,p){return 3<=p&&l[d+0]==157&&l[d+1]==1&&l[d+2]==42}function Ku(l,d){if(l==null)return 0;if(l.a=0,l.sc="OK",d==null)return yn(l,2,"null VP8Io passed to VP8GetHeaders()");var p=d.data,N=d.w,A=d.ha;if(4>A)return yn(l,7,"Truncated header.");var R=p[N+0]|p[N+1]<<8|p[N+2]<<16,I=l.Od;if(I.Rb=!(1&R),I.td=R>>1&7,I.yd=R>>4&1,I.ub=R>>5,3<I.td)return yn(l,3,"Incorrect keyframe parameters.");if(!I.yd)return yn(l,4,"Frame not displayable.");N+=3,A-=3;var O=l.Kc;if(I.Rb){if(7>A)return yn(l,7,"cannot parse picture header");if(!Gu(p,N,A))return yn(l,3,"Bad code word");O.c=16383&(p[N+4]<<8|p[N+3]),O.Td=p[N+4]>>6,O.i=16383&(p[N+6]<<8|p[N+5]),O.Ud=p[N+6]>>6,N+=7,A-=7,l.za=O.c+15>>4,l.Ub=O.i+15>>4,d.width=O.c,d.height=O.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,a((R=l.Pa).jb,0,255,R.jb.length),t((R=l.Qa)!=null),R.Cb=0,R.Bb=0,R.Fb=1,a(R.Zb,0,0,R.Zb.length),a(R.Lb,0,0,R.Lb)}if(I.ub>A)return yn(l,7,"bad partition length");te(R=l.m,p,N,I.ub),N+=I.ub,A-=I.ub,I.Rb&&(O.Ld=ye(R),O.Kd=ye(R)),O=l.Qa;var M,H=l.Pa;if(t(R!=null),t(O!=null),O.Cb=ye(R),O.Cb){if(O.Bb=ye(R),ye(R)){for(O.Fb=ye(R),M=0;4>M;++M)O.Zb[M]=ye(R)?de(R,7):0;for(M=0;4>M;++M)O.Lb[M]=ye(R)?de(R,6):0}if(O.Bb)for(M=0;3>M;++M)H.jb[M]=ye(R)?Z(R,8):255}else O.Bb=0;if(R.Ka)return yn(l,3,"cannot parse segment header");if((O=l.ed).zd=ye(R),O.Tb=Z(R,6),O.wb=Z(R,3),O.Pc=ye(R),O.Pc&&ye(R)){for(H=0;4>H;++H)ye(R)&&(O.vd[H]=de(R,6));for(H=0;4>H;++H)ye(R)&&(O.od[H]=de(R,6))}if(l.L=O.Tb==0?0:O.zd?1:2,R.Ka)return yn(l,3,"cannot parse filter header");var oe=A;if(A=M=N,N=M+oe,O=oe,l.Xb=(1<<Z(l.m,2))-1,oe<3*(H=l.Xb))p=7;else{for(M+=3*H,O-=3*H,oe=0;oe<H;++oe){var pe=p[A+0]|p[A+1]<<8|p[A+2]<<16;pe>O&&(pe=O),te(l.Jc[+oe],p,M,pe),M+=pe,O-=pe,A+=3}te(l.Jc[+H],p,M,O),p=M<N?0:5}if(p!=0)return yn(l,p,"cannot parse partitions");for(p=Z(M=l.m,7),A=ye(M)?de(M,4):0,N=ye(M)?de(M,4):0,O=ye(M)?de(M,4):0,H=ye(M)?de(M,4):0,M=ye(M)?de(M,4):0,oe=l.Qa,pe=0;4>pe;++pe){if(oe.Cb){var me=oe.Zb[pe];oe.Fb||(me+=p)}else{if(0<pe){l.pb[pe]=l.pb[0];continue}me=p}var ce=l.pb[pe];ce.Sc[0]=ah[Dr(me+A,127)],ce.Sc[1]=ih[Dr(me+0,127)],ce.Eb[0]=2*ah[Dr(me+N,127)],ce.Eb[1]=101581*ih[Dr(me+O,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=ah[Dr(me+H,117)],ce.Qc[1]=ih[Dr(me+M,127)],ce.lc=me+M}if(!I.Rb)return yn(l,4,"Not a key frame.");for(ye(R),I=l.Pa,p=0;4>p;++p){for(A=0;8>A;++A)for(N=0;3>N;++N)for(O=0;11>O;++O)H=ve(R,Vv[p][A][N][O])?Z(R,8):$v[p][A][N][O],I.Wc[p][A].Yb[N][O]=H;for(A=0;17>A;++A)I.Xc[p][A]=I.Wc[p][Wv[A]]}return l.kc=ye(R),l.kc&&(l.Bd=Z(R,8)),l.cb=1}function Yu(l,d,p,N,A,R,I){var O=d[A].Yb[p];for(p=0;16>A;++A){if(!ve(l,O[p+0]))return A;for(;!ve(l,O[p+1]);)if(O=d[++A].Yb[0],p=0,A==16)return 16;var M=d[A+1].Yb;if(ve(l,O[p+2])){var H=l,oe=0;if(ve(H,(me=O)[(pe=p)+3]))if(ve(H,me[pe+6])){for(O=0,pe=2*(oe=ve(H,me[pe+8]))+(me=ve(H,me[pe+9+oe])),oe=0,me=Uv[pe];me[O];++O)oe+=oe+ve(H,me[O]);oe+=3+(8<<pe)}else ve(H,me[pe+7])?(oe=7+2*ve(H,165),oe+=ve(H,145)):oe=5+ve(H,159);else oe=ve(H,me[pe+4])?3+ve(H,me[pe+5]):2;O=M[2]}else oe=1,O=M[1];M=I+qv[A],0>(H=l).b&&fe(H);var pe,me=H.b,ce=(pe=H.Ca>>1)-(H.I>>me)>>31;--H.b,H.Ca+=ce,H.Ca|=1,H.I-=(pe+1&ce)<<me,R[M]=((oe^ce)-ce)*N[(0<A)+0]}return 16}function dl(l){var d=l.rb[l.sb-1];d.la=0,d.Na=0,a(l.zc,0,0,l.zc.length),l.ja=0}function If(l,d){if(l==null)return 0;if(d==null)return yn(l,2,"NULL VP8Io parameter in VP8Decode().");if(!l.cb&&!Ku(l,d))return 0;if(t(l.cb),d.ac==null||d.ac(d)){d.ob&&(l.L=0);var p=Sc[l.L];if(l.L==2?(l.yb=0,l.zb=0):(l.yb=d.v-p>>4,l.zb=d.j-p>>4,0>l.yb&&(l.yb=0),0>l.zb&&(l.zb=0)),l.Va=d.o+15+p>>4,l.Hb=d.va+15+p>>4,l.Hb>l.za&&(l.Hb=l.za),l.Va>l.Ub&&(l.Va=l.Ub),0<l.L){var N=l.ed;for(p=0;4>p;++p){var A;if(l.Qa.Cb){var R=l.Qa.Lb[p];l.Qa.Fb||(R+=N.Tb)}else R=N.Tb;for(A=0;1>=A;++A){var I=l.gd[p][A],O=R;if(N.Pc&&(O+=N.vd[0],A&&(O+=N.od[0])),0<(O=0>O?0:63<O?63:O)){var M=O;0<N.wb&&(M=4<N.wb?M>>2:M>>1)>9-N.wb&&(M=9-N.wb),1>M&&(M=1),I.dd=M,I.tc=2*O+M,I.ld=40<=O?2:15<=O?1:0}else I.tc=0;I.La=A}}}p=0}else yn(l,6,"Frame setup failed"),p=l.a;if(p=p==0){if(p){l.$c=0,0<l.Aa||(l.Ic=ix);e:{p=l.Ic,N=4*(M=l.za);var H=32*M,oe=M+1,pe=0<l.L?M*(0<l.Aa?2:1):0,me=(l.Aa==2?2:1)*M;if((I=N+832+(A=3*(16*p+Sc[l.L])/2*H)+(R=l.Fa!=null&&0<l.Fa.length?l.Kc.c*l.Kc.i:0))!=I)p=0;else{if(I>l.Vb){if(l.Vb=0,l.Ec=i(I),l.Fc=0,l.Ec==null){p=yn(l,1,"no memory during frame initialization.");break e}l.Vb=I}I=l.Ec,O=l.Fc,l.Ac=I,l.Bc=O,O+=N,l.Gd=s(H,Wu),l.Hd=0,l.rb=s(oe+1,hr),l.sb=1,l.wa=pe?s(pe,Vn):null,l.Y=0,l.D.Nb=0,l.D.wa=l.wa,l.D.Y=l.Y,0<l.Aa&&(l.D.Y+=M),t(!0),l.oc=I,l.pc=O,O+=832,l.ya=s(me,Ca),l.aa=0,l.D.ya=l.ya,l.D.aa=l.aa,l.Aa==2&&(l.D.aa+=M),l.R=16*M,l.B=8*M,M=(H=Sc[l.L])*l.R,H=H/2*l.B,l.sa=I,l.ta=O+M,l.qa=l.sa,l.ra=l.ta+16*p*l.R+H,l.Ha=l.qa,l.Ia=l.ra+8*p*l.B+H,l.$c=0,O+=A,l.mb=R?I:null,l.nb=R?O:null,t(O+R<=l.Fc+l.Vb),dl(l),a(l.Ac,l.Bc,0,N),p=1}}if(p){if(d.ka=0,d.y=l.sa,d.O=l.ta,d.f=l.qa,d.N=l.ra,d.ea=l.Ha,d.Vd=l.Ia,d.fa=l.R,d.Rc=l.B,d.F=null,d.J=0,!pc){for(p=-255;255>=p;++p)On[255+p]=0>p?-p:p;for(p=-1020;1020>=p;++p)Ka[1020+p]=-128>p?-128:127<p?127:p;for(p=-112;112>=p;++p)Rl[112+p]=-16>p?-16:15<p?15:p;for(p=-255;510>=p;++p)lo[255+p]=0>p?0:255<p?255:p;pc=1}io=Ff,Ga=Of,Pl=Xu,mr=Df,Xr=Qu,vn=Ju,so=yl,hc=cs,Tl=Jf,hs=vl,ps=Yf,xi=Js,ms=xl,oo=oc,gs=sc,bi=Pa,El=Ha,Qr=Kf,ha[0]=_a,ha[1]=Mf,ha[2]=qf,ha[3]=$f,ha[4]=tc,ha[5]=Ks,ha[6]=nc,ha[7]=pl,ha[8]=Vf,ha[9]=Hf,wi[0]=Zu,wi[1]=zf,wi[2]=$a,wi[3]=Ws,wi[4]=Xn,wi[5]=Uf,wi[6]=ec,Ya[0]=pi,Ya[1]=Bf,Ya[2]=Wf,Ya[3]=ml,Ya[4]=us,Ya[5]=Gf,Ya[6]=gl,p=1}else p=0}p&&(p=function(ce,Te){for(ce.M=0;ce.M<ce.Va;++ce.M){var Se,le=ce.Jc[ce.M&ce.Xb],ue=ce.m,Le=ce;for(Se=0;Se<Le.za;++Se){var Oe=ue,Pe=Le,Ze=Pe.Ac,Ke=Pe.Bc+4*Se,dt=Pe.zc,Xe=Pe.ya[Pe.aa+Se];if(Pe.Qa.Bb?Xe.$b=ve(Oe,Pe.Pa.jb[0])?2+ve(Oe,Pe.Pa.jb[2]):ve(Oe,Pe.Pa.jb[1]):Xe.$b=0,Pe.kc&&(Xe.Ad=ve(Oe,Pe.Bd)),Xe.Za=!ve(Oe,145)+0,Xe.Za){var Bt=Xe.Ob,Ut=0;for(Pe=0;4>Pe;++Pe){var Ft,Tt=dt[0+Pe];for(Ft=0;4>Ft;++Ft){Tt=Hv[Ze[Ke+Ft]][Tt];for(var Gt=R1[ve(Oe,Tt[0])];0<Gt;)Gt=R1[2*Gt+ve(Oe,Tt[Gt])];Tt=-Gt,Ze[Ke+Ft]=Tt}r(Bt,Ut,Ze,Ke,4),Ut+=4,dt[0+Pe]=Tt}}else Tt=ve(Oe,156)?ve(Oe,128)?1:3:ve(Oe,163)?2:0,Xe.Ob[0]=Tt,a(Ze,Ke,Tt,4),a(dt,0,Tt,4);Xe.Dd=ve(Oe,142)?ve(Oe,114)?ve(Oe,183)?1:3:2:0}if(Le.m.Ka)return yn(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if(Le=le,Oe=(ue=ce).rb[ue.sb-1],Ze=ue.rb[ue.sb+ue.ja],Se=ue.ya[ue.aa+ue.ja],Ke=ue.kc?Se.Ad:0)Oe.la=Ze.la=0,Se.Za||(Oe.Na=Ze.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var Wt,St;if(Oe=Ze,Ze=Le,Ke=ue.Pa.Xc,dt=ue.ya[ue.aa+ue.ja],Xe=ue.pb[dt.$b],Pe=dt.ad,Bt=0,Ut=ue.rb[ue.sb-1],Tt=Ft=0,a(Pe,Bt,0,384),dt.Za)var Ln=0,kr=Ke[3];else{Gt=i(16);var Cn=Oe.Na+Ut.Na;if(Cn=Il(Ze,Ke[1],Cn,Xe.Eb,0,Gt,0),Oe.Na=Ut.Na=(0<Cn)+0,1<Cn)io(Gt,0,Pe,Bt);else{var Ar=Gt[0]+3>>3;for(Gt=0;256>Gt;Gt+=16)Pe[Bt+Gt]=Ar}Ln=1,kr=Ke[0]}var qt=15&Oe.la,Mr=15&Ut.la;for(Gt=0;4>Gt;++Gt){var Br=1&Mr;for(Ar=St=0;4>Ar;++Ar)qt=qt>>1|(Br=(Cn=Il(Ze,kr,Cn=Br+(1&qt),Xe.Sc,Ln,Pe,Bt))>Ln)<<7,St=St<<2|(3<Cn?3:1<Cn?2:Pe[Bt+0]!=0),Bt+=16;qt>>=4,Mr=Mr>>1|Br<<7,Ft=(Ft<<8|St)>>>0}for(kr=qt,Ln=Mr>>4,Wt=0;4>Wt;Wt+=2){for(St=0,qt=Oe.la>>4+Wt,Mr=Ut.la>>4+Wt,Gt=0;2>Gt;++Gt){for(Br=1&Mr,Ar=0;2>Ar;++Ar)Cn=Br+(1&qt),qt=qt>>1|(Br=0<(Cn=Il(Ze,Ke[2],Cn,Xe.Qc,0,Pe,Bt)))<<3,St=St<<2|(3<Cn?3:1<Cn?2:Pe[Bt+0]!=0),Bt+=16;qt>>=2,Mr=Mr>>1|Br<<5}Tt|=St<<4*Wt,kr|=qt<<4<<Wt,Ln|=(240&Mr)<<Wt}Oe.la=kr,Ut.la=Ln,dt.Hc=Ft,dt.Gc=Tt,dt.ia=43690&Tt?0:Xe.ia,Ke=!(Ft|Tt)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[Se.$b][Se.Za],ue.wa[ue.Y+ue.ja].La|=!Ke),Le.Ka)return yn(ce,7,"Premature end-of-file encountered.")}if(dl(ce),ue=Te,Le=1,Se=(le=ce).D,Oe=0<le.L&&le.M>=le.zb&&le.M<=le.Va,le.Aa==0)e:{if(Se.M=le.M,Se.uc=Oe,kl(le,Se),Le=1,Se=(St=le.D).Nb,Oe=(Tt=Sc[le.L])*le.R,Ze=Tt/2*le.B,Gt=16*Se*le.R,Ar=8*Se*le.B,Ke=le.sa,dt=le.ta-Oe+Gt,Xe=le.qa,Pe=le.ra-Ze+Ar,Bt=le.Ha,Ut=le.Ia-Ze+Ar,Mr=(qt=St.M)==0,Ft=qt>=le.Va-1,le.Aa==2&&kl(le,St),St.uc)for(Br=(Cn=le).D.M,t(Cn.D.uc),St=Cn.yb;St<Cn.Hb;++St){Ln=St,kr=Br;var zn=(Gn=(dn=Cn).D).Nb;Wt=dn.R;var Gn=Gn.wa[Gn.Y+Ln],gr=dn.sa,na=dn.ta+16*zn*Wt+16*Ln,Ea=Gn.dd,Un=Gn.tc;if(Un!=0)if(t(3<=Un),dn.L==1)0<Ln&&bi(gr,na,Wt,Un+4),Gn.La&&Qr(gr,na,Wt,Un),0<kr&&gs(gr,na,Wt,Un+4),Gn.La&&El(gr,na,Wt,Un);else{var Ja=dn.B,ys=dn.qa,uo=dn.ra+8*zn*Ja+8*Ln,Si=dn.Ha,dn=dn.Ia+8*zn*Ja+8*Ln;zn=Gn.ld,0<Ln&&(hc(gr,na,Wt,Un+4,Ea,zn),hs(ys,uo,Si,dn,Ja,Un+4,Ea,zn)),Gn.La&&(xi(gr,na,Wt,Un,Ea,zn),oo(ys,uo,Si,dn,Ja,Un,Ea,zn)),0<kr&&(so(gr,na,Wt,Un+4,Ea,zn),Tl(ys,uo,Si,dn,Ja,Un+4,Ea,zn)),Gn.La&&(ps(gr,na,Wt,Un,Ea,zn),ms(ys,uo,Si,dn,Ja,Un,Ea,zn))}}if(le.ia&&alert("todo:DitherRow"),ue.put!=null){if(St=16*qt,qt=16*(qt+1),Mr?(ue.y=le.sa,ue.O=le.ta+Gt,ue.f=le.qa,ue.N=le.ra+Ar,ue.ea=le.Ha,ue.W=le.Ia+Ar):(St-=Tt,ue.y=Ke,ue.O=dt,ue.f=Xe,ue.N=Pe,ue.ea=Bt,ue.W=Ut),Ft||(qt-=Tt),qt>ue.o&&(qt=ue.o),ue.F=null,ue.J=null,le.Fa!=null&&0<le.Fa.length&&St<qt&&(ue.J=Sl(le,ue,St,qt-St),ue.F=le.mb,ue.F==null&&ue.F.length==0)){Le=yn(le,3,"Could not decode alpha data.");break e}St<ue.j&&(Tt=ue.j-St,St=ue.j,t(!(1&Tt)),ue.O+=le.R*Tt,ue.N+=le.B*(Tt>>1),ue.W+=le.B*(Tt>>1),ue.F!=null&&(ue.J+=ue.width*Tt)),St<qt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=St-ue.j,ue.U=ue.va-ue.v,ue.T=qt-St,Le=ue.put(ue))}Se+1!=le.Ic||Ft||(r(le.sa,le.ta-Oe,Ke,dt+16*le.R,Oe),r(le.qa,le.ra-Ze,Xe,Pe+8*le.B,Ze),r(le.Ha,le.Ia-Ze,Bt,Ut+8*le.B,Ze))}if(!Le)return yn(ce,6,"Output aborted.")}return 1}(l,d)),d.bc!=null&&d.bc(d),p&=1}return p?(l.cb=0,p):0}function ca(l,d,p,N,A){A=l[d+p+32*N]+(A>>3),l[d+p+32*N]=-256&A?0>A?0:255:A}function Vs(l,d,p,N,A,R){ca(l,d,0,p,N+A),ca(l,d,1,p,N+R),ca(l,d,2,p,N-R),ca(l,d,3,p,N-A)}function Nr(l){return(20091*l>>16)+l}function fl(l,d,p,N){var A,R=0,I=i(16);for(A=0;4>A;++A){var O=l[d+0]+l[d+8],M=l[d+0]-l[d+8],H=(35468*l[d+4]>>16)-Nr(l[d+12]),oe=Nr(l[d+4])+(35468*l[d+12]>>16);I[R+0]=O+oe,I[R+1]=M+H,I[R+2]=M-H,I[R+3]=O-oe,R+=4,d++}for(A=R=0;4>A;++A)O=(l=I[R+0]+4)+I[R+8],M=l-I[R+8],H=(35468*I[R+4]>>16)-Nr(I[R+12]),ca(p,N,0,0,O+(oe=Nr(I[R+4])+(35468*I[R+12]>>16))),ca(p,N,1,0,M+H),ca(p,N,2,0,M-H),ca(p,N,3,0,O-oe),R++,N+=32}function Ju(l,d,p,N){var A=l[d+0]+4,R=35468*l[d+4]>>16,I=Nr(l[d+4]),O=35468*l[d+1]>>16;Vs(p,N,0,A+I,l=Nr(l[d+1]),O),Vs(p,N,1,A+R,l,O),Vs(p,N,2,A-R,l,O),Vs(p,N,3,A-I,l,O)}function Of(l,d,p,N,A){fl(l,d,p,N),A&&fl(l,d+16,p,N+4)}function Xu(l,d,p,N){Ga(l,d+0,p,N,1),Ga(l,d+32,p,N+128,1)}function Df(l,d,p,N){var A;for(l=l[d+0]+4,A=0;4>A;++A)for(d=0;4>d;++d)ca(p,N,d,A,l)}function Qu(l,d,p,N){l[d+0]&&mr(l,d+0,p,N),l[d+16]&&mr(l,d+16,p,N+4),l[d+32]&&mr(l,d+32,p,N+128),l[d+48]&&mr(l,d+48,p,N+128+4)}function Ff(l,d,p,N){var A,R=i(16);for(A=0;4>A;++A){var I=l[d+0+A]+l[d+12+A],O=l[d+4+A]+l[d+8+A],M=l[d+4+A]-l[d+8+A],H=l[d+0+A]-l[d+12+A];R[0+A]=I+O,R[8+A]=I-O,R[4+A]=H+M,R[12+A]=H-M}for(A=0;4>A;++A)I=(l=R[0+4*A]+3)+R[3+4*A],O=R[1+4*A]+R[2+4*A],M=R[1+4*A]-R[2+4*A],H=l-R[3+4*A],p[N+0]=I+O>>3,p[N+16]=H+M>>3,p[N+32]=I-O>>3,p[N+48]=H-M>>3,N+=64}function hl(l,d,p){var N,A=d-32,R=Fr,I=255-l[A-1];for(N=0;N<p;++N){var O,M=R,H=I+l[d-1];for(O=0;O<p;++O)l[d+O]=M[H+l[A+O]];d+=32}}function Mf(l,d){hl(l,d,4)}function Bf(l,d){hl(l,d,8)}function zf(l,d){hl(l,d,16)}function $a(l,d){var p;for(p=0;16>p;++p)r(l,d+32*p,l,d-32,16)}function Ws(l,d){var p;for(p=16;0<p;--p)a(l,d,l[d-1],16),d+=32}function Gs(l,d,p){var N;for(N=0;16>N;++N)a(d,p+32*N,l,16)}function Zu(l,d){var p,N=16;for(p=0;16>p;++p)N+=l[d-1+32*p]+l[d+p-32];Gs(N>>5,l,d)}function Xn(l,d){var p,N=8;for(p=0;16>p;++p)N+=l[d-1+32*p];Gs(N>>4,l,d)}function Uf(l,d){var p,N=8;for(p=0;16>p;++p)N+=l[d+p-32];Gs(N>>4,l,d)}function ec(l,d){Gs(128,l,d)}function vt(l,d,p){return l+2*d+p+2>>2}function qf(l,d){var p,N=d-32;for(N=new Uint8Array([vt(l[N-1],l[N+0],l[N+1]),vt(l[N+0],l[N+1],l[N+2]),vt(l[N+1],l[N+2],l[N+3]),vt(l[N+2],l[N+3],l[N+4])]),p=0;4>p;++p)r(l,d+32*p,N,0,N.length)}function $f(l,d){var p=l[d-1],N=l[d-1+32],A=l[d-1+64],R=l[d-1+96];Be(l,d+0,16843009*vt(l[d-1-32],p,N)),Be(l,d+32,16843009*vt(p,N,A)),Be(l,d+64,16843009*vt(N,A,R)),Be(l,d+96,16843009*vt(A,R,R))}function _a(l,d){var p,N=4;for(p=0;4>p;++p)N+=l[d+p-32]+l[d-1+32*p];for(N>>=3,p=0;4>p;++p)a(l,d+32*p,N,4)}function tc(l,d){var p=l[d-1+0],N=l[d-1+32],A=l[d-1+64],R=l[d-1-32],I=l[d+0-32],O=l[d+1-32],M=l[d+2-32],H=l[d+3-32];l[d+0+96]=vt(N,A,l[d-1+96]),l[d+1+96]=l[d+0+64]=vt(p,N,A),l[d+2+96]=l[d+1+64]=l[d+0+32]=vt(R,p,N),l[d+3+96]=l[d+2+64]=l[d+1+32]=l[d+0+0]=vt(I,R,p),l[d+3+64]=l[d+2+32]=l[d+1+0]=vt(O,I,R),l[d+3+32]=l[d+2+0]=vt(M,O,I),l[d+3+0]=vt(H,M,O)}function nc(l,d){var p=l[d+1-32],N=l[d+2-32],A=l[d+3-32],R=l[d+4-32],I=l[d+5-32],O=l[d+6-32],M=l[d+7-32];l[d+0+0]=vt(l[d+0-32],p,N),l[d+1+0]=l[d+0+32]=vt(p,N,A),l[d+2+0]=l[d+1+32]=l[d+0+64]=vt(N,A,R),l[d+3+0]=l[d+2+32]=l[d+1+64]=l[d+0+96]=vt(A,R,I),l[d+3+32]=l[d+2+64]=l[d+1+96]=vt(R,I,O),l[d+3+64]=l[d+2+96]=vt(I,O,M),l[d+3+96]=vt(O,M,M)}function Ks(l,d){var p=l[d-1+0],N=l[d-1+32],A=l[d-1+64],R=l[d-1-32],I=l[d+0-32],O=l[d+1-32],M=l[d+2-32],H=l[d+3-32];l[d+0+0]=l[d+1+64]=R+I+1>>1,l[d+1+0]=l[d+2+64]=I+O+1>>1,l[d+2+0]=l[d+3+64]=O+M+1>>1,l[d+3+0]=M+H+1>>1,l[d+0+96]=vt(A,N,p),l[d+0+64]=vt(N,p,R),l[d+0+32]=l[d+1+96]=vt(p,R,I),l[d+1+32]=l[d+2+96]=vt(R,I,O),l[d+2+32]=l[d+3+96]=vt(I,O,M),l[d+3+32]=vt(O,M,H)}function pl(l,d){var p=l[d+0-32],N=l[d+1-32],A=l[d+2-32],R=l[d+3-32],I=l[d+4-32],O=l[d+5-32],M=l[d+6-32],H=l[d+7-32];l[d+0+0]=p+N+1>>1,l[d+1+0]=l[d+0+64]=N+A+1>>1,l[d+2+0]=l[d+1+64]=A+R+1>>1,l[d+3+0]=l[d+2+64]=R+I+1>>1,l[d+0+32]=vt(p,N,A),l[d+1+32]=l[d+0+96]=vt(N,A,R),l[d+2+32]=l[d+1+96]=vt(A,R,I),l[d+3+32]=l[d+2+96]=vt(R,I,O),l[d+3+64]=vt(I,O,M),l[d+3+96]=vt(O,M,H)}function Hf(l,d){var p=l[d-1+0],N=l[d-1+32],A=l[d-1+64],R=l[d-1+96];l[d+0+0]=p+N+1>>1,l[d+2+0]=l[d+0+32]=N+A+1>>1,l[d+2+32]=l[d+0+64]=A+R+1>>1,l[d+1+0]=vt(p,N,A),l[d+3+0]=l[d+1+32]=vt(N,A,R),l[d+3+32]=l[d+1+64]=vt(A,R,R),l[d+3+64]=l[d+2+64]=l[d+0+96]=l[d+1+96]=l[d+2+96]=l[d+3+96]=R}function Vf(l,d){var p=l[d-1+0],N=l[d-1+32],A=l[d-1+64],R=l[d-1+96],I=l[d-1-32],O=l[d+0-32],M=l[d+1-32],H=l[d+2-32];l[d+0+0]=l[d+2+32]=p+I+1>>1,l[d+0+32]=l[d+2+64]=N+p+1>>1,l[d+0+64]=l[d+2+96]=A+N+1>>1,l[d+0+96]=R+A+1>>1,l[d+3+0]=vt(O,M,H),l[d+2+0]=vt(I,O,M),l[d+1+0]=l[d+3+32]=vt(p,I,O),l[d+1+32]=l[d+3+64]=vt(N,p,I),l[d+1+64]=l[d+3+96]=vt(A,N,p),l[d+1+96]=vt(R,A,N)}function Wf(l,d){var p;for(p=0;8>p;++p)r(l,d+32*p,l,d-32,8)}function ml(l,d){var p;for(p=0;8>p;++p)a(l,d,l[d-1],8),d+=32}function ls(l,d,p){var N;for(N=0;8>N;++N)a(d,p+32*N,l,8)}function pi(l,d){var p,N=8;for(p=0;8>p;++p)N+=l[d+p-32]+l[d-1+32*p];ls(N>>4,l,d)}function Gf(l,d){var p,N=4;for(p=0;8>p;++p)N+=l[d+p-32];ls(N>>3,l,d)}function us(l,d){var p,N=4;for(p=0;8>p;++p)N+=l[d-1+32*p];ls(N>>3,l,d)}function gl(l,d){ls(128,l,d)}function Ys(l,d,p){var N=l[d-p],A=l[d+0],R=3*(A-N)+Zf[1020+l[d-2*p]-l[d+p]],I=mc[112+(R+4>>3)];l[d-p]=Fr[255+N+mc[112+(R+3>>3)]],l[d+0]=Fr[255+A-I]}function rc(l,d,p,N){var A=l[d+0],R=l[d+p];return ea[255+l[d-2*p]-l[d-p]]>N||ea[255+R-A]>N}function ac(l,d,p,N){return 4*ea[255+l[d-p]-l[d+0]]+ea[255+l[d-2*p]-l[d+p]]<=N}function ic(l,d,p,N,A){var R=l[d-3*p],I=l[d-2*p],O=l[d-p],M=l[d+0],H=l[d+p],oe=l[d+2*p],pe=l[d+3*p];return 4*ea[255+O-M]+ea[255+I-H]>N?0:ea[255+l[d-4*p]-R]<=A&&ea[255+R-I]<=A&&ea[255+I-O]<=A&&ea[255+pe-oe]<=A&&ea[255+oe-H]<=A&&ea[255+H-M]<=A}function sc(l,d,p,N){var A=2*N+1;for(N=0;16>N;++N)ac(l,d+N,p,A)&&Ys(l,d+N,p)}function Pa(l,d,p,N){var A=2*N+1;for(N=0;16>N;++N)ac(l,d+N*p,1,A)&&Ys(l,d+N*p,1)}function Ha(l,d,p,N){var A;for(A=3;0<A;--A)sc(l,d+=4*p,p,N)}function Kf(l,d,p,N){var A;for(A=3;0<A;--A)Pa(l,d+=4,p,N)}function mi(l,d,p,N,A,R,I,O){for(R=2*R+1;0<A--;){if(ic(l,d,p,R,I))if(rc(l,d,p,O))Ys(l,d,p);else{var M=l,H=d,oe=p,pe=M[H-2*oe],me=M[H-oe],ce=M[H+0],Te=M[H+oe],Se=M[H+2*oe],le=27*(Le=Zf[1020+3*(ce-me)+Zf[1020+pe-Te]])+63>>7,ue=18*Le+63>>7,Le=9*Le+63>>7;M[H-3*oe]=Fr[255+M[H-3*oe]+Le],M[H-2*oe]=Fr[255+pe+ue],M[H-oe]=Fr[255+me+le],M[H+0]=Fr[255+ce-le],M[H+oe]=Fr[255+Te-ue],M[H+2*oe]=Fr[255+Se-Le]}d+=N}}function da(l,d,p,N,A,R,I,O){for(R=2*R+1;0<A--;){if(ic(l,d,p,R,I))if(rc(l,d,p,O))Ys(l,d,p);else{var M=l,H=d,oe=p,pe=M[H-oe],me=M[H+0],ce=M[H+oe],Te=mc[112+((Se=3*(me-pe))+4>>3)],Se=mc[112+(Se+3>>3)],le=Te+1>>1;M[H-2*oe]=Fr[255+M[H-2*oe]+le],M[H-oe]=Fr[255+pe+Se],M[H+0]=Fr[255+me-Te],M[H+oe]=Fr[255+ce-le]}d+=N}}function yl(l,d,p,N,A,R){mi(l,d,p,1,16,N,A,R)}function cs(l,d,p,N,A,R){mi(l,d,1,p,16,N,A,R)}function Yf(l,d,p,N,A,R){var I;for(I=3;0<I;--I)da(l,d+=4*p,p,1,16,N,A,R)}function Js(l,d,p,N,A,R){var I;for(I=3;0<I;--I)da(l,d+=4,1,p,16,N,A,R)}function Jf(l,d,p,N,A,R,I,O){mi(l,d,A,1,8,R,I,O),mi(p,N,A,1,8,R,I,O)}function vl(l,d,p,N,A,R,I,O){mi(l,d,1,A,8,R,I,O),mi(p,N,1,A,8,R,I,O)}function xl(l,d,p,N,A,R,I,O){da(l,d+4*A,A,1,8,R,I,O),da(p,N+4*A,A,1,8,R,I,O)}function oc(l,d,p,N,A,R,I,O){da(l,d+4,1,A,8,R,I,O),da(p,N+4,1,A,8,R,I,O)}function Xs(){this.ba=new pn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Dt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function bl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function wl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function lc(){this.ua=0,this.Wa=new Q,this.vb=new Q,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new F,this.yc=new _}function Xf(){this.xb=this.a=0,this.l=new Hs,this.ca=new pn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new C,this.Pb=0,this.wd=new C,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new lc,this.ab=0,this.gc=s(4,wl),this.Oc=0}function Qs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Hs,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ds(l,d,p,N,A,R,I){for(l=l==null?0:l[d+0],d=0;d<I;++d)A[R+d]=l+p[N+d]&255,l=A[R+d]}function Nl(l,d,p,N,A,R,I){var O;if(l==null)ds(null,null,p,N,A,R,I);else for(O=0;O<I;++O)A[R+O]=l[d+O]+p[N+O]&255}function gi(l,d,p,N,A,R,I){if(l==null)ds(null,null,p,N,A,R,I);else{var O,M=l[d+0],H=M,oe=M;for(O=0;O<I;++O)H=oe+(M=l[d+O])-H,oe=p[N+O]+(-256&H?0>H?0:255:H)&255,H=M,A[R+O]=oe}}function Sl(l,d,p,N){var A=d.width,R=d.o;if(t(l!=null&&d!=null),0>p||0>=N||p+N>R)return null;if(!l.Cc){if(l.ga==null){var I;if(l.ga=new Qs,(I=l.ga==null)||(I=d.width*d.o,t(l.Gb.length==0),l.Gb=i(I),l.Uc=0,l.Gb==null?I=0:(l.mb=l.Gb,l.nb=l.Uc,l.rc=null,I=1),I=!I),!I){I=l.ga;var O=l.Fa,M=l.P,H=l.qc,oe=l.mb,pe=l.nb,me=M+1,ce=H-1,Te=I.l;if(t(O!=null&&oe!=null&&d!=null),Ni[0]=null,Ni[1]=ds,Ni[2]=Nl,Ni[3]=gi,I.ca=oe,I.tb=pe,I.c=d.width,I.i=d.height,t(0<I.c&&0<I.i),1>=H)d=0;else if(I.$a=O[M+0]>>0&3,I.Z=O[M+0]>>2&3,I.Lc=O[M+0]>>4&3,M=O[M+0]>>6&3,0>I.$a||1<I.$a||4<=I.Z||1<I.Lc||M)d=0;else if(Te.put=dr,Te.ac=Qt,Te.bc=fr,Te.ma=I,Te.width=d.width,Te.height=d.height,Te.Da=d.Da,Te.v=d.v,Te.va=d.va,Te.j=d.j,Te.o=d.o,I.$a)e:{t(I.$a==1),d=En();t:for(;;){if(d==null){d=0;break e}if(t(I!=null),I.mc=d,d.c=I.c,d.i=I.i,d.l=I.l,d.l.ma=I,d.l.width=I.c,d.l.height=I.i,d.a=0,D(d.m,O,me,ce),!Mn(I.c,I.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&zt(d.s)?(I.ic=1,O=d.c*d.i,d.Ta=null,d.Ua=0,d.V=i(O),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(I.ic=0,d=k(d,I.c)),!d))break t;d=1;break e}I.mc=null,d=0}else d=ce>=I.c*I.i;I=!d}if(I)return null;l.ga.Lc!=1?l.Ga=0:N=R-p}t(l.ga!=null),t(p+N<=R);e:{if(d=(O=l.ga).c,R=O.l.o,O.$a==0){if(me=l.rc,ce=l.Vc,Te=l.Fa,M=l.P+1+p*d,H=l.mb,oe=l.nb+p*d,t(M<=l.P+l.qc),O.Z!=0)for(t(Ni[O.Z]!=null),I=0;I<N;++I)Ni[O.Z](me,ce,Te,M,H,oe,d),me=H,ce=oe,oe+=d,M+=d;else for(I=0;I<N;++I)r(H,oe,Te,M,d),me=H,ce=oe,oe+=d,M+=d;l.rc=me,l.Vc=ce}else{if(t(O.mc!=null),d=p+N,t((I=O.mc)!=null),t(d<=I.i),I.C>=d)d=1;else if(O.ic||he(),O.ic){O=I.V,me=I.Ba,ce=I.c;var Se=I.i,le=(Te=1,M=I.$/ce,H=I.$%ce,oe=I.m,pe=I.s,I.$),ue=ce*Se,Le=ce*d,Oe=pe.wc,Pe=le<Le?It(pe,H,M):null;t(le<=ue),t(d<=Se),t(zt(pe));t:for(;;){for(;!oe.h&&le<Le;){if(H&Oe||(Pe=It(pe,H,M)),t(Pe!=null),ae(oe),256>(Se=pt(Pe.G[0],Pe.H[0],oe)))O[me+le]=Se,++le,++H>=ce&&(H=0,++M<=d&&!(M%16)&&wt(I,M));else{if(!(280>Se)){Te=0;break t}Se=G(Se-256,oe);var Ze,Ke=pt(Pe.G[4],Pe.H[4],oe);if(ae(oe),!(le>=(Ke=Re(ce,Ke=G(Ke,oe)))&&ue-le>=Se)){Te=0;break t}for(Ze=0;Ze<Se;++Ze)O[me+le+Ze]=O[me+le+Ze-Ke];for(le+=Se,H+=Se;H>=ce;)H-=ce,++M<=d&&!(M%16)&&wt(I,M);le<Le&&H&Oe&&(Pe=It(pe,H,M))}t(oe.h==q(oe))}wt(I,M>d?d:M);break t}!Te||oe.h&&le<ue?(Te=0,I.a=oe.h?5:3):I.$=le,d=Te}else d=gn(I,I.V,I.Ba,I.c,I.i,d,xe);if(!d){N=0;break e}}p+N>=R&&(l.Cc=1),N=1}if(!N)return null;if(l.Cc&&((N=l.ga)!=null&&(N.mc=null),l.ga=null,0<l.Ga))return alert("todo:WebPDequantizeLevels"),null}return l.nb+p*A}function h(l,d,p,N,A,R){for(;0<A--;){var I,O=l,M=d+(p?1:0),H=l,oe=d+(p?0:3);for(I=0;I<N;++I){var pe=H[oe+4*I];pe!=255&&(pe*=32897,O[M+4*I+0]=O[M+4*I+0]*pe>>23,O[M+4*I+1]=O[M+4*I+1]*pe>>23,O[M+4*I+2]=O[M+4*I+2]*pe>>23)}d+=R}}function L(l,d,p,N,A){for(;0<N--;){var R;for(R=0;R<p;++R){var I=l[d+2*R+0],O=15&(H=l[d+2*R+1]),M=4369*O,H=(240&H|H>>4)*M>>16;l[d+2*R+0]=(240&I|I>>4)*M>>16&240|(15&I|I<<4)*M>>16>>4&15,l[d+2*R+1]=240&H|O}d+=A}}function K(l,d,p,N,A,R,I,O){var M,H,oe=255;for(H=0;H<A;++H){for(M=0;M<N;++M){var pe=l[d+M];R[I+4*M]=pe,oe&=pe}d+=p,I+=O}return oe!=255}function ie(l,d,p,N,A){var R;for(R=0;R<A;++R)p[N+R]=l[d+R]>>8}function he(){Zr=h,Yt=L,Jt=K,xn=ie}function je(l,d,p){T[l]=function(N,A,R,I,O,M,H,oe,pe,me,ce,Te,Se,le,ue,Le,Oe){var Pe,Ze=Oe-1>>1,Ke=O[M+0]|H[oe+0]<<16,dt=pe[me+0]|ce[Te+0]<<16;t(N!=null);var Xe=3*Ke+dt+131074>>2;for(d(N[A+0],255&Xe,Xe>>16,Se,le),R!=null&&(Xe=3*dt+Ke+131074>>2,d(R[I+0],255&Xe,Xe>>16,ue,Le)),Pe=1;Pe<=Ze;++Pe){var Bt=O[M+Pe]|H[oe+Pe]<<16,Ut=pe[me+Pe]|ce[Te+Pe]<<16,Ft=Ke+Bt+dt+Ut+524296,Tt=Ft+2*(Bt+dt)>>3;Xe=Tt+Ke>>1,Ke=(Ft=Ft+2*(Ke+Ut)>>3)+Bt>>1,d(N[A+2*Pe-1],255&Xe,Xe>>16,Se,le+(2*Pe-1)*p),d(N[A+2*Pe-0],255&Ke,Ke>>16,Se,le+(2*Pe-0)*p),R!=null&&(Xe=Ft+dt>>1,Ke=Tt+Ut>>1,d(R[I+2*Pe-1],255&Xe,Xe>>16,ue,Le+(2*Pe-1)*p),d(R[I+2*Pe+0],255&Ke,Ke>>16,ue,Le+(2*Pe+0)*p)),Ke=Bt,dt=Ut}1&Oe||(Xe=3*Ke+dt+131074>>2,d(N[A+Oe-1],255&Xe,Xe>>16,Se,le+(Oe-1)*p),R!=null&&(Xe=3*dt+Ke+131074>>2,d(R[I+Oe-1],255&Xe,Xe>>16,ue,Le+(Oe-1)*p)))}}function Fe(){ta[gc]=Kv,ta[yc]=O1,ta[P1]=Yv,ta[vc]=D1,ta[xc]=F1,ta[eh]=M1,ta[T1]=Jv,ta[th]=O1,ta[nh]=D1,ta[bc]=F1,ta[rh]=M1}function Qe(l){return l&-16384?0>l?0:255:l>>Xv}function ut(l,d){return Qe((19077*l>>8)+(26149*d>>8)-14234)}function Nt(l,d,p){return Qe((19077*l>>8)-(6419*d>>8)-(13320*p>>8)+8708)}function xt(l,d){return Qe((19077*l>>8)+(33050*d>>8)-17685)}function Ot(l,d,p,N,A){N[A+0]=ut(l,p),N[A+1]=Nt(l,d,p),N[A+2]=xt(l,d)}function rn(l,d,p,N,A){N[A+0]=xt(l,d),N[A+1]=Nt(l,d,p),N[A+2]=ut(l,p)}function cn(l,d,p,N,A){var R=Nt(l,d,p);d=R<<3&224|xt(l,d)>>3,N[A+0]=248&ut(l,p)|R>>5,N[A+1]=d}function An(l,d,p,N,A){var R=240&xt(l,d)|15;N[A+0]=240&ut(l,p)|Nt(l,d,p)>>4,N[A+1]=R}function Qn(l,d,p,N,A){N[A+0]=255,Ot(l,d,p,N,A+1)}function Bn(l,d,p,N,A){rn(l,d,p,N,A),N[A+3]=255}function fa(l,d,p,N,A){Ot(l,d,p,N,A),N[A+3]=255}function Dr(l,d){return 0>l?0:l>d?d:l}function Ta(l,d,p){T[l]=function(N,A,R,I,O,M,H,oe,pe){for(var me=oe+(-2&pe)*p;oe!=me;)d(N[A+0],R[I+0],O[M+0],H,oe),d(N[A+1],R[I+0],O[M+0],H,oe+p),A+=2,++I,++M,oe+=2*p;1&pe&&d(N[A+0],R[I+0],O[M+0],H,oe)}}function uc(l,d,p){return p==0?l==0?d==0?6:5:d==0?4:0:p}function jl(l,d,p,N,A){switch(l>>>30){case 3:Ga(d,p,N,A,0);break;case 2:vn(d,p,N,A);break;case 1:mr(d,p,N,A)}}function kl(l,d){var p,N,A=d.M,R=d.Nb,I=l.oc,O=l.pc+40,M=l.oc,H=l.pc+584,oe=l.oc,pe=l.pc+600;for(p=0;16>p;++p)I[O+32*p-1]=129;for(p=0;8>p;++p)M[H+32*p-1]=129,oe[pe+32*p-1]=129;for(0<A?I[O-1-32]=M[H-1-32]=oe[pe-1-32]=129:(a(I,O-32-1,127,21),a(M,H-32-1,127,9),a(oe,pe-32-1,127,9)),N=0;N<l.za;++N){var me=d.ya[d.aa+N];if(0<N){for(p=-1;16>p;++p)r(I,O+32*p-4,I,O+32*p+12,4);for(p=-1;8>p;++p)r(M,H+32*p-4,M,H+32*p+4,4),r(oe,pe+32*p-4,oe,pe+32*p+4,4)}var ce=l.Gd,Te=l.Hd+N,Se=me.ad,le=me.Hc;if(0<A&&(r(I,O-32,ce[Te].y,0,16),r(M,H-32,ce[Te].f,0,8),r(oe,pe-32,ce[Te].ea,0,8)),me.Za){var ue=I,Le=O-32+16;for(0<A&&(N>=l.za-1?a(ue,Le,ce[Te].y[15],4):r(ue,Le,ce[Te+1].y,0,4)),p=0;4>p;p++)ue[Le+128+p]=ue[Le+256+p]=ue[Le+384+p]=ue[Le+0+p];for(p=0;16>p;++p,le<<=2)ue=I,Le=O+z1[p],ha[me.Ob[p]](ue,Le),jl(le,Se,16*+p,ue,Le)}else if(ue=uc(N,A,me.Ob[0]),wi[ue](I,O),le!=0)for(p=0;16>p;++p,le<<=2)jl(le,Se,16*+p,I,O+z1[p]);for(p=me.Gc,ue=uc(N,A,me.Dd),Ya[ue](M,H),Ya[ue](oe,pe),le=Se,ue=M,Le=H,255&(me=p>>0)&&(170&me?Pl(le,256,ue,Le):Xr(le,256,ue,Le)),me=oe,le=pe,255&(p>>=8)&&(170&p?Pl(Se,320,me,le):Xr(Se,320,me,le)),A<l.Ub-1&&(r(ce[Te].y,0,I,O+480,16),r(ce[Te].f,0,M,H+224,8),r(ce[Te].ea,0,oe,pe+224,8)),p=8*R*l.B,ce=l.sa,Te=l.ta+16*N+16*R*l.R,Se=l.qa,me=l.ra+8*N+p,le=l.Ha,ue=l.Ia+8*N+p,p=0;16>p;++p)r(ce,Te+p*l.R,I,O+32*p,16);for(p=0;8>p;++p)r(Se,me+p*l.B,M,H+32*p,8),r(le,ue+p*l.B,oe,pe+32*p,8)}}function Zs(l,d,p,N,A,R,I,O,M){var H=[0],oe=[0],pe=0,me=M!=null?M.kd:0,ce=M??new bl;if(l==null||12>p)return 7;ce.data=l,ce.w=d,ce.ha=p,d=[d],p=[p],ce.gb=[ce.gb];e:{var Te=d,Se=p,le=ce.gb;if(t(l!=null),t(Se!=null),t(le!=null),le[0]=0,12<=Se[0]&&!n(l,Te[0],"RIFF")){if(n(l,Te[0]+8,"WEBP")){le=3;break e}var ue=Ve(l,Te[0]+4);if(12>ue||4294967286<ue){le=3;break e}if(me&&ue>Se[0]-8){le=7;break e}le[0]=ue,Te[0]+=12,Se[0]-=12}le=0}if(le!=0)return le;for(ue=0<ce.gb[0],p=p[0];;){e:{var Le=l;Se=d,le=p;var Oe=H,Pe=oe,Ze=Te=[0];if((Xe=pe=[pe])[0]=0,8>le[0])le=7;else{if(!n(Le,Se[0],"VP8X")){if(Ve(Le,Se[0]+4)!=10){le=3;break e}if(18>le[0]){le=7;break e}var Ke=Ve(Le,Se[0]+8),dt=1+We(Le,Se[0]+12);if(2147483648<=dt*(Le=1+We(Le,Se[0]+15))){le=3;break e}Ze!=null&&(Ze[0]=Ke),Oe!=null&&(Oe[0]=dt),Pe!=null&&(Pe[0]=Le),Se[0]+=18,le[0]-=18,Xe[0]=1}le=0}}if(pe=pe[0],Te=Te[0],le!=0)return le;if(Se=!!(2&Te),!ue&&pe)return 3;if(R!=null&&(R[0]=!!(16&Te)),I!=null&&(I[0]=Se),O!=null&&(O[0]=0),I=H[0],Te=oe[0],pe&&Se&&M==null){le=0;break}if(4>p){le=7;break}if(ue&&pe||!ue&&!pe&&!n(l,d[0],"ALPH")){p=[p],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];e:{Ke=l,le=d,ue=p;var Xe=ce.gb;Oe=ce.na,Pe=ce.P,Ze=ce.Sa,dt=22,t(Ke!=null),t(ue!=null),Le=le[0];var Bt=ue[0];for(t(Oe!=null),t(Ze!=null),Oe[0]=null,Pe[0]=null,Ze[0]=0;;){if(le[0]=Le,ue[0]=Bt,8>Bt){le=7;break e}var Ut=Ve(Ke,Le+4);if(4294967286<Ut){le=3;break e}var Ft=8+Ut+1&-2;if(dt+=Ft,0<Xe&&dt>Xe){le=3;break e}if(!n(Ke,Le,"VP8 ")||!n(Ke,Le,"VP8L")){le=0;break e}if(Bt[0]<Ft){le=7;break e}n(Ke,Le,"ALPH")||(Oe[0]=Ke,Pe[0]=Le+8,Ze[0]=Ut),Le+=Ft,Bt-=Ft}}if(p=p[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],le!=0)break}p=[p],ce.Ja=[ce.Ja],ce.xa=[ce.xa];e:if(Xe=l,le=d,ue=p,Oe=ce.gb[0],Pe=ce.Ja,Ze=ce.xa,Ke=le[0],Le=!n(Xe,Ke,"VP8 "),dt=!n(Xe,Ke,"VP8L"),t(Xe!=null),t(ue!=null),t(Pe!=null),t(Ze!=null),8>ue[0])le=7;else{if(Le||dt){if(Xe=Ve(Xe,Ke+4),12<=Oe&&Xe>Oe-12){le=3;break e}if(me&&Xe>ue[0]-8){le=7;break e}Pe[0]=Xe,le[0]+=8,ue[0]-=8,Ze[0]=dt}else Ze[0]=5<=ue[0]&&Xe[Ke+0]==47&&!(Xe[Ke+4]>>5),Pe[0]=ue[0];le=0}if(p=p[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],d=d[0],le!=0)break;if(4294967286<ce.Ja)return 3;if(O==null||Se||(O[0]=ce.xa?2:1),I=[I],Te=[Te],ce.xa){if(5>p){le=7;break}O=I,me=Te,Se=R,l==null||5>p?l=0:5<=p&&l[d+0]==47&&!(l[d+4]>>5)?(ue=[0],Xe=[0],Oe=[0],D(Pe=new C,l,d,p),lt(Pe,ue,Xe,Oe)?(O!=null&&(O[0]=ue[0]),me!=null&&(me[0]=Xe[0]),Se!=null&&(Se[0]=Oe[0]),l=1):l=0):l=0}else{if(10>p){le=7;break}O=Te,l==null||10>p||!Gu(l,d+3,p-3)?l=0:(me=l[d+0]|l[d+1]<<8|l[d+2]<<16,Se=16383&(l[d+7]<<8|l[d+6]),l=16383&(l[d+9]<<8|l[d+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=ce.Ja||!Se||!l?l=0:(I&&(I[0]=Se),O&&(O[0]=l),l=1))}if(!l||(I=I[0],Te=Te[0],pe&&(H[0]!=I||oe[0]!=Te)))return 3;M!=null&&(M[0]=ce,M.offset=d-M.w,t(4294967286>d-M.w),t(M.offset==M.ha-p));break}return le==0||le==7&&pe&&M==null?(R!=null&&(R[0]|=ce.na!=null&&0<ce.na.length),N!=null&&(N[0]=I),A!=null&&(A[0]=Te),0):le}function Al(l,d,p){var N=d.width,A=d.height,R=0,I=0,O=N,M=A;if(d.Da=l!=null&&0<l.Da,d.Da&&(O=l.cd,M=l.bd,R=l.v,I=l.j,11>p||(R&=-2,I&=-2),0>R||0>I||0>=O||0>=M||R+O>N||I+M>A))return 0;if(d.v=R,d.j=I,d.va=R+O,d.o=I+M,d.U=O,d.T=M,d.da=l!=null&&0<l.da,d.da){if(!Je(O,M,p=[l.ib],R=[l.hb]))return 0;d.ib=p[0],d.hb=R[0]}return d.ob=l!=null&&l.ob,d.Kb=l==null||!l.Sd,d.da&&(d.ob=d.ib<3*N/4&&d.hb<3*A/4,d.Kb=0),1}function Ll(l){if(l==null)return 2;if(11>l.S){var d=l.f.RGBA;d.fb+=(l.height-1)*d.A,d.A=-d.A}else d=l.f.kb,l=l.height,d.O+=(l-1)*d.fa,d.fa=-d.fa,d.N+=(l-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(l-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(l-1)*d.lb,d.lb=-d.lb);return 0}function eo(l,d,p,N){if(N==null||0>=l||0>=d)return 2;if(p!=null){if(p.Da){var A=p.cd,R=p.bd,I=-2&p.v,O=-2&p.j;if(0>I||0>O||0>=A||0>=R||I+A>l||O+R>d)return 2;l=A,d=R}if(p.da){if(!Je(l,d,A=[p.ib],R=[p.hb]))return 2;l=A[0],d=R[0]}}N.width=l,N.height=d;e:{var M=N.width,H=N.height;if(l=N.S,0>=M||0>=H||!(l>=gc&&13>l))l=2;else{if(0>=N.Rd&&N.sd==null){I=R=A=d=0;var oe=(O=M*U1[l])*H;if(11>l||(R=(H+1)/2*(d=(M+1)/2),l==12&&(I=(A=M)*H)),(H=i(oe+2*R+I))==null){l=1;break e}N.sd=H,11>l?((M=N.f.RGBA).eb=H,M.fb=0,M.A=O,M.size=oe):((M=N.f.kb).y=H,M.O=0,M.fa=O,M.Fd=oe,M.f=H,M.N=0+oe,M.Ab=d,M.Cd=R,M.ea=H,M.W=0+oe+R,M.Db=d,M.Ed=R,l==12&&(M.F=H,M.J=0+oe+2*R),M.Tc=I,M.lb=A)}if(d=1,A=N.S,R=N.width,I=N.height,A>=gc&&13>A)if(11>A)l=N.f.RGBA,d&=(O=Math.abs(l.A))*(I-1)+R<=l.size,d&=O>=R*U1[A],d&=l.eb!=null;else{l=N.f.kb,O=(R+1)/2,oe=(I+1)/2,M=Math.abs(l.fa),H=Math.abs(l.Ab);var pe=Math.abs(l.Db),me=Math.abs(l.lb),ce=me*(I-1)+R;d&=M*(I-1)+R<=l.Fd,d&=H*(oe-1)+O<=l.Cd,d=(d&=pe*(oe-1)+O<=l.Ed)&M>=R&H>=O&pe>=O,d&=l.y!=null,d&=l.f!=null,d&=l.ea!=null,A==12&&(d&=me>=R,d&=ce<=l.Tc,d&=l.F!=null)}else d=0;l=d?0:2}}return l!=0||p!=null&&p.fd&&(l=Ll(N)),l}var Wn=64,to=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],no=24,ro=32,Cl=8,Sr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];qe("Predictor0","PredictorAdd0"),T.Predictor0=function(){return 4278190080},T.Predictor1=function(l){return l},T.Predictor2=function(l,d,p){return d[p+0]},T.Predictor3=function(l,d,p){return d[p+1]},T.Predictor4=function(l,d,p){return d[p-1]},T.Predictor5=function(l,d,p){return Ge(Ge(l,d[p+1]),d[p+0])},T.Predictor6=function(l,d,p){return Ge(l,d[p-1])},T.Predictor7=function(l,d,p){return Ge(l,d[p+0])},T.Predictor8=function(l,d,p){return Ge(d[p-1],d[p+0])},T.Predictor9=function(l,d,p){return Ge(d[p+0],d[p+1])},T.Predictor10=function(l,d,p){return Ge(Ge(l,d[p-1]),Ge(d[p+0],d[p+1]))},T.Predictor11=function(l,d,p){var N=d[p+0];return 0>=z(N>>24&255,l>>24&255,(d=d[p-1])>>24&255)+z(N>>16&255,l>>16&255,d>>16&255)+z(N>>8&255,l>>8&255,d>>8&255)+z(255&N,255&l,255&d)?N:l},T.Predictor12=function(l,d,p){var N=d[p+0];return(et((l>>24&255)+(N>>24&255)-((d=d[p-1])>>24&255))<<24|et((l>>16&255)+(N>>16&255)-(d>>16&255))<<16|et((l>>8&255)+(N>>8&255)-(d>>8&255))<<8|et((255&l)+(255&N)-(255&d)))>>>0},T.Predictor13=function(l,d,p){var N=d[p-1];return(it((l=Ge(l,d[p+0]))>>24&255,N>>24&255)<<24|it(l>>16&255,N>>16&255)<<16|it(l>>8&255,N>>8&255)<<8|it(l>>0&255,N>>0&255))>>>0};var Qf=T.PredictorAdd0;T.PredictorAdd1=ge,qe("Predictor2","PredictorAdd2"),qe("Predictor3","PredictorAdd3"),qe("Predictor4","PredictorAdd4"),qe("Predictor5","PredictorAdd5"),qe("Predictor6","PredictorAdd6"),qe("Predictor7","PredictorAdd7"),qe("Predictor8","PredictorAdd8"),qe("Predictor9","PredictorAdd9"),qe("Predictor10","PredictorAdd10"),qe("Predictor11","PredictorAdd11"),qe("Predictor12","PredictorAdd12"),qe("Predictor13","PredictorAdd13");var _l=T.PredictorAdd2;$e("ColorIndexInverseTransform","MapARGB","32b",function(l){return l>>8&255},function(l){return l}),$e("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(l){return l},function(l){return l>>8&255});var cc,Jr=T.ColorIndexInverseTransform,ao=T.MapARGB,dc=T.VP8LColorIndexInverseTransformAlpha,fc=T.MapAlpha,yi=T.VP8LPredictorsAdd=[];yi.length=16,(T.VP8LPredictors=[]).length=16,(T.VP8LPredictorsAdd_C=[]).length=16,(T.VP8LPredictors_C=[]).length=16;var fs,jr,pr,vi,Va,Wa,io,Ga,vn,Pl,mr,Xr,so,hc,Tl,hs,ps,xi,ms,oo,gs,bi,El,Qr,Zr,Yt,Jt,xn,On=i(511),Ka=i(2041),Rl=i(225),lo=i(767),pc=0,Zf=Ka,mc=Rl,Fr=lo,ea=On,gc=0,yc=1,P1=2,vc=3,xc=4,eh=5,T1=6,th=7,nh=8,bc=9,rh=10,Iv=[2,3,7],Ov=[3,3,11],E1=[280,256,256,256,40],Dv=[0,1,1,1,0],Fv=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Mv=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Bv=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],zv=8,ah=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ih=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Il=null,Uv=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],qv=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],R1=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],$v=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Hv=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Vv=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Wv=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],wi=[],ha=[],Ya=[],Gv=1,I1=2,Ni=[],ta=[];je("UpsampleRgbLinePair",Ot,3),je("UpsampleBgrLinePair",rn,3),je("UpsampleRgbaLinePair",fa,4),je("UpsampleBgraLinePair",Bn,4),je("UpsampleArgbLinePair",Qn,4),je("UpsampleRgba4444LinePair",An,2),je("UpsampleRgb565LinePair",cn,2);var Kv=T.UpsampleRgbLinePair,Yv=T.UpsampleBgrLinePair,O1=T.UpsampleRgbaLinePair,D1=T.UpsampleBgraLinePair,F1=T.UpsampleArgbLinePair,M1=T.UpsampleRgba4444LinePair,Jv=T.UpsampleRgb565LinePair,wc=16,Nc=1<<wc-1,Ol=-227,sh=482,Xv=6,B1=0,Qv=i(256),Zv=i(256),ex=i(256),tx=i(256),nx=i(sh-Ol),rx=i(sh-Ol);Ta("YuvToRgbRow",Ot,3),Ta("YuvToBgrRow",rn,3),Ta("YuvToRgbaRow",fa,4),Ta("YuvToBgraRow",Bn,4),Ta("YuvToArgbRow",Qn,4),Ta("YuvToRgba4444Row",An,2),Ta("YuvToRgb565Row",cn,2);var z1=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Sc=[0,2,8],ax=[8,7,6,4,4,2,2,2,1,1,1,1],ix=1;this.WebPDecodeRGBA=function(l,d,p,N,A){var R=yc,I=new Xs,O=new pn;I.ba=O,O.S=R,O.width=[O.width],O.height=[O.height];var M=O.width,H=O.height,oe=new cr;if(oe==null||l==null)var pe=2;else t(oe!=null),pe=Zs(l,d,p,oe.width,oe.height,oe.Pd,oe.Qd,oe.format,null);if(pe!=0?M=0:(M!=null&&(M[0]=oe.width[0]),H!=null&&(H[0]=oe.height[0]),M=1),M){O.width=O.width[0],O.height=O.height[0],N!=null&&(N[0]=O.width),A!=null&&(A[0]=O.height);e:{if(N=new Hs,(A=new bl).data=l,A.w=d,A.ha=p,A.kd=1,d=[0],t(A!=null),((l=Zs(A.data,A.w,A.ha,null,null,null,d,null,A))==0||l==7)&&d[0]&&(l=4),(d=l)==0){if(t(I!=null),N.data=A.data,N.w=A.w+A.offset,N.ha=A.ha-A.offset,N.put=dr,N.ac=Qt,N.bc=fr,N.ma=I,A.xa){if((l=En())==null){I=1;break e}if(function(me,ce){var Te=[0],Se=[0],le=[0];t:for(;;){if(me==null)return 0;if(ce==null)return me.a=2,0;if(me.l=ce,me.a=0,D(me.m,ce.data,ce.w,ce.ha),!lt(me.m,Te,Se,le)){me.a=3;break t}if(me.xb=I1,ce.width=Te[0],ce.height=Se[0],!Mn(Te[0],Se[0],1,me,null))break t;return 1}return t(me.a!=0),0}(l,N)){if(N=(d=eo(N.width,N.height,I.Oa,I.ba))==0){t:{N=l;n:for(;;){if(N==null){N=0;break t}if(t(N.s.yc!=null),t(N.s.Ya!=null),t(0<N.s.Wb),t((p=N.l)!=null),t((A=p.ma)!=null),N.xb!=0){if(N.ca=A.ba,N.tb=A.tb,t(N.ca!=null),!Al(A.Oa,p,vc)){N.a=2;break n}if(!k(N,p.width)||p.da)break n;if((p.da||mt(N.ca.S))&&he(),11>N.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),N.ca.f.kb.F!=null&&he()),N.Pb&&0<N.s.ua&&N.s.vb.X==null&&!at(N.s.vb,N.s.Wa.Xa)){N.a=1;break n}N.xb=0}if(!gn(N,N.V,N.Ba,N.c,N.i,p.o,mn))break n;A.Dc=N.Ma,N=1;break t}t(N.a!=0),N=0}N=!N}N&&(d=l.a)}else d=l.a}else{if((l=new Rf)==null){I=1;break e}if(l.Fa=A.na,l.P=A.P,l.qc=A.Sa,Ku(l,N)){if((d=eo(N.width,N.height,I.Oa,I.ba))==0){if(l.Aa=0,p=I.Oa,t((A=l)!=null),p!=null){if(0<(M=0>(M=p.Md)?0:100<M?255:255*M/100)){for(H=oe=0;4>H;++H)12>(pe=A.pb[H]).lc&&(pe.ia=M*ax[0>pe.lc?0:pe.lc]>>3),oe|=pe.ia;oe&&(alert("todo:VP8InitRandom"),A.ia=1)}A.Ga=p.Id,100<A.Ga?A.Ga=100:0>A.Ga&&(A.Ga=0)}If(l,N)||(d=l.a)}}else d=l.a}d==0&&I.Oa!=null&&I.Oa.fd&&(d=Ll(I.ba))}I=d}R=I!=0?null:11>R?O.f.RGBA.eb:O.f.kb.y}else R=null;return R};var U1=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function f(T,V){for(var se="",E=0;E<4;E++)se+=String.fromCharCode(T[V++]);return se}function y(T,V){return(T[V+0]<<0|T[V+1]<<8|T[V+2]<<16)>>>0}function g(T,V){return(T[V+0]<<0|T[V+1]<<8|T[V+2]<<16|T[V+3]<<24)>>>0}new c;var b=[0],m=[0],j=[],w=new c,P=e,x=function(T,V){var se={},E=0,_=!1,W=0,F=0;if(se.frames=[],!function($,q,Y,ae){for(var fe=0;fe<ae;fe++)if($[q+fe]!=Y.charCodeAt(fe))return!0;return!1}(T,V,"RIFF",4)){for(g(T,V+=4),V+=8;V<T.length;){var te=f(T,V),Z=g(T,V+=4);V+=4;var de=Z+(1&Z);switch(te){case"VP8 ":case"VP8L":se.frames[E]===void 0&&(se.frames[E]={}),(re=se.frames[E]).src_off=_?F:V-8,re.src_size=W+Z+8,E++,_&&(_=!1,W=0,F=0);break;case"VP8X":(re=se.header={}).feature_flags=T[V];var D=V+4;re.canvas_width=1+y(T,D),D+=3,re.canvas_height=1+y(T,D),D+=3;break;case"ALPH":_=!0,W=de+8,F=V-8;break;case"ANIM":(re=se.header).bgcolor=g(T,V),D=V+4,re.loop_count=(ke=T)[(C=D)+0]<<0|ke[C+1]<<8,D+=2;break;case"ANMF":var X,re;(re=se.frames[E]={}).offset_x=2*y(T,V),V+=3,re.offset_y=2*y(T,V),V+=3,re.width=1+y(T,V),V+=3,re.height=1+y(T,V),V+=3,re.duration=y(T,V),V+=3,X=T[V++],re.dispose=1&X,re.blend=X>>1&1}te!="ANMF"&&(V+=de)}var ke,C;return se}}(P,0);x.response=P,x.rgbaoutput=!0,x.dataurl=!1;var v=x.header?x.header:null,S=x.frames?x.frames:null;if(v){v.loop_counter=v.loop_count,b=[v.canvas_height],m=[v.canvas_width];for(var B=0;B<S.length&&S[B].blend!=0;B++);}var J=S[0],ne=w.WebPDecodeRGBA(P,J.src_off,J.src_size,m,b);J.rgba=ne,J.imgwidth=m[0],J.imgheight=b[0];for(var U=0;U<m[0]*b[0]*4;U++)j[U]=ne[U];return this.width=m,this.height=b,this.data=j,this}(function(e){var t=function(){return typeof ym=="function"},n=function(b,m,j,w){var P=4,x=s;switch(w){case e.image_compression.FAST:P=1,x=i;break;case e.image_compression.MEDIUM:P=6,x=u;break;case e.image_compression.SLOW:P=9,x=c}b=r(b,m,j,x);var v=ym(b,{level:P});return e.__addimage__.arrayBufferToBinaryString(v)},r=function(b,m,j,w){for(var P,x,v,S=b.length/m,B=new Uint8Array(b.length+S),J=y(),ne=0;ne<S;ne+=1){if(v=ne*m,P=b.subarray(v,v+m),w)B.set(w(P,j,x),v+ne);else{for(var U,T=J.length,V=[];U<T;U+=1)V[U]=J[U](P,j,x);var se=g(V.concat());B.set(V[se],v+ne)}x=P}return B},a=function(b){var m=Array.apply([],b);return m.unshift(0),m},i=function(b,m){var j,w=[],P=b.length;w[0]=1;for(var x=0;x<P;x+=1)j=b[x-m]||0,w[x+1]=b[x]-j+256&255;return w},s=function(b,m,j){var w,P=[],x=b.length;P[0]=2;for(var v=0;v<x;v+=1)w=j&&j[v]||0,P[v+1]=b[v]-w+256&255;return P},u=function(b,m,j){var w,P,x=[],v=b.length;x[0]=3;for(var S=0;S<v;S+=1)w=b[S-m]||0,P=j&&j[S]||0,x[S+1]=b[S]+256-(w+P>>>1)&255;return x},c=function(b,m,j){var w,P,x,v,S=[],B=b.length;S[0]=4;for(var J=0;J<B;J+=1)w=b[J-m]||0,P=j&&j[J]||0,x=j&&j[J-m]||0,v=f(w,P,x),S[J+1]=b[J]-v+256&255;return S},f=function(b,m,j){if(b===m&&m===j)return b;var w=Math.abs(m-j),P=Math.abs(b-j),x=Math.abs(b+m-j-j);return w<=P&&w<=x?b:P<=x?m:j},y=function(){return[a,i,s,u,c]},g=function(b){var m=b.map(function(j){return j.reduce(function(w,P){return w+Math.abs(P)},0)});return m.indexOf(Math.min.apply(null,m))};e.processPNG=function(b,m,j,w){var P,x,v,S,B,J,ne,U,T,V,se,E,_,W,F,te=this.decode.FLATE_DECODE,Z="";if(this.__addimage__.isArrayBuffer(b)&&(b=new Uint8Array(b)),this.__addimage__.isArrayBufferView(b)){if(b=(v=new F6(b)).imgData,x=v.bits,P=v.colorSpace,B=v.colors,[4,6].indexOf(v.colorType)!==-1){if(v.bits===8){T=(U=v.pixelBitlength==32?new Uint32Array(v.decodePixels().buffer):v.pixelBitlength==16?new Uint16Array(v.decodePixels().buffer):new Uint8Array(v.decodePixels().buffer)).length,se=new Uint8Array(T*v.colors),V=new Uint8Array(T);var de,D=v.pixelBitlength-v.bits;for(W=0,F=0;W<T;W++){for(_=U[W],de=0;de<D;)se[F++]=_>>>de&255,de+=v.bits;V[W]=_>>>de&255}}if(v.bits===16){T=(U=new Uint32Array(v.decodePixels().buffer)).length,se=new Uint8Array(T*(32/v.pixelBitlength)*v.colors),V=new Uint8Array(T*(32/v.pixelBitlength)),E=v.colors>1,W=0,F=0;for(var X=0;W<T;)_=U[W++],se[F++]=_>>>0&255,E&&(se[F++]=_>>>16&255,_=U[W++],se[F++]=_>>>0&255),V[X++]=_>>>16&255;x=8}w!==e.image_compression.NONE&&t()?(b=n(se,v.width*v.colors,v.colors,w),ne=n(V,v.width,1,w)):(b=se,ne=V,te=void 0)}if(v.colorType===3&&(P=this.color_spaces.INDEXED,J=v.palette,v.transparency.indexed)){var re=v.transparency.indexed,ke=0;for(W=0,T=re.length;W<T;++W)ke+=re[W];if((ke/=255)===T-1&&re.indexOf(0)!==-1)S=[re.indexOf(0)];else if(ke!==T){for(U=v.decodePixels(),V=new Uint8Array(U.length),W=0,T=U.length;W<T;W++)V[W]=re[U[W]];ne=n(V,v.width,1)}}var C=function($){var q;switch($){case e.image_compression.FAST:q=11;break;case e.image_compression.MEDIUM:q=13;break;case e.image_compression.SLOW:q=14;break;default:q=12}return q}(w);return te===this.decode.FLATE_DECODE&&(Z="/Predictor "+C+" "),Z+="/Colors "+B+" /BitsPerComponent "+x+" /Columns "+v.width,(this.__addimage__.isArrayBuffer(b)||this.__addimage__.isArrayBufferView(b))&&(b=this.__addimage__.arrayBufferToBinaryString(b)),(ne&&this.__addimage__.isArrayBuffer(ne)||this.__addimage__.isArrayBufferView(ne))&&(ne=this.__addimage__.arrayBufferToBinaryString(ne)),{alias:j,data:b,index:m,filter:te,decodeParameters:Z,transparency:S,palette:J,sMask:ne,predictor:C,width:v.width,height:v.height,bitsPerComponent:x,colorSpace:P}}}})(ft.API),function(e){e.processGIF89A=function(t,n,r,a){var i=new M6(t),s=i.width,u=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var f={data:c,width:s,height:u},y=new tp(100).encode(f,100);return e.processJPEG.call(this,y,n,r,a)},e.processGIF87A=e.processGIF89A}(ft.API),ya.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:a,green:r,blue:n,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ya.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(n){Kt.log("bit decode error:"+n)}},ya.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,a=0;a<t;a++)for(var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+8*a*4,u=0;u<8&&8*a+u<this.width;u++){var c=this.palette[i>>7-u&1];this.data[s+4*u]=c.blue,this.data[s+4*u+1]=c.green,this.data[s+4*u+2]=c.red,this.data[s+4*u+3]=255}n!==0&&(this.pos+=4-n)}},ya.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<e;a++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+2*a*4,u=i>>4,c=15&i,f=this.palette[u];if(this.data[s]=f.blue,this.data[s+1]=f.green,this.data[s+2]=f.red,this.data[s+3]=255,2*a+1>=this.width)break;f=this.palette[c],this.data[s+4]=f.blue,this.data[s+4+1]=f.green,this.data[s+4+2]=f.red,this.data[s+4+3]=255}t!==0&&(this.pos+=4-t)}},ya.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var a=this.datav.getUint8(this.pos++,!0),i=n*this.width*4+4*r;if(a<this.palette.length){var s=this.palette[a];this.data[i]=s.red,this.data[i+1]=s.green,this.data[i+2]=s.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}e!==0&&(this.pos+=4-e)}},ya.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var s=(i&t)/t*255|0,u=(i>>5&t)/t*255|0,c=(i>>10&t)/t*255|0,f=i>>15?255:0,y=r*this.width*4+4*a;this.data[y]=c,this.data[y+1]=u,this.data[y+2]=s,this.data[y+3]=f}this.pos+=e}},ya.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var a=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(s&t)/t*255|0,c=(s>>5&n)/n*255|0,f=(s>>11)/t*255|0,y=a*this.width*4+4*i;this.data[y]=f,this.data[y+1]=c,this.data[y+2]=u,this.data[y+3]=255}this.pos+=e}},ya.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=t*this.width*4+4*n;this.data[s]=i,this.data[s+1]=a,this.data[s+2]=r,this.data[s+3]=255}this.pos+=this.width%4}},ya.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),u=t*this.width*4+4*n;this.data[u]=i,this.data[u+1]=a,this.data[u+2]=r,this.data[u+3]=s}},ya.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,a){var i=new ya(t,!1),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},f=new tp(100).encode(c,100);return e.processJPEG.call(this,f,n,r,a)}}(ft.API),n5.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,a){var i=new n5(t),s=i.width,u=i.height,c={data:i.getData(),width:s,height:u},f=new tp(100).encode(c,100);return e.processJPEG.call(this,f,n,r,a)}}(ft.API),ft.API.processRGBA=function(e,t,n){for(var r=e.data,a=r.length,i=new Uint8Array(a/4*3),s=new Uint8Array(a/4),u=0,c=0,f=0;f<a;f+=4){var y=r[f],g=r[f+1],b=r[f+2],m=r[f+3];i[u++]=y,i[u++]=g,i[u++]=b,s[c++]=m}var j=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(s),data:j,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},ft.API.setLanguage=function(e){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]!==void 0&&(this.internal.languageSettings.languageCode=e,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},xo=ft.API,td=xo.getCharWidthsArray=function(e,t){var n,r,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),s=t.charSpace||this.internal.getCharSpace(),u=t.widths?t.widths:a.metadata.Unicode.widths,c=u.fof?u.fof:1,f=t.kerning?t.kerning:a.metadata.Unicode.kerning,y=f.fof?f.fof:1,g=t.doKerning!==!1,b=0,m=e.length,j=0,w=u[0]||c,P=[];for(n=0;n<m;n++)r=e.charCodeAt(n),typeof a.metadata.widthOfString=="function"?P.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(r))+s*(1e3/i)||0)/1e3):(b=g&&$t(f[r])==="object"&&!isNaN(parseInt(f[r][j],10))?f[r][j]/y:0,P.push((u[r]||w)/c+b)),j=r;return P},Q2=xo.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),a=t.charSpace||this.internal.getCharSpace();return xo.processArabic&&(e=xo.processArabic(e)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(e,n,a)/n:td.apply(this,arguments).reduce(function(i,s){return i+s},0)},Z2=function(e,t,n,r){for(var a=[],i=0,s=e.length,u=0;i!==s&&u+t[i]<n;)u+=t[i],i++;a.push(e.slice(0,i));var c=i;for(u=0;i!==s;)u+t[i]>r&&(a.push(e.slice(c,i)),u=0,c=i),u+=t[i],i++;return c!==i&&a.push(e.slice(c,i)),a},e5=function(e,t,n){n||(n={});var r,a,i,s,u,c,f,y=[],g=[y],b=n.textIndent||0,m=0,j=0,w=e.split(" "),P=td.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?w[0].length+2:n.lineIndent||0){var x=Array(c).join(" "),v=[];w.map(function(B){(B=B.split(/\s*\n/)).length>1?v=v.concat(B.map(function(J,ne){return(ne&&J.length?`
`:"")+J})):v.push(B[0])}),w=v,c=Q2.apply(this,[x,n])}for(i=0,s=w.length;i<s;i++){var S=0;if(r=w[i],c&&r[0]==`
`&&(r=r.substr(1),S=1),b+m+(j=(a=td.apply(this,[r,n])).reduce(function(B,J){return B+J},0))>t||S){if(j>t){for(u=Z2.apply(this,[r,a,t-(b+m),t]),y.push(u.shift()),y=[u.pop()];u.length;)g.push([u.shift()]);j=a.slice(r.length-(y[0]?y[0].length:0)).reduce(function(B,J){return B+J},0)}else y=[r];g.push(y),b=j+c,m=P}else y.push(r),b+=m+j,m=P}return f=c?function(B,J){return(J?x:"")+B.join(" ")}:function(B){return B.join(" ")},g.map(f)},xo.splitTextToSize=function(e,t,n){var r,a=(n=n||{}).fontSize||this.internal.getFontSize(),i=(function(y){if(y.widths&&y.kerning)return{widths:y.widths,kerning:y.kerning};var g=this.internal.getFont(y.fontName,y.fontStyle);return g.metadata.Unicode?{widths:g.metadata.Unicode.widths||{0:1},kerning:g.metadata.Unicode.kerning||{}}:{font:g.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var s=1*this.internal.scaleFactor*t/a;i.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/a:0,i.lineIndent=n.lineIndent;var u,c,f=[];for(u=0,c=r.length;u<c;u++)f=f.concat(e5.apply(this,[r[u],s,i]));return f},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},r={},a=0;a<t.length;a++)n[t[a]]="0123456789abcdef"[a],r["0123456789abcdef"[a]]=t[a];var i=function(g){return"0x"+parseInt(g,10).toString(16)},s=e.__fontmetrics__.compress=function(g){var b,m,j,w,P=["{"];for(var x in g){if(b=g[x],isNaN(parseInt(x,10))?m="'"+x+"'":(x=parseInt(x,10),m=(m=i(x).slice(2)).slice(0,-1)+r[m.slice(-1)]),typeof b=="number")b<0?(j=i(b).slice(3),w="-"):(j=i(b).slice(2),w=""),j=w+j.slice(0,-1)+r[j.slice(-1)];else{if($t(b)!=="object")throw new Error("Don't know what to do with value type "+$t(b)+".");j=s(b)}P.push(m+j)}return P.push("}"),P.join("")},u=e.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var b,m,j,w,P={},x=1,v=P,S=[],B="",J="",ne=g.length-1,U=1;U<ne;U+=1)(w=g[U])=="'"?b?(j=b.join(""),b=void 0):b=[]:b?b.push(w):w=="{"?(S.push([v,j]),v={},j=void 0):w=="}"?((m=S.pop())[0][m[1]]=v,j=void 0,v=m[0]):w=="-"?x=-1:j===void 0?n.hasOwnProperty(w)?(B+=n[w],j=parseInt(B,16)*x,x=1,B=""):B+=w:n.hasOwnProperty(w)?(J+=n[w],v[j]=parseInt(J,16)*x,x=1,j=void 0,J=""):J+=w;return P},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},y={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(g){var b=g.font,m=y.Unicode[b.postScriptName];m&&(b.metadata.Unicode={},b.metadata.Unicode.widths=m.widths,b.metadata.Unicode.kerning=m.kerning);var j=f.Unicode[b.postScriptName];j&&(b.metadata.Unicode.encoding=j,b.encoding=j.codePages[0])}])}(ft.API),function(e){var t=function(n){for(var r=n.length,a=new Uint8Array(r),i=0;i<r;i++)a[i]=n.charCodeAt(i);return a};e.API.events.push(["addFont",function(n){var r=void 0,a=n.font,i=n.instance;if(!a.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(r=i.existsFileInVFS(a.postScriptName)===!1?i.loadFile(a.postScriptName):i.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(s,u){u=/^\x00\x01\x00\x00/.test(u)?t(u):t(mu(u)),s.metadata=e.API.TTFFont.open(u),s.metadata.Unicode=s.metadata.Unicode||{encoding:{},kerning:{},widths:[]},s.metadata.glyIdsUsed=[0]})(a,r)}}])}(ft),function(e){function t(){return(ht.canvg?Promise.resolve(ht.canvg):fm(()=>import("./index.es-nbfZFKoh.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}ft.API.addSvgAsImage=function(n,r,a,i,s,u,c,f){if(isNaN(r)||isNaN(a))throw Kt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(i)||isNaN(s))throw Kt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var y=document.createElement("canvas");y.width=i,y.height=s;var g=y.getContext("2d");g.fillStyle="#fff",g.fillRect(0,0,y.width,y.height);var b={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return t().then(function(j){return j.fromString(g,n,b)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(b)}).then(function(){m.addImage(y.toDataURL("image/jpeg",1),r,a,i,s,c,f)})}}(),ft.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var a=0;a<this.internal.pages[r].length;a++)this.internal.pages[r][a]=this.internal.pages[r][a].replace(t,n);return this},ft.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var r,a,i,s={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(s),c=[],f=0,y=0,g=0;function b(j,w){var P,x=!1;for(P=0;P<j.length;P+=1)j[P]===w&&(x=!0);return x}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(s)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,e==="reset"||t===!0){var m=u.length;for(g=0;g<m;g+=1)n[u[g]].value=n[u[g]].defaultValue,n[u[g]].explicitSet=!1}if($t(e)==="object"){for(a in e)if(i=e[a],b(u,a)&&i!==void 0){if(n[a].type==="boolean"&&typeof i=="boolean")n[a].value=i;else if(n[a].type==="name"&&b(n[a].valueSet,i))n[a].value=i;else if(n[a].type==="integer"&&Number.isInteger(i))n[a].value=i;else if(n[a].type==="array"){for(f=0;f<i.length;f+=1)if(r=!0,i[f].length===1&&typeof i[f][0]=="number")c.push(String(i[f]-1));else if(i[f].length>1){for(y=0;y<i[f].length;y+=1)typeof i[f][y]!="number"&&(r=!1);r===!0&&c.push([i[f][0]-1,i[f][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,w=[];for(j in n)n[j].explicitSet===!0&&(n[j].type==="name"?w.push("/"+j+" /"+n[j].value):w.push("/"+j+" "+n[j].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(r)),s=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),f=i.length+s.length+u.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+f+" >>"),this.internal.write("stream"),this.internal.write(a+i+s+u+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(r,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(ft.API),function(e){var t=e.API,n=t.pdfEscape16=function(i,s){for(var u,c=s.metadata.Unicode.widths,f=["","0","00","000","0000"],y=[""],g=0,b=i.length;g<b;++g){if(u=s.metadata.characterToGlyph(i.charCodeAt(g)),s.metadata.glyIdsUsed.push(u),s.metadata.toUnicode[u]=i.charCodeAt(g),c.indexOf(u)==-1&&(c.push(u),c.push([parseInt(s.metadata.widthOfGlyph(u),10)])),u=="0")return y.join("");u=u.toString(16),y.push(f[4-u.length],u)}return y.join("")},r=function(i){var s,u,c,f,y,g,b;for(y=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],g=0,b=(u=Object.keys(i).sort(function(m,j){return m-j})).length;g<b;g++)s=u[g],c.length>=100&&(y+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[s]!==void 0&&i[s]!==null&&typeof i[s].toString=="function"&&(f=("0000"+i[s].toString(16)).slice(-4),s=("0000"+(+s).toString(16)).slice(-4),c.push("<"+s+"><"+f+">"));return c.length&&(y+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),y+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};t.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,f=s.newObject,y=s.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="Identity-H"){for(var g=u.metadata.Unicode.widths,b=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),m="",j=0;j<b.length;j++)m+=String.fromCharCode(b[j]);var w=f();y({data:m,addLength1:!0,objectId:w}),c("endobj");var P=f();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:P}),c("endobj");var x=f();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ko(u.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),c("/Flags "+u.metadata.flags),c("/StemV "+u.metadata.stemV),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c(">>"),c("endobj");var v=f();c("<<"),c("/Type /Font"),c("/BaseFont /"+ko(u.fontName)),c("/FontDescriptor "+x+" 0 R"),c("/W "+e.API.PDFObject.convert(g)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+u.encoding+")"),c(">>"),c(">>"),c("endobj"),u.objectNumber=f(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+P+" 0 R"),c("/BaseFont /"+ko(u.fontName)),c("/Encoding /"+u.encoding),c("/DescendantFonts ["+v+" 0 R]"),c(">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]),t.events.push(["putFont",function(i){(function(s){var u=s.font,c=s.out,f=s.newObject,y=s.putStream;if(u.metadata instanceof e.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var g=u.metadata.rawData,b="",m=0;m<g.length;m++)b+=String.fromCharCode(g[m]);var j=f();y({data:b,addLength1:!0,objectId:j}),c("endobj");var w=f();y({data:r(u.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var P=f();c("<<"),c("/Descent "+u.metadata.decender),c("/CapHeight "+u.metadata.capHeight),c("/StemV "+u.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+j+" 0 R"),c("/Flags 96"),c("/FontBBox "+e.API.PDFObject.convert(u.metadata.bbox)),c("/FontName /"+ko(u.fontName)),c("/ItalicAngle "+u.metadata.italicAngle),c("/Ascent "+u.metadata.ascender),c(">>"),c("endobj"),u.objectNumber=f();for(var x=0;x<u.metadata.hmtx.widths.length;x++)u.metadata.hmtx.widths[x]=parseInt(u.metadata.hmtx.widths[x]*(1e3/u.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+ko(u.fontName)+"/FontDescriptor "+P+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),c("endobj"),u.isAlreadyPutted=!0}})(i)}]);var a=function(i){var s,u=i.text||"",c=i.x,f=i.y,y=i.options||{},g=i.mutex||{},b=g.pdfEscape,m=g.activeFontKey,j=g.fonts,w=m,P="",x=0,v="",S=j[w].encoding;if(j[w].encoding!=="Identity-H")return{text:u,x:c,y:f,options:y,mutex:g};for(v=u,w=m,Array.isArray(u)&&(v=u[0]),x=0;x<v.length;x+=1)j[w].metadata.hasOwnProperty("cmap")&&(s=j[w].metadata.cmap.unicode.codeMap[v[x].charCodeAt(0)]),s||v[x].charCodeAt(0)<256&&j[w].metadata.hasOwnProperty("Unicode")?P+=v[x]:P+="";var B="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?B=b(P,w).split("").map(function(J){return J.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(B=n(P,j[w])),g.isHex=!0,{text:B,x:c,y:f,options:y,mutex:g}};t.events.push(["postProcessText",function(i){var s=i.text||"",u=[],c={text:s,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(s)){var f=0;for(f=0;f<s.length;f+=1)Array.isArray(s[f])&&s[f].length===3?u.push([a(Object.assign({},c,{text:s[f][0]})).text,s[f][1],s[f][2]]):u.push(a(Object.assign({},c,{text:s[f]})).text);i.text=u}else i.text=a(Object.assign({},c,{text:s})).text}])}(ft),function(e){var t=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0},e.addFileToVFS=function(n,r){return t.call(this),this.internal.vFS[n]=r,this},e.getFileFromVFS=function(n){return t.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(ft.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(r){var a,i,s,u,c,f,y,g=t,b=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],m=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},P=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],x=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),v=!1,S=0;this.__bidiEngine__={};var B=function(E){var _=E.charCodeAt(),W=_>>8,F=w[W];return F!==void 0?g[256*F+(255&_)]:W===252||W===253?"AL":x.test(W)?"L":W===8?"R":"N"},J=function(E){for(var _,W=0;W<E.length;W++){if((_=B(E.charAt(W)))==="L")return!1;if(_==="R")return!0}return!1},ne=function(E,_,W,F){var te,Z,de,D,X=_[F];switch(X){case"L":case"R":v=!1;break;case"N":case"AN":break;case"EN":v&&(X="AN");break;case"AL":v=!0,X="R";break;case"WS":X="N";break;case"CS":F<1||F+1>=_.length||(te=W[F-1])!=="EN"&&te!=="AN"||(Z=_[F+1])!=="EN"&&Z!=="AN"?X="N":v&&(Z="AN"),X=Z===te?Z:"N";break;case"ES":X=(te=F>0?W[F-1]:"B")==="EN"&&F+1<_.length&&_[F+1]==="EN"?"EN":"N";break;case"ET":if(F>0&&W[F-1]==="EN"){X="EN";break}if(v){X="N";break}for(de=F+1,D=_.length;de<D&&_[de]==="ET";)de++;X=de<D&&_[de]==="EN"?"EN":"N";break;case"NSM":if(s&&!u){for(D=_.length,de=F+1;de<D&&_[de]==="NSM";)de++;if(de<D){var re=E[F],ke=re>=1425&&re<=2303||re===64286;if(te=_[de],ke&&(te==="R"||te==="AL")){X="R";break}}}X=F<1||(te=_[F-1])==="B"?"N":W[F-1];break;case"B":v=!1,a=!0,X=S;break;case"S":i=!0,X="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":v=!1;break;case"BN":X="N"}return X},U=function(E,_,W){var F=E.split("");return W&&T(F,W,{hiLevel:S}),F.reverse(),_&&_.reverse(),F.join("")},T=function(E,_,W){var F,te,Z,de,D,X=-1,re=E.length,ke=0,C=[],$=S?m:b,q=[];for(v=!1,a=!1,i=!1,te=0;te<re;te++)q[te]=B(E[te]);for(Z=0;Z<re;Z++){if(D=ke,C[Z]=ne(E,q,C,Z),F=240&(ke=$[D][j[C[Z]]]),ke&=15,_[Z]=de=$[ke][5],F>0)if(F===16){for(te=X;te<Z;te++)_[te]=1;X=-1}else X=-1;if($[ke][6])X===-1&&(X=Z);else if(X>-1){for(te=X;te<Z;te++)_[te]=de;X=-1}q[Z]==="B"&&(_[Z]=0),W.hiLevel|=de}i&&function(Y,ae,fe){for(var ye=0;ye<fe;ye++)if(Y[ye]==="S"){ae[ye]=S;for(var ve=ye-1;ve>=0&&Y[ve]==="WS";ve--)ae[ve]=S}}(q,_,re)},V=function(E,_,W,F,te){if(!(te.hiLevel<E)){if(E===1&&S===1&&!a)return _.reverse(),void(W&&W.reverse());for(var Z,de,D,X,re=_.length,ke=0;ke<re;){if(F[ke]>=E){for(D=ke+1;D<re&&F[D]>=E;)D++;for(X=ke,de=D-1;X<de;X++,de--)Z=_[X],_[X]=_[de],_[de]=Z,W&&(Z=W[X],W[X]=W[de],W[de]=Z);ke=D}ke++}}},se=function(E,_,W){var F=E.split(""),te={hiLevel:S};return W||(W=[]),T(F,W,te),function(Z,de,D){if(D.hiLevel!==0&&y)for(var X,re=0;re<Z.length;re++)de[re]===1&&(X=P.indexOf(Z[re]))>=0&&(Z[re]=P[X+1])}(F,W,te),V(2,F,_,W,te),V(1,F,_,W,te),F.join("")};return this.__bidiEngine__.doBidiReorder=function(E,_,W){if(function(te,Z){if(Z)for(var de=0;de<te.length;de++)Z[de]=de;u===void 0&&(u=J(te)),f===void 0&&(f=J(te))}(E,_),s||!c||f)if(s&&c&&u^f)S=u?1:0,E=U(E,_,W);else if(!s&&c&&f)S=u?1:0,E=se(E,_,W),E=U(E,_);else if(!s||u||c||f){if(s&&!c&&u^f)E=U(E,_),u?(S=0,E=se(E,_,W)):(S=1,E=se(E,_,W),E=U(E,_));else if(s&&u&&!c&&f)S=1,E=se(E,_,W),E=U(E,_);else if(!s&&!c&&u^f){var F=y;u?(S=1,E=se(E,_,W),S=0,y=!1,E=se(E,_,W),y=F):(S=0,E=se(E,_,W),E=U(E,_),S=1,y=!1,E=se(E,_,W),y=F,E=U(E,_))}}else S=0,E=se(E,_,W);else S=u?1:0,E=se(E,_,W);return E},this.__bidiEngine__.setOptions=function(E){E&&(s=E.isInputVisual,c=E.isOutputVisual,u=E.isInputRtl,f=E.isOutputRtl,y=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(r){var a=r.text;r.x,r.y;var i=r.options||{};r.mutex,i.lang;var s=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,n.setOptions(i),Object.prototype.toString.call(a)==="[object Array]"){var u=0;for(s=[],u=0;u<a.length;u+=1)Object.prototype.toString.call(a[u])==="[object Array]"?s.push([n.doBidiReorder(a[u][0]),a[u][1],a[u][2]]):s.push([n.doBidiReorder(a[u])]);r.text=s}else r.text=n.doBidiReorder(a);n.setOptions({isInputVisual:!0})}])}(ft),ft.API.TTFFont=function(){function e(t){var n;if(this.rawData=t,n=this.contents=new rs(t),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Z6(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new B6(this.contents),this.head=new U6(this),this.name=new W6(this),this.cmap=new Cv(this),this.toUnicode={},this.hhea=new q6(this),this.maxp=new G6(this),this.hmtx=new K6(this),this.post=new H6(this),this.os2=new $6(this),this.loca=new Q6(this),this.glyf=new Y6(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var t,n,r,a,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var s,u,c,f;for(f=[],s=0,u=(c=this.bbox).length;s<u;s++)t=c[s],f.push(Math.round(t*this.scaleFactor));return f}).call(this),this.stemV=0,this.post.exists?(r=255&(a=this.post.italic_angle),32768&(n=a>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(t){var n;return((n=this.cmap.unicode)!=null?n.codeMap[t]:void 0)||0},e.prototype.widthOfGlyph=function(t){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(t).advance*n},e.prototype.widthOfString=function(t,n,r){var a,i,s,u;for(s=0,i=0,u=(t=""+t).length;0<=u?i<u:i>u;i=0<=u?++i:--i)a=t.charCodeAt(i),s+=this.widthOfGlyph(this.characterToGlyph(a))+r*(1e3/n)||0;return s*(n/1e3)},e.prototype.lineHeight=function(t,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*t},e}();var La,rs=function(){function e(t){this.data=t??[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(t){return this.data[this.pos++]=t},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(t){return this.writeByte(t>>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt32=function(){var t;return(t=this.readUInt32())>=2147483648?t-4294967296:t},e.prototype.writeInt32=function(t){return t<0&&(t+=4294967296),this.writeUInt32(t)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(t){return this.writeByte(t>>8&255),this.writeByte(255&t)},e.prototype.readInt16=function(){var t;return(t=this.readUInt16())>=32768?t-65536:t},e.prototype.writeInt16=function(t){return t<0&&(t+=65536),this.writeUInt16(t)},e.prototype.readString=function(t){var n,r;for(r=[],n=0;0<=t?n<t:n>t;n=0<=t?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},e.prototype.writeString=function(t){var n,r,a;for(a=[],n=0,r=t.length;0<=r?n<r:n>r;n=0<=r?++n:--n)a.push(this.writeByte(t.charCodeAt(n)));return a},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(t){return this.writeInt16(t)},e.prototype.readLongLong=function(){var t,n,r,a,i,s,u,c;return t=this.readByte(),n=this.readByte(),r=this.readByte(),a=this.readByte(),i=this.readByte(),s=this.readByte(),u=this.readByte(),c=this.readByte(),128&t?-1*(72057594037927940*(255^t)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^a)+16777216*(255^i)+65536*(255^s)+256*(255^u)+(255^c)+1):72057594037927940*t+281474976710656*n+1099511627776*r+4294967296*a+16777216*i+65536*s+256*u+c},e.prototype.writeLongLong=function(t){var n,r;return n=Math.floor(t/4294967296),r=4294967295&t,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(t){return this.writeInt32(t)},e.prototype.read=function(t){var n,r;for(n=[],r=0;0<=t?r<t:r>t;r=0<=t?++r:--r)n.push(this.readByte());return n},e.prototype.write=function(t){var n,r,a,i;for(i=[],r=0,a=t.length;r<a;r++)n=t[r],i.push(this.writeByte(n));return i},e}(),B6=function(){var e;function t(n){var r,a,i;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},a=0,i=this.tableCount;0<=i?a<i:a>i;a=0<=i?++a:--a)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return t.prototype.encode=function(n){var r,a,i,s,u,c,f,y,g,b,m,j,w;for(w in m=Object.keys(n).length,c=Math.log(2),g=16*Math.floor(Math.log(m)/c),s=Math.floor(g/c),y=16*m-g,(a=new rs).writeInt(this.scalarType),a.writeShort(m),a.writeShort(g),a.writeShort(s),a.writeShort(y),i=16*m,f=a.pos+i,u=null,j=[],n)for(b=n[w],a.writeString(w),a.writeInt(e(b)),a.writeInt(f),a.writeInt(b.length),j=j.concat(b),w==="head"&&(u=f),f+=b.length;f%4;)j.push(0),f++;return a.write(j),r=2981146554-e(a.data),a.pos=u+8,a.writeUInt32(r),a.data},e=function(n){var r,a,i,s;for(n=_v.call(n);n.length%4;)n.push(0);for(i=new rs(n),a=0,r=0,s=n.length;r<s;r=r+=4)a+=i.readUInt32();return 4294967295&a},t}(),z6={}.hasOwnProperty,qa=function(e,t){for(var n in t)z6.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};La=function(){function e(t){var n;this.file=t,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var U6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="head",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},t.prototype.encode=function(n){var r;return(r=new rs).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},t}(),r5=function(){function e(t,n){var r,a,i,s,u,c,f,y,g,b,m,j,w,P,x,v,S;switch(this.platformID=t.readUInt16(),this.encodingID=t.readShort(),this.offset=n+t.readInt(),g=t.pos,t.pos=this.offset,this.format=t.readUInt16(),this.length=t.readUInt16(),this.language=t.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=t.readByte();break;case 4:for(m=t.readUInt16(),b=m/2,t.pos+=6,i=function(){var B,J;for(J=[],c=B=0;0<=b?B<b:B>b;c=0<=b?++B:--B)J.push(t.readUInt16());return J}(),t.pos+=2,w=function(){var B,J;for(J=[],c=B=0;0<=b?B<b:B>b;c=0<=b?++B:--B)J.push(t.readUInt16());return J}(),f=function(){var B,J;for(J=[],c=B=0;0<=b?B<b:B>b;c=0<=b?++B:--B)J.push(t.readUInt16());return J}(),y=function(){var B,J;for(J=[],c=B=0;0<=b?B<b:B>b;c=0<=b?++B:--B)J.push(t.readUInt16());return J}(),a=(this.length-t.pos+this.offset)/2,u=function(){var B,J;for(J=[],c=B=0;0<=a?B<a:B>a;c=0<=a?++B:--B)J.push(t.readUInt16());return J}(),c=x=0,S=i.length;x<S;c=++x)for(P=i[c],r=v=j=w[c];j<=P?v<=P:v>=P;r=j<=P?++v:--v)y[c]===0?s=r+f[c]:(s=u[y[c]/2+(r-j)-(b-c)]||0)!==0&&(s+=f[c]),this.codeMap[r]=65535&s}t.pos=g}return e.encode=function(t,n){var r,a,i,s,u,c,f,y,g,b,m,j,w,P,x,v,S,B,J,ne,U,T,V,se,E,_,W,F,te,Z,de,D,X,re,ke,C,$,q,Y,ae,fe,ye,ve,Be,Ie,We;switch(F=new rs,s=Object.keys(t).sort(function(Ve,at){return Ve-at}),n){case"macroman":for(w=0,P=function(){var Ve=[];for(j=0;j<256;++j)Ve.push(0);return Ve}(),v={0:0},i={},te=0,X=s.length;te<X;te++)v[ve=t[a=s[te]]]==null&&(v[ve]=++w),i[a]={old:t[a],new:v[t[a]]},P[a]=v[t[a]];return F.writeUInt16(1),F.writeUInt16(0),F.writeUInt32(12),F.writeUInt16(0),F.writeUInt16(262),F.writeUInt16(0),F.write(P),{charMap:i,subtable:F.data,maxGlyphID:w+1};case"unicode":for(_=[],g=[],S=0,v={},r={},x=f=null,Z=0,re=s.length;Z<re;Z++)v[J=t[a=s[Z]]]==null&&(v[J]=++S),r[a]={old:J,new:v[J]},u=v[J]-a,x!=null&&u===f||(x&&g.push(x),_.push(a),f=u),x=a;for(x&&g.push(x),g.push(65535),_.push(65535),se=2*(V=_.length),T=2*Math.pow(Math.log(V)/Math.LN2,2),b=Math.log(T/2)/Math.LN2,U=2*V-T,c=[],ne=[],m=[],j=de=0,ke=_.length;de<ke;j=++de){if(E=_[j],y=g[j],E===65535){c.push(0),ne.push(0);break}if(E-(W=r[E].new)>=32768)for(c.push(0),ne.push(2*(m.length+V-j)),a=D=E;E<=y?D<=y:D>=y;a=E<=y?++D:--D)m.push(r[a].new);else c.push(W-E),ne.push(0)}for(F.writeUInt16(3),F.writeUInt16(1),F.writeUInt32(12),F.writeUInt16(4),F.writeUInt16(16+8*V+2*m.length),F.writeUInt16(0),F.writeUInt16(se),F.writeUInt16(T),F.writeUInt16(b),F.writeUInt16(U),fe=0,C=g.length;fe<C;fe++)a=g[fe],F.writeUInt16(a);for(F.writeUInt16(0),ye=0,$=_.length;ye<$;ye++)a=_[ye],F.writeUInt16(a);for(Be=0,q=c.length;Be<q;Be++)u=c[Be],F.writeUInt16(u);for(Ie=0,Y=ne.length;Ie<Y;Ie++)B=ne[Ie],F.writeUInt16(B);for(We=0,ae=m.length;We<ae;We++)w=m[We],F.writeUInt16(w);return{charMap:r,subtable:F.data,maxGlyphID:S+1}}},e}(),Cv=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="cmap",t.prototype.parse=function(n){var r,a,i;for(n.pos=this.offset,this.version=n.readUInt16(),i=n.readUInt16(),this.tables=[],this.unicode=null,a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)r=new r5(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(n,r){var a,i;return r==null&&(r="macroman"),a=r5.encode(n,r),(i=new rs).writeUInt16(0),i.writeUInt16(1),a.table=i.data.concat(a.subtable),a},t}(),q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="hhea",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},t}(),$6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="OS/2",t.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,a;for(a=[],r=0;r<10;++r)a.push(n.readByte());return a}(),this.charRange=function(){var r,a;for(a=[],r=0;r<4;++r)a.push(n.readInt());return a}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,a;for(a=[],r=0;r<2;r=++r)a.push(n.readInt());return a}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},t}(),H6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="post",t.prototype.parse=function(n){var r,a,i;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var s;for(a=n.readUInt16(),this.glyphNameIndex=[],s=0;0<=a?s<a:s>a;s=0<=a?++s:--s)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],i=[];n.pos<this.offset+this.length;)r=n.readByte(),i.push(this.names.push(n.readString(r)));return i;case 151552:return a=n.readUInt16(),this.offsets=n.read(a);case 196608:break;case 262144:return this.map=(function(){var u,c,f;for(f=[],s=u=0,c=this.file.maxp.numGlyphs;0<=c?u<c:u>c;s=0<=c?++u:--u)f.push(n.readUInt32());return f}).call(this)}},t}(),V6=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},W6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="name",t.prototype.parse=function(n){var r,a,i,s,u,c,f,y,g,b,m;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),a=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)a.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(f={},s=g=0,b=a.length;g<b;s=++g)i=a[s],n.pos=i.offset,y=n.readString(i.length),u=new V6(y,i),f[m=i.nameID]==null&&(f[m]=[]),f[i.nameID].push(u);this.strings=f,this.copyright=f[0],this.fontFamily=f[1],this.fontSubfamily=f[2],this.uniqueSubfamily=f[3],this.fontName=f[4],this.version=f[5];try{this.postscriptName=f[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=f[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=f[7],this.manufacturer=f[8],this.designer=f[9],this.description=f[10],this.vendorUrl=f[11],this.designerUrl=f[12],this.license=f[13],this.licenseUrl=f[14],this.preferredFamily=f[15],this.preferredSubfamily=f[17],this.compatibleFull=f[18],this.sampleText=f[19]},t}(),G6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="maxp",t.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},t}(),K6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="hmtx",t.prototype.parse=function(n){var r,a,i,s,u,c,f;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(i=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var y,g;for(g=[],r=y=0;0<=i?y<i:y>i;r=0<=i?++y:--y)g.push(n.readInt16());return g}(),this.widths=(function(){var y,g,b,m;for(m=[],y=0,g=(b=this.metrics).length;y<g;y++)s=b[y],m.push(s.advance);return m}).call(this),a=this.widths[this.widths.length-1],f=[],r=u=0;0<=i?u<i:u>i;r=0<=i?++u:--u)f.push(this.widths.push(a));return f},t.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},t}(),_v=[].slice,Y6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(n){var r,a,i,s,u,c,f,y,g,b;return n in this.cache?this.cache[n]:(s=this.file.loca,r=this.file.contents,a=s.indexOf(n),(i=s.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+a,u=(c=new rs(r.read(i))).readShort(),y=c.readShort(),b=c.readShort(),f=c.readShort(),g=c.readShort(),this.cache[n]=u===-1?new X6(c,y,b,f,g):new J6(c,u,y,b,f,g),this.cache[n]))},t.prototype.encode=function(n,r,a){var i,s,u,c,f;for(u=[],s=[],c=0,f=r.length;c<f;c++)i=n[r[c]],s.push(u.length),i&&(u=u.concat(i.encode(a)));return s.push(u.length),{table:u,offsets:s}},t}(),J6=function(){function e(t,n,r,a,i,s){this.raw=t,this.numberOfContours=n,this.xMin=r,this.yMin=a,this.xMax=i,this.yMax=s,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),X6=function(){function e(t,n,r,a,i){var s,u;for(this.raw=t,this.xMin=n,this.yMin=r,this.xMax=a,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],s=this.raw;u=s.readShort(),this.glyphOffsets.push(s.pos),this.glyphIDs.push(s.readUInt16()),32&u;)s.pos+=1&u?4:2,128&u?s.pos+=8:64&u?s.pos+=4:8&u&&(s.pos+=2)}return e.prototype.encode=function(){var t,n,r;for(n=new rs(_v.call(this.raw.data)),t=0,r=this.glyphIDs.length;t<r;++t)n.pos=this.glyphOffsets[t];return n.data},e}(),Q6=function(e){function t(){return t.__super__.constructor.apply(this,arguments)}return qa(t,La),t.prototype.tag="loca",t.prototype.parse=function(n){var r,a;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=2)s.push(2*n.readUInt16());return s}).call(this):(function(){var i,s;for(s=[],a=0,i=this.length;a<i;a+=4)s.push(n.readUInt32());return s}).call(this)},t.prototype.indexOf=function(n){return this.offsets[n]},t.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},t.prototype.encode=function(n,r){for(var a=new Uint32Array(this.offsets.length),i=0,s=0,u=0;u<a.length;++u)if(a[u]=i,s<r.length&&r[s]==u){++s,a[u]=i;var c=this.offsets[u],f=this.offsets[u+1]-c;f>0&&(i+=f)}for(var y=new Array(4*a.length),g=0;g<a.length;++g)y[4*g+3]=255&a[g],y[4*g+2]=(65280&a[g])>>8,y[4*g+1]=(16711680&a[g])>>16,y[4*g]=(4278190080&a[g])>>24;return y},t}(),Z6=function(){function e(t){this.font=t,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var t,n,r,a,i;for(n in a=this.font.cmap.tables[0].codeMap,t={},i=this.subset)r=i[n],t[n]=a[r];return t},e.prototype.glyphsFor=function(t){var n,r,a,i,s,u,c;for(a={},s=0,u=t.length;s<u;s++)a[i=t[s]]=this.font.glyf.glyphFor(i);for(i in n=[],a)(r=a[i])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(i in c=this.glyphsFor(n))r=c[i],a[i]=r;return a},e.prototype.encode=function(t,n){var r,a,i,s,u,c,f,y,g,b,m,j,w,P,x;for(a in r=Cv.encode(this.generateCmap(),"unicode"),s=this.glyphsFor(t),m={0:0},x=r.charMap)m[(c=x[a]).old]=c.new;for(j in b=r.maxGlyphID,s)j in m||(m[j]=b++);return y=function(v){var S,B;for(S in B={},v)B[v[S]]=S;return B}(m),g=Object.keys(y).sort(function(v,S){return v-S}),w=function(){var v,S,B;for(B=[],v=0,S=g.length;v<S;v++)u=g[v],B.push(y[u]);return B}(),i=this.font.glyf.encode(s,w,m),f=this.font.loca.encode(i.offsets,w),P={cmap:this.font.cmap.raw(),glyf:i.table,loca:f,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(P["OS/2"]=this.font.os2.raw()),this.font.directory.encode(P)},e}();ft.API.PDFObject=function(){var e;function t(){}return e=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},t.convert=function(n){var r,a,i,s;if(Array.isArray(n))return"["+function(){var u,c,f;for(f=[],u=0,c=n.length;u<c;u++)r=n[u],f.push(t.convert(r));return f}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(a in i=["<<"],n)s=n[a],i.push("/"+a+" "+t.convert(s));return i.push(">>"),i.join(`
`)}return""+n},t}();const np=[{value:"income",label:"Gelir"},{value:"expense",label:"Gider"}],Ei=[{value:"cash",label:"Nakit"},{value:"pos",label:"POS"},{value:"transfer",label:"Havale/EFT"},{value:"online",label:"Online"}],a5=["TRY","USD","EUR"],Pv=["Kapora Geliri","Rezervasyon Kalan Ödemesi","Rezervasyon Ödemesi","Ekstra Harcama","Restoran/Bar","Mini Bar","Spa","Diğer Gelir"],jd=["Acente Komisyonu","Finansal Komisyon","Vergiler","Personel Giderleri","Fatura Giderleri","Tedarikçi","Elektrik/Su/Doğalgaz","Bakım-Onarım","İade/İptal","Diğer Gider"],bo=e=>e==="expense"?jd:Pv,xs=e=>e&&(e._id||e.id)||"",zr=e=>new Date(e).toISOString().slice(0,10),Ri=()=>zr(new Date),eS=()=>{const e=new Date,t=e.getDay()||7;return e.setDate(e.getDate()-t+1),zr(e)},i5=()=>{const e=new Date;return e.setDate(1),zr(e)},s5=e=>{const t=new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0");return`${n}-${r}`},tS=e=>new Date(`${e}-01T00:00:00`).toLocaleDateString("tr-TR",{month:"long",year:"numeric"}),an=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY"}).format(Number(e||0)),bs=(e,t)=>{const[n,r]=ee.useState(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch{return t}});return ee.useEffect(()=>{localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,r]};function nS({data:e=[],height:t=40}){if(!e.length)return o.jsx("div",{className:"muted",children:"Veri yok"});const n=Math.max(120,e.length*14),r=Math.max(...e,1),a=Math.min(...e,0),i=r-a||1,s=e.map((u,c)=>{const f=c/(e.length-1)*(n-4)+2,y=t-4-(u-a)/i*(t-8);return`${f},${y}`}).join(" ");return o.jsx("svg",{width:n,height:t,children:o.jsx("polyline",{points:s,fill:"none",stroke:"currentColor",strokeWidth:"2",opacity:"0.85"})})}const o5=(e,t)=>{const n=new Date(e);return n.setDate(n.getDate()+t),n},rS=(e,t)=>{const n=new Date(e);return n.setMonth(n.getMonth()+t),n};function aS({startDate:e,frequency:t,count:n}){const r=[];let a=new Date(e);for(let i=0;i<n;i++)r.push(zr(a)),t==="daily"?a=o5(a,1):t==="weekly"?a=o5(a,7):a=rS(a,1);return r}const kd=(e="")=>String(e||"").toLowerCase(),iS=e=>{const t=kd(e);return t.includes("nakit")||t.includes("cash")?"cash":t.includes("pos")||t.includes("card")||t.includes("kredi")||t.includes("kart")?"pos":t.includes("online")||t.includes("stripe")||t.includes("iyzico")||t.includes("virtual")||t.includes("pay")?"online":(t.includes("havale")||t.includes("eft")||t.includes("transfer"),"transfer")},sS=(e,t="")=>String(e).trim().toUpperCase();function Tv(){const[e,t]=ee.useState([]),[n,r]=ee.useState(0),[a,i]=bs("fin.page",1),[s,u]=ee.useState(1),[c]=ee.useState(12),[f,y]=ee.useState(!1),[g,b]=ee.useState({incomeTry:0,expenseTry:0,netTry:0}),[m,j]=bs("fin.filters",{start:i5(),end:Ri(),type:"",method:"",category:"",q:""}),[w,P]=bs("fin.sort",{by:"date",dir:"desc"}),x={type:"expense",amount:"",method:"cash",currency:"TRY",fxRate:1,category:jd[jd.length-1],date:Ri(),note:"",recurring:{enabled:!1,frequency:"monthly",count:3}},[v,S]=ee.useState(x),[B,J]=ee.useState([]),[ne,U]=ee.useState(null),[T,V]=ee.useState(!1),[se,E]=ee.useState(!1),[_,W]=bs("fin.sync.opts",{includePayments:!0,includePlannedBalance:!0,onlyConfirmed:!0}),F=ee.useRef(null),te=ee.useMemo(()=>{const z=new Map,ge=new Date(m.start||Ri()),Ee=new Date(m.end||Ri());for(let De=new Date(ge);De<=Ee;De.setDate(De.getDate()+1))z.set(zr(De),0);return e.forEach(De=>{const Ce=zr(De.date||De.createdAt||new Date),$e=Number(De.amountTry??(De.amount||0)*(De.fxRate||1))*(De.type==="income"?1:-1);z.set(Ce,(z.get(Ce)||0)+$e)}),Array.from(z.values())},[e,m.start,m.end]),Z=(z,ge)=>{const Ee=[];if(!z||!ge)return Ee;const De=new Date(z);De.setDate(1);const Ce=new Date(ge);Ce.setDate(1);for(let $e=new Date(De);$e<=Ce;$e.setMonth($e.getMonth()+1))Ee.push(s5($e));return Ee},de=ee.useMemo(()=>{const z=Z(m.start,m.end),ge=()=>({kapora:0,kalan:0,rez:0,digerGelir:0,acente:0,finansal:0,vergiler:0,personel:0,fatura:0,digerGider:0}),Ee=new Map(z.map(Ce=>[Ce,ge()]));return e.forEach(Ce=>{const $e=s5(Ce.date||Ce.createdAt||new Date);Ee.has($e)||Ee.set($e,ge());const Ae=Ee.get($e),ot=Number(Ce.amountTry??Number(Ce.amount||0)*Number(Ce.fxRate||1))||0;if(Ce.type==="income"){const nt=Ce.category||"";nt==="Kapora Geliri"?Ae.kapora+=ot:nt==="Rezervasyon Kalan Ödemesi"?Ae.kalan+=ot:nt==="Rezervasyon Ödemesi"?Ae.rez+=ot:Ae.digerGelir+=ot}else{const nt=Ce.category||"";nt==="Acente Komisyonu"?Ae.acente+=ot:nt==="Finansal Komisyon"?Ae.finansal+=ot:nt==="Vergiler"||nt==="Vergi/Harç"?Ae.vergiler+=ot:nt==="Personel Giderleri"||nt==="Maaş/SGK"?Ae.personel+=ot:nt==="Fatura Giderleri"?Ae.fatura+=ot:Ae.digerGider+=ot}}),z.map(Ce=>{const $e=Ee.get(Ce)||ge(),Ae=$e.kapora+$e.kalan+$e.rez+$e.digerGelir,ot=$e.acente+$e.finansal+$e.vergiler+$e.personel+$e.fatura+$e.digerGider,nt=Ae-ot;return{k:Ce,...$e,gelirTop:Ae,giderTop:ot,net:nt}})},[e,m.start,m.end]),D=()=>{const z=new URLSearchParams;return z.set("page",a),z.set("limit",c),m.start&&z.set("start",m.start),m.end&&z.set("end",m.end),m.type&&z.set("type",m.type),m.method&&z.set("method",m.method),m.category&&z.set("category",m.category),m.q&&z.set("q",m.q),z.toString()},X=async()=>{var z,ge,Ee,De,Ce;y(!0);try{const $e=D(),{data:Ae}=await st.get(`/finance/entries?${$e}`),ot=[...Ae.items||[]].sort((nt,gt)=>{const At=nt[w.by],Et=gt[w.by],kt=Ct=>w.by==="date"?new Date(Ct).getTime():typeof Ct=="string"?Ct.toLowerCase():Number(Ct||0),mt=kt(At),kn=kt(Et);return w.dir==="asc"?mt-kn:kn-mt});t(ot),r(Ae.total||ot.length),u(Ae.pages||1),b({incomeTry:Number(((z=Ae==null?void 0:Ae.summary)==null?void 0:z.incomeTry)||0),expenseTry:Number(((ge=Ae==null?void 0:Ae.summary)==null?void 0:ge.expenseTry)||0),netTry:Number(((Ee=Ae==null?void 0:Ae.summary)==null?void 0:Ee.netTry)||0)})}catch($e){alert(((Ce=(De=$e==null?void 0:$e.response)==null?void 0:De.data)==null?void 0:Ce.message)||"Liste alınamadı.")}finally{y(!1),J([])}};ee.useEffect(()=>{X()},[a,w.by,w.dir]);const re=z=>{j(ge=>z(ge)),F.current&&clearTimeout(F.current),F.current=setTimeout(()=>{i(1),X()},400)},ke={today:()=>re(z=>({...z,start:Ri(),end:Ri()})),week:()=>re(z=>({...z,start:eS(),end:Ri()})),month:()=>re(z=>({...z,start:i5(),end:Ri()}))},C=async z=>{var ge;if(z==="TRY"){S(Ee=>({...Ee,fxRate:1}));return}try{const{data:Ee}=await st.get(`/finance/rates?base=${z}&symbols=TRY`),De=Number(((ge=Ee==null?void 0:Ee.rates)==null?void 0:ge.TRY)||0)||0;S(Ce=>({...Ce,fxRate:De||1}))}catch{S(Ee=>({...Ee,fxRate:1}))}},$=async z=>{var Ee,De;z.preventDefault();const ge=Number(v.amount||0);if(ge<=0)return alert("Tutar 0’dan büyük olmalı.");try{if(v.recurring.enabled){const $e=aS({startDate:v.date,frequency:v.recurring.frequency,count:Number(v.recurring.count||1)}).map(Ae=>({type:v.type,method:v.method,category:v.category,amount:ge,currency:v.currency,fxRate:v.fxRate,date:Ae,note:v.note,source:"manual"}));await st.post("/finance/entries/bulk",{entries:$e})}else await st.post("/finance/entries",{type:v.type,method:v.method,category:v.category,amount:ge,currency:v.currency,fxRate:v.fxRate,date:v.date,note:v.note,source:"manual"});S({...x,type:v.type,currency:v.currency,category:bo(v.type)[0]}),i(1),await X()}catch(Ce){alert(((De=(Ee=Ce==null?void 0:Ce.response)==null?void 0:Ee.data)==null?void 0:De.message)||"Kayıt oluşturulamadı.")}},q=z=>{U({...z,_id:xs(z),date:zr(z.date||z.createdAt),currency:z.currency||"TRY",fxRate:Number(z.fxRate||1),amount:Number(z.amount||0)}),V(!0)},Y=async z=>{var Ee,De;z.preventDefault();const ge=xs(ne);if(!ge)return alert("Kayıt kimliği bulunamadı.");try{await st.put(`/finance/entries/${ge}`,{type:ne.type,method:ne.method,category:ne.category,amount:Number(ne.amount||0),currency:ne.currency,fxRate:Number(ne.fxRate||1),date:ne.date,note:ne.note||""}),V(!1),await X()}catch(Ce){alert(((De=(Ee=Ce==null?void 0:Ce.response)==null?void 0:Ee.data)==null?void 0:De.message)||"Güncelleme başarısız.")}},ae=async z=>{const ge=xs(z);if(!ge)return alert("Kayıt kimliği bulunamadı.");window.confirm("Bu kaydı silmek istiyor musun?")&&(await st.delete(`/finance/entries/${ge}`),await X())},fe=async()=>{B.length&&window.confirm(`${B.length} kayıt silinsin mi?`)&&(await Promise.all(B.filter(Boolean).map(z=>st.delete(`/finance/entries/${z}`))),await X())},ye=async()=>{if(!B.length)return;const z=prompt(`Yöntem (${Ei.map(ge=>ge.value).join(", ")}):`);if(!z||!Ei.some(ge=>ge.value===z))return alert("Geçersiz yöntem.");await Promise.all(B.map(ge=>st.put(`/finance/entries/${ge}`,{method:z}))),await X()},ve=async()=>{if(!B.length)return;const z=prompt("Kategori girin:");z&&(await Promise.all(B.map(ge=>st.put(`/finance/entries/${ge}`,{category:z}))),await X())},Be=async()=>{const z=D();let ge=[],Ee=1;const De=500;for(;;){const gt=await st.get(`/finance/entries?${z}&page=${Ee}&limit=${De}`);if(ge=ge.concat(gt.data.items||[]),ge.length>=(gt.data.total||ge.length))break;Ee++}const $e=[["Date","Type","Method","Category","Amount","Currency","FX Rate","Amount(TRY)","Note"],...ge.map(gt=>[zr(gt.date||gt.createdAt),gt.type,gt.method,gt.category,String(gt.amount||0).replace(".",","),gt.currency||"TRY",String(gt.fxRate||1).replace(".",","),String(Number(gt.amountTry??(gt.amount||0)*(gt.fxRate||1))||0).replace(".",","),gt.note||""])].map(gt=>gt.map(At=>`"${String(At).replace(/"/g,'""')}"`).join(";")).join(`
`),Ae=new Blob([$e],{type:"text/csv;charset=utf-8;"}),ot=URL.createObjectURL(Ae),nt=document.createElement("a");nt.href=ot,nt.download=`finance_${new Date().toISOString().slice(0,10)}.csv`,document.body.appendChild(nt),nt.click(),nt.remove(),URL.revokeObjectURL(ot)},Ie=z=>{var $e;const ge=new ft,Ee=localStorage.getItem("hotelName")||"Otel";ge.setFontSize(14),ge.text(`${Ee} - Gelir/Gider Fişi`,14,18),ge.setFontSize(11);const De=[["Tarih",new Date(z.date||z.createdAt).toLocaleString("tr-TR")],["Tip",z.type==="income"?"Gelir":"Gider"],["Yöntem",(($e=Ei.find(Ae=>Ae.value===z.method))==null?void 0:$e.label)||z.method],["Kategori",z.category],["Tutar",`${z.amount} ${z.currency||"TRY"}`],["Kur",`${z.fxRate||1}`],["Tutar (TRY)",an(z.amountTry??(z.amount||0)*(z.fxRate||1))],["Not",z.note||"-"]];let Ce=32;De.forEach(([Ae,ot])=>{ge.text(`${Ae}:`,14,Ce),ge.text(String(ot),60,Ce),Ce+=8}),ge.line(14,Ce,196,Ce),Ce+=10,ge.setFontSize(10),ge.text("Otomatik oluşturulmuştur.",14,Ce),ge.save(`fis_${zr(z.date||z.createdAt)}.pdf`)},We=()=>{const z=new ft,ge=localStorage.getItem("hotelName")||"Otel";z.setFontSize(14),z.text(`${ge} - Özet (${m.start} ~ ${m.end})`,14,18),z.setFontSize(11);let Ee=26;z.text(`Gelir: ${an(g.incomeTry)}   Gider: ${an(g.expenseTry)}   Net: ${an(g.netTry)}`,14,Ee),Ee+=8,z.line(14,Ee,196,Ee),Ee+=6,z.setFontSize(10),z.text("Tarih",14,Ee),z.text("Tip",40,Ee),z.text("Yöntem",63,Ee),z.text("Kategori",96,Ee),z.text("Tutar",160,Ee,{align:"right"}),Ee+=5,z.line(14,Ee,196,Ee),Ee+=4,e.forEach(De=>{var Ce;Ee>280&&(z.addPage(),Ee=18),z.text(new Date(De.date||De.createdAt).toLocaleDateString("tr-TR"),14,Ee),z.text(De.type==="income"?"Gelir":"Gider",40,Ee),z.text(((Ce=Ei.find($e=>$e.value===De.method))==null?void 0:Ce.label)||De.method,63,Ee),z.text(String(De.category||""),96,Ee),z.text(`${De.amount||0} ${De.currency||"TRY"}`,196,Ee,{align:"right"}),Ee+=6}),z.save(`ozet_${m.start}_${m.end}.pdf`)},Ve=ee.useMemo(()=>[{key:"select",label:""},{key:"date",label:"Tarih"},{key:"type",label:"Tip"},{key:"method",label:"Yöntem"},{key:"category",label:"Kategori"},{key:"amount",label:"Tutar"},{key:"fx",label:"Kur"},{key:"try",label:"Tutar (TRY)"},{key:"note",label:"Not"},{key:"actions",label:"Aksiyon"}],[]),at=z=>{["select","actions","note","fx","try"].includes(z)||P(ge=>ge.by===z?{by:z,dir:ge.dir==="asc"?"desc":"asc"}:{by:z,dir:"asc"})},we=z=>J(z.target.checked?e.map(xs).filter(Boolean):[]),Q=z=>J(ge=>ge.includes(z)?ge.filter(Ee=>Ee!==z):[...ge,z]),Je=(z,ge)=>{const Ee=[];return z.forEach(De=>{var Et;const Ce=De._id||De.id,$e=((Et=De.guest)==null?void 0:Et.name)||De.guestName||De.primaryGuest||"Misafir",Ae=De.channel||De.source||"-",ot=De.checkIn||De.arrivalDate||De.startDate,nt=Number(De.totalPrice??De.total??0)||0,gt=Array.isArray(De.payments)?De.payments:Array.isArray(De.paymentHistory)?De.paymentHistory:Array.isArray(De.transactions)?De.transactions:[],At=gt.some(kt=>{const mt=Number(kt.amount||kt.total||0)||0,kn=kt.date||kt.createdAt||ot||new Date;return mt>0&&ot&&new Date(kn)<new Date(ot)});if(ge.includePayments&&gt.forEach(kt=>{const mt=Number(kt.amount||kt.total||0)||0,kn=sS(kt.currency||"TRY","TRY"),Ct=Number(kt.fxRate||kt.rate||1)||1,pn=kt.date||kt.createdAt||ot||new Date,cr=iS(kt.method||kt.type||""),Dt=mt<0||kd(kt.kind).includes("refund")||kd(kt.type).includes("refund")||kd(kt.type).includes("iade");let ct="Rezervasyon Ödemesi";!Dt&&ot&&(new Date(pn)<new Date(ot)?ct="Kapora Geliri":ct=At?"Rezervasyon Kalan Ödemesi":"Rezervasyon Ödemesi"),Ee.push({type:Dt?"expense":"income",method:cr,category:Dt?"İade/İptal":ct,amount:Math.abs(mt),currency:kn,fxRate:Ct,date:zr(pn),note:`${Dt?"İade":"Ödeme"} • ${$e} • ${Ae}`,uniqueKey:`res:${Ce}:pay:${kt._id||zr(pn)}:${Math.abs(mt)}`,source:Dt?"res_refund":"res_payment",reservation:Ce,guestName:$e,channel:Ae})}),ge.includePlannedBalance){const kt=gt.reduce((kn,Ct)=>kn+Math.max(0,Number(Ct.amount||0)),0),mt=Math.max(0,nt-kt);mt>0&&ot&&Ee.push({type:"income",method:"transfer",category:At?"Rezervasyon Kalan Ödemesi":"Rezervasyon Ödemesi",amount:mt,currency:"TRY",fxRate:1,date:zr(ot),note:`Check-in kalan tahsilat • ${$e} • ${Ae}`,uniqueKey:`res:${Ce}:balance:${zr(ot)}:${mt}`,source:"res_balance",reservation:Ce,guestName:$e,channel:Ae})}}),Ee},Me=async()=>{var z,ge,Ee,De;try{y(!0);const Ce=new URLSearchParams;m.start&&Ce.set("start",m.start),m.end&&Ce.set("end",m.end),_.onlyConfirmed&&Ce.set("status","confirmed");const{data:$e}=await st.get(`/reservations?${Ce.toString()}`),Ae=Array.isArray($e.items)?$e.items:Array.isArray($e)?$e:[];if(!Ae.length){alert("Seçilen aralıkta rezervasyon bulunamadı.");return}const ot=Je(Ae,_);if(!ot.length){alert("Eklenecek hareket bulunamadı.");return}const nt=await st.post("/finance/entries/bulk",{entries:ot}),gt=(((z=nt.data)==null?void 0:z.upserted)||0)+(((ge=nt.data)==null?void 0:ge.inserted)||0);alert(`Rezervasyonlardan aktarılan: ${gt} hareket`),await X()}catch(Ce){alert(((De=(Ee=Ce==null?void 0:Ce.response)==null?void 0:Ee.data)==null?void 0:De.message)||"Eşitleme başarısız.")}finally{y(!1)}},[_e,qe]=bs("fin.filterOpen",!1),[ze,Ge]=bs("fin.createOpen",!1),[et,it]=bs("fin.accountOpen",!0);return o.jsxs("div",{children:[o.jsx(qs,{title:"Gelir & Gider",subtitle:"Ay bazlı muhasebe • Kapora/Kalan/Ödeme sınıflandırma • Döviz • Tekrarlı • CSV/PDF • Rezervasyon entegrasyonu"}),o.jsxs("div",{className:"card",style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:ke.today,children:"Bugün"}),o.jsx("button",{className:"btn",onClick:ke.week,children:"Bu Hafta"}),o.jsx("button",{className:"btn",onClick:ke.month,children:"Bu Ay"}),o.jsx("button",{className:"btn",onClick:()=>qe(z=>!z),"aria-expanded":_e,style:{background:"linear-gradient(135deg,#34d399 0%,#22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},children:_e?"Filtreleri Gizle":"Filtrele"}),o.jsx("button",{className:"btn",onClick:()=>Ge(z=>!z),"aria-expanded":ze,style:{background:"linear-gradient(135deg,#34d399 0%,#22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},children:ze?"Gelir/Gider Ekle (Gizle)":"Gelir/Gider Ekle"}),o.jsx("button",{className:"btn",onClick:()=>it(z=>!z),"aria-expanded":et,style:{background:"linear-gradient(135deg,#fbbf24 0%,#f472b6 100%)",border:"none",color:"#0b1220",fontWeight:700},children:et?"Muhasebe Özeti (Gizle)":"Muhasebe Özeti (Ay Bazlı)"}),o.jsxs("div",{style:{marginLeft:"auto",display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>E(!0),children:"Rezervasyonlardan getir"}),B.length>0&&o.jsxs(o.Fragment,{children:[o.jsx("button",{className:"btn",onClick:ye,children:"Toplu: Yöntem"}),o.jsx("button",{className:"btn",onClick:ve,children:"Toplu: Kategori"}),o.jsxs("button",{className:"btn danger",onClick:fe,children:["Seçili Sil (",B.length,")"]})]}),o.jsx("button",{className:"btn",onClick:We,children:"PDF (günlük/filtre)"}),o.jsx("button",{className:"btn",onClick:Be,children:"CSV"})]})]}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height 0.25s ease",maxHeight:_e?2e3:0,marginBottom:_e?16:0},children:o.jsxs("div",{className:"card",children:[o.jsxs("form",{className:"form-grid",onSubmit:z=>{z.preventDefault(),i(1),X()},children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Başlangıç"}),o.jsx("input",{className:"input",type:"date",value:m.start,onChange:z=>re(ge=>({...ge,start:z.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Bitiş"}),o.jsx("input",{className:"input",type:"date",value:m.end,onChange:z=>re(ge=>({...ge,end:z.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tip"}),o.jsxs("select",{className:"select",value:m.type,onChange:z=>re(ge=>({...ge,type:z.target.value,category:""})),children:[o.jsx("option",{value:"",children:"Hepsi"}),np.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yöntem"}),o.jsxs("select",{className:"select",value:m.method,onChange:z=>re(ge=>({...ge,method:z.target.value})),children:[o.jsx("option",{value:"",children:"Hepsi"}),Ei.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kategori"}),o.jsxs("select",{className:"select",value:m.category,onChange:z=>re(ge=>({...ge,category:z.target.value})),children:[o.jsx("option",{value:"",children:"Hepsi"}),(m.type?bo(m.type):[...Pv,...jd]).map(z=>o.jsx("option",{value:z,children:z},z))]})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / span 2"},children:[o.jsx("span",{className:"field-label",children:"Ara"}),o.jsx("input",{className:"input",placeholder:"Not, kategori…",value:m.q,onChange:z=>re(ge=>({...ge,q:z.target.value}))})]}),o.jsx("div",{style:{display:"flex",alignItems:"end"},children:o.jsx("button",{className:"btn",children:"Filtrele"})})]}),o.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(4,minmax(0,1fr))",gap:12,marginTop:12},children:[o.jsxs("div",{className:"card",style:{padding:"10px"},children:[o.jsx("div",{className:"label",children:"Gelir"}),o.jsx("div",{className:"value",children:an(g.incomeTry)})]}),o.jsxs("div",{className:"card",style:{padding:"10px"},children:[o.jsx("div",{className:"label",children:"Gider"}),o.jsx("div",{className:"value",children:an(g.expenseTry)})]}),o.jsxs("div",{className:"card",style:{padding:"10px"},children:[o.jsx("div",{className:"label",children:"Net"}),o.jsx("div",{className:"value",children:an(g.netTry)})]}),o.jsxs("div",{className:"card",style:{padding:"6px 10px"},children:[o.jsx("div",{className:"label",children:"Nakit Akışı"}),o.jsx(nS,{data:te})]})]})]})}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height 0.25s ease",maxHeight:et?4e3:0,marginBottom:et?16:0},children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Muhasebe Özeti (Ay Bazlı)"}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Ay"}),o.jsx("th",{children:"Kapora"}),o.jsx("th",{children:"Kalan"}),o.jsx("th",{children:"Rez. Ödemesi"}),o.jsx("th",{children:"Diğer Gelir"}),o.jsx("th",{children:"Gelir Toplamı"}),o.jsx("th",{children:"Acente Kom."}),o.jsx("th",{children:"Finansal Kom."}),o.jsx("th",{children:"Vergiler"}),o.jsx("th",{children:"Personel"}),o.jsx("th",{children:"Fatura"}),o.jsx("th",{children:"Diğer Gider"}),o.jsx("th",{children:"Gider Toplamı"}),o.jsx("th",{children:"Net Kâr"})]})}),o.jsxs("tbody",{children:[de.map(z=>o.jsxs("tr",{children:[o.jsx("td",{style:{fontWeight:600},children:tS(z.k)}),o.jsx("td",{children:an(z.kapora)}),o.jsx("td",{children:an(z.kalan)}),o.jsx("td",{children:an(z.rez)}),o.jsx("td",{children:an(z.digerGelir)}),o.jsx("td",{style:{fontWeight:700},children:an(z.gelirTop)}),o.jsx("td",{children:an(z.acente)}),o.jsx("td",{children:an(z.finansal)}),o.jsx("td",{children:an(z.vergiler)}),o.jsx("td",{children:an(z.personel)}),o.jsx("td",{children:an(z.fatura)}),o.jsx("td",{children:an(z.digerGider)}),o.jsx("td",{style:{fontWeight:700},children:an(z.giderTop)}),o.jsx("td",{style:{fontWeight:800,color:z.net>=0?"#10b981":"#ef4444"},children:an(z.net)})]},z.k)),de.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:14,className:"muted",children:"Aralıkta veri yok"})})]})]})})]})}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height 0.25s ease",maxHeight:ze?2e3:0,marginBottom:ze?16:0},children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Yeni Kayıt"}),o.jsxs("form",{className:"form-grid",onSubmit:$,children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tip"}),o.jsx("select",{className:"select",value:v.type,onChange:z=>S(ge=>({...ge,type:z.target.value,category:bo(z.target.value)[0]})),children:np.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tutar"}),o.jsx("input",{className:"input",type:"number",min:"0",placeholder:"Örn. 1200",value:v.amount,onChange:z=>S({...v,amount:z.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Para Birimi"}),o.jsx("select",{className:"select",value:v.currency,onChange:async z=>{const ge=z.target.value;S({...v,currency:ge}),await C(ge)},children:a5.map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{className:"field",children:[o.jsxs("span",{className:"field-label",children:["Kur (1 ",v.currency," = ? TRY)"]}),o.jsx("input",{className:"input",type:"number",step:"0.0001",value:v.fxRate,onChange:z=>S({...v,fxRate:z.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yöntem"}),o.jsx("select",{className:"select",value:v.method,onChange:z=>S({...v,method:z.target.value}),children:Ei.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kategori"}),o.jsx("select",{className:"select",value:v.category,onChange:z=>S({...v,category:z.target.value}),children:bo(v.type).map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tarih"}),o.jsx("input",{className:"input",type:"date",value:v.date,onChange:z=>S({...v,date:z.target.value})})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Not"}),o.jsx("textarea",{className:"input",rows:2,placeholder:"Opsiyonel",value:v.note,onChange:z=>S({...v,note:z.target.value})})]}),o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Tekrarlı"}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center",flexWrap:"wrap"},children:[o.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:8},children:[o.jsx("input",{type:"checkbox",checked:v.recurring.enabled,onChange:z=>S({...v,recurring:{...v.recurring,enabled:z.target.checked}})}),"Etkin"]}),o.jsxs("select",{className:"select",style:{width:160},disabled:!v.recurring.enabled,value:v.recurring.frequency,onChange:z=>S({...v,recurring:{...v.recurring,frequency:z.target.value}}),children:[o.jsx("option",{value:"daily",children:"Günlük"}),o.jsx("option",{value:"weekly",children:"Haftalık"}),o.jsx("option",{value:"monthly",children:"Aylık"})]}),o.jsx("input",{className:"input",style:{width:160},disabled:!v.recurring.enabled,type:"number",min:"1",value:v.recurring.count,onChange:z=>S({...v,recurring:{...v.recurring,count:z.target.value}})}),o.jsx("span",{className:"muted",children:"adet olarak oluştur"})]})]}),o.jsxs("div",{style:{display:"flex",gap:12,alignItems:"center"},children:[o.jsxs("div",{className:"muted",children:["TRY karşılığı: ",o.jsx("b",{children:an(Number(v.amount||0)*Number(v.fxRate||1))})]}),o.jsx("button",{className:"btn primary",children:"Ekle"})]})]})]})}),o.jsxs("div",{className:"card",style:{position:"relative",overflowX:"auto"},children:[f&&o.jsx("div",{style:{position:"absolute",inset:0,display:"flex",alignItems:"center",justifyContent:"center",background:"rgba(0,0,0,.2)",borderRadius:12},children:"Yükleniyor…"}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:o.jsx("input",{type:"checkbox",checked:B.length===e.length&&e.length>0,onChange:we})}),Ve.slice(1).map(z=>o.jsxs("th",{onClick:()=>at(z.key),style:{cursor:["actions","note","fx","try"].includes(z.key)?"default":"pointer"},children:[z.label,w.by===z.key?w.dir==="asc"?" ▲":" ▼":""]},z.key))]})}),o.jsxs("tbody",{children:[e.map(z=>{var ge;return o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("input",{type:"checkbox",checked:B.includes(xs(z)),onChange:()=>Q(xs(z))})}),o.jsx("td",{children:new Date(z.date||z.createdAt).toLocaleDateString("tr-TR")}),o.jsx("td",{children:o.jsx("span",{className:"badge",style:{padding:"4px 8px",borderRadius:999,background:z.type==="income"?"rgba(34,197,94,.15)":"rgba(239,68,68,.15)",border:`1px solid ${z.type==="income"?"rgba(34,197,94,.35)":"rgba(239,68,68,.35)"}`},children:z.type==="income"?"Gelir":"Gider"})}),o.jsx("td",{children:((ge=Ei.find(Ee=>Ee.value===z.method))==null?void 0:ge.label)||z.method}),o.jsx("td",{children:z.category}),o.jsxs("td",{style:{fontWeight:700},children:[z.amount||0," ",z.currency||"TRY"]}),o.jsx("td",{children:Number(z.fxRate||1).toFixed(4)}),o.jsx("td",{style:{fontWeight:700,color:z.type==="income"?"#10b981":"#ef4444"},children:an(z.amountTry??(z.amount||0)*(z.fxRate||1))}),o.jsx("td",{className:"muted",style:{maxWidth:280,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},title:z.note||"",children:z.note||"—"}),o.jsx("td",{children:o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>Ie(z),children:"Fiş PDF"}),o.jsx("button",{className:"btn",onClick:()=>q(z),children:"Düzenle"}),o.jsx("button",{className:"btn",onClick:()=>ae(z),children:"Sil"})]})})]},xs(z))}),e.length===0&&!f&&o.jsx("tr",{children:o.jsx("td",{colSpan:Ve.length,className:"muted",children:"Kayıt bulunamadı"})})]})]}),o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginTop:12},children:[o.jsxs("div",{className:"muted",style:{fontSize:12},children:["Toplam ",n," kayıt • Sayfa ",a,"/",s]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn",disabled:a<=1,onClick:()=>i(z=>z-1),children:"Önceki"}),o.jsx("button",{className:"btn",disabled:a>=s,onClick:()=>i(z=>z+1),children:"Sonraki"})]})]})]}),o.jsx(cm,{open:T,onClose:()=>V(!1),title:"Gelir/Gider Düzenle",children:ne&&o.jsxs("form",{className:"form-grid",onSubmit:Y,children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tip"}),o.jsx("select",{className:"select",value:ne.type,onChange:z=>U(ge=>({...ge,type:z.target.value,category:bo(z.target.value)[0]})),children:np.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tutar"}),o.jsx("input",{className:"input",type:"number",min:"0",value:ne.amount,onChange:z=>U(ge=>({...ge,amount:z.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Para Birimi"}),o.jsx("select",{className:"select",value:ne.currency,onChange:async z=>{var Ee;const ge=z.target.value;U(De=>({...De,currency:ge}));try{const{data:De}=await st.get(`/finance/rates?base=${ge}&symbols=TRY`),Ce=Number(((Ee=De==null?void 0:De.rates)==null?void 0:Ee.TRY)||1)||1;U($e=>({...$e,fxRate:Ce}))}catch{}},children:a5.map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kur"}),o.jsx("input",{className:"input",type:"number",step:"0.0001",value:ne.fxRate,onChange:z=>U(ge=>({...ge,fxRate:z.target.value}))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yöntem"}),o.jsx("select",{className:"select",value:ne.method,onChange:z=>U(ge=>({...ge,method:z.target.value})),children:Ei.map(z=>o.jsx("option",{value:z.value,children:z.label},z.value))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kategori"}),o.jsx("select",{className:"select",value:ne.category,onChange:z=>U(ge=>({...ge,category:z.target.value})),children:bo(ne.type).map(z=>o.jsx("option",{value:z,children:z},z))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tarih"}),o.jsx("input",{className:"input",type:"date",value:ne.date,onChange:z=>U(ge=>({...ge,date:z.target.value}))})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Not"}),o.jsx("textarea",{className:"input",rows:3,value:ne.note||"",onChange:z=>U(ge=>({...ge,note:z.target.value}))})]}),o.jsxs("div",{className:"muted",children:["TRY karşılığı: ",o.jsx("b",{children:an(Number(ne.amount||0)*Number(ne.fxRate||1))})]}),o.jsx("button",{className:"btn primary",children:"Kaydet"})]})}),o.jsxs(cm,{open:se,onClose:()=>E(!1),title:"Rezervasyonlardan Gelir/Gider Aktar",children:[o.jsxs("div",{className:"muted",style:{marginBottom:8},children:["Seçilen tarih aralığındaki rezervasyonlardan ödemeleri, ",o.jsx("b",{children:"check-in öncesini “Kapora”"}),", check-in günü/sonrasını ",o.jsx("b",{children:"“Rezervasyon Ödemesi/Kalan Ödeme”"})," olarak aktarır. Kayıtlar ",o.jsx("b",{children:"uniqueKey"})," ile idempotenttir; aynı dönemi birden çok kez çalıştırmak yinelenen hareket oluşturmaz."]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Tarih aralığı"}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("input",{className:"input",type:"date",value:m.start,onChange:z=>re(ge=>({...ge,start:z.target.value}))}),o.jsx("input",{className:"input",type:"date",value:m.end,onChange:z=>re(ge=>({...ge,end:z.target.value}))})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Opsiyonlar"}),o.jsxs("div",{style:{display:"grid",gap:8},children:[o.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"checkbox",checked:_.includePayments,onChange:z=>W(ge=>({...ge,includePayments:z.target.checked}))}),"Rezervasyon ödeme/iade hareketlerini aktar"]}),o.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"checkbox",checked:_.includePlannedBalance,onChange:z=>W(ge=>({...ge,includePlannedBalance:z.target.checked}))}),"Check-in gününde kalan bakiyeyi planlanan gelir olarak ekle"]}),o.jsxs("label",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("input",{type:"checkbox",checked:_.onlyConfirmed,onChange:z=>W(ge=>({...ge,onlyConfirmed:z.target.checked}))}),"Sadece onaylı rezervasyonlar"]})]})]}),o.jsxs("div",{style:{display:"flex",gap:8},children:[o.jsx("button",{className:"btn primary",onClick:Me,children:"Aktarımı Başlat"}),o.jsx("button",{className:"btn",onClick:()=>E(!1),children:"Kapat"})]})]})]})]})}function Ev({forceHotelIdForMaster:e}){const n=localStorage.getItem("role")==="MASTER_ADMIN",r=!!e,[a,i]=ee.useState([]),[s,u]=ee.useState({channel:"airbnb",credentials:""}),c=["airbnb","booking","etstur"],f=r?`?hotelId=${e}`:"",y=()=>st.get(`/channels${f}`).then(j=>i(j.data));ee.useEffect(()=>{y()},[]);const g=async j=>{j.preventDefault();const w={channel:s.channel,credentials:{raw:s.credentials}};r&&(w.hotelId=e),await st.post(`/channels/connect${r?`?hotelId=${e}`:""}`,w),u({channel:"airbnb",credentials:""}),y()},b=async j=>{await st.post(`/channels/${j}/sync${r?`?hotelId=${e}`:""}`),y(),alert(j+" için senkron tetiklendi (demo)")},m=j=>o.jsx("span",{style:{padding:"4px 8px",borderRadius:999,fontSize:12,background:j?"rgba(16,185,129,.2)":"rgba(239,68,68,.2)",border:`1px solid ${j?"rgba(16,185,129,.4)":"rgba(239,68,68,.4)"}`,color:j?"#10b981":"#ef4444"},children:j?"Bağlı":"Bağlı değil"});return o.jsxs("div",{children:[o.jsx(qs,{title:"Kanal Yönetimi",subtitle:"Bağlantılar & Senkron"}),(!n||r)&&o.jsx("div",{className:"card",style:{marginBottom:16},children:o.jsxs("form",{className:"form-grid",onSubmit:g,children:[o.jsx("select",{className:"select",value:s.channel,onChange:j=>u({...s,channel:j.target.value}),children:c.map(j=>o.jsx("option",{value:j,children:j},j))}),o.jsx("input",{className:"input",placeholder:"Kimlik/Token (demo)",value:s.credentials,onChange:j=>u({...s,credentials:j.target.value})}),o.jsx("button",{className:"btn primary",children:"Bağla / Güncelle"})]})}),o.jsx("div",{className:"kpis",children:c.map(j=>{const w=a.find(v=>v.channel===j),P=w==null?void 0:w.active,x=w!=null&&w.lastSync?new Date(w.lastSync).toLocaleString():"—";return o.jsxs("div",{className:"card",children:[o.jsxs("div",{className:"label",style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{children:j.toUpperCase()}),m(!!P)]}),o.jsxs("div",{style:{marginTop:8,fontSize:12},className:"muted",children:["Son Senkron: ",x]}),o.jsx("div",{style:{marginTop:10,display:"flex",gap:8},children:o.jsx("button",{className:"btn",onClick:()=>b(j),children:"Sync"})})]},j)})})]})}const l5=[{value:"wifi",label:"Wi-Fi"},{value:"ac",label:"Klima"},{value:"tv",label:"TV"},{value:"minibar",label:"Minibar"},{value:"kettle",label:"Su ısıtıcısı"},{value:"safe",label:"Kasa"},{value:"work_desk",label:"Çalışma masası"},{value:"balcony",label:"Balkon"}],oS=[{key:"hasPool",label:"Havuz"},{key:"hasJacuzzi",label:"Jakuzi"}],u5=[{value:"sea",label:"Deniz manzarası"},{value:"lake",label:"Göl manzarası"},{value:"mountain",label:"Dağ manzarası"},{value:"forest",label:"Orman manzarası"},{value:"garden",label:"Bahçe manzarası"},{value:"city",label:"Şehir manzarası"}],lS=[{value:"stove",label:"Ocak"},{value:"cooktop",label:"Set üstü ocak"},{value:"oven",label:"Fırın"},{value:"microwave",label:"Mikrodalga"},{value:"dishwasher",label:"Bulaşık makinesi"},{value:"fridge",label:"Buzdolabı"}],Rv=[{value:"room",label:"Oda"},{value:"suite",label:"Suit"},{value:"villa",label:"Villa"},{value:"bungalow",label:"Bungalov"},{value:"glamping",label:"Glamping"},{value:"tinyhouse",label:"Tiny House"}],c5=[{value:"single",label:"Tek kişilik"},{value:"double",label:"Çift kişilik"},{value:"twin",label:"Twin (iki tek)"},{value:"french",label:"French"},{value:"queen",label:"Queen"},{value:"king",label:"King"},{value:"bunk_single",label:"Ranza (tek)"},{value:"bunk_double",label:"Ranza (çift)"}],rp=[{val:1,kisa:"Pzt",tam:"Pazartesi"},{val:2,kisa:"Sal",tam:"Salı"},{val:3,kisa:"Çar",tam:"Çarşamba"},{val:4,kisa:"Per",tam:"Perşembe"},{val:5,kisa:"Cum",tam:"Cuma"},{val:6,kisa:"Cmt",tam:"Cumartesi"},{val:7,kisa:"Paz",tam:"Pazar"}],nd=(e,t)=>{const[n,r]=ee.useState(()=>{try{const a=localStorage.getItem(e);return a?JSON.parse(a):t}catch{return t}});return ee.useEffect(()=>{try{localStorage.setItem(e,JSON.stringify(n))}catch{}},[e,n]),[n,r]},Hi=e=>{const t=e instanceof Date?e:new Date(e),n=t.getFullYear(),r=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${n}-${r}-${a}`},d5=()=>Hi(new Date),rd=(e,t)=>{const n=new Date(`${e}T00:00:00`);return n.setDate(n.getDate()+t),Hi(n)},ap=(e,t)=>{var n;return((n=e.find(r=>r.value===t))==null?void 0:n.label)||t},f5=e=>{var t;return((t=Rv.find(n=>n.value===e))==null?void 0:t.label)||e},Ql=e=>new Intl.NumberFormat("tr-TR",{style:"currency",currency:"TRY",minimumFractionDigits:0,maximumFractionDigits:0}).format(Number(e||0)),jm=e=>{const n=(e instanceof Date?e:new Date(`${e}T00:00:00`)).getDay();return n===0?7:n},Zl=(e,t="İşlem başarısız")=>{var a;const n=(a=e==null?void 0:e.response)==null?void 0:a.data,r=n==null?void 0:n.errors;if(Array.isArray(r)&&r.length){const i=r.map(s=>{const u=s.param??s.path??"",c=s.value!==void 0?typeof s.value=="object"?JSON.stringify(s.value):String(s.value):void 0;return`• ${s.msg}${u?` [${u}]`:""}${c!==void 0?` ← ${c}`:""}`}).join(`
`);alert(`Doğrulama hatası:
`+i),console.error("API validation errors:",r,"raw:",n)}else alert((n==null?void 0:n.message)||e.message||t),console.error("API error raw response:",n)},wo=e=>{if(!e)return"";if(/^\d{4}-\d{2}-\d{2}$/.test(e))return e;const t=e.match(/^(\d{2})\.(\d{2})\.(\d{4})$/);if(t)return`${t[3]}-${t[2]}-${t[1]}`;const n=new Date(e);return Number.isNaN(+n)?"":Hi(n)};function ws({active:e,onClick:t,children:n}){return o.jsx("span",{className:`chip ${e?"active":""}`,onClick:t,role:"button",tabIndex:0,onKeyDown:r=>(r.key==="Enter"||r.key===" ")&&t(),style:{userSelect:"none"},children:n})}function uS({start:e,end:t,onChange:n}){const[r,a]=ee.useState(()=>{const w=e?new Date(`${e}T00:00:00`):new Date;return w.setDate(1),w}),i=["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"],s=()=>{const w=new Date(r);w.setMonth(w.getMonth()-1),a(w)},u=()=>{const w=new Date(r);w.setMonth(w.getMonth()+1),a(w)},c=()=>n({start:"",end:""}),f=new Date(r),y=(jm(f)+6)%7,g=new Date(r.getFullYear(),r.getMonth()+1,0).getDate(),b=[];for(let w=0;w<y;w++)b.push(null);for(let w=1;w<=g;w++)b.push(new Date(r.getFullYear(),r.getMonth(),w));const m=w=>{const P=Hi(w);if(!e||e&&t)n({start:P,end:""});else{let x=e,v=P;new Date(`${P}T00:00:00`)<new Date(`${e}T00:00:00`)&&(x=P,v=e),n({start:x,end:v})}},j=w=>{if(!e||!t)return!1;const P=new Date(`${Hi(w)}T00:00:00`).getTime(),x=new Date(`${e}T00:00:00`).getTime(),v=new Date(`${t}T00:00:00`).getTime();return P>=x&&P<=v};return o.jsxs("div",{className:"calendar",children:[o.jsxs("div",{className:"cal-head",children:[o.jsxs("div",{className:"cal-nav",children:[o.jsx("button",{type:"button",className:"btn sm",onClick:s,children:"‹"}),o.jsxs("div",{className:"cal-title",children:[i[r.getMonth()]," ",r.getFullYear()]}),o.jsx("button",{type:"button",className:"btn sm",onClick:u,children:"›"})]}),o.jsx("button",{type:"button",className:"btn sm",onClick:c,children:"Temizle"})]}),o.jsxs("div",{className:"cal-grid",children:[["Pzt","Sal","Çar","Per","Cum","Cmt","Paz"].map(w=>o.jsx("div",{className:"cal-wd",children:w},w)),b.map((w,P)=>o.jsx("div",{className:`cal-cell ${w?"":"empty"} ${w&&j(w)?"in-range":""} ${w&&Hi(w)===e?"start":""} ${w&&Hi(w)===t?"end":""}`,onClick:()=>w&&m(w),children:w?w.getDate():""},P))]})]})}function cS(){var Mn;const e=`
    .tabs { display:flex; gap:8px; margin-bottom:12px; flex-wrap:wrap }
    .tab { padding:8px 12px; border:1px solid var(--border, #2e2e2e); border-radius:10px; cursor:pointer }
    .tab.active { background: var(--accent, #0dd); color:#0b0b0b; border-color: transparent; font-weight:600 }

    .calendar { border:1px solid var(--border, #2e2e2e); border-radius:16px; padding:12px; max-width: 420px; background: rgba(255,255,255,0.02) }
    .cal-head { display:flex; justify-content:space-between; align-items:center; margin-bottom:8px }
    .cal-nav { display:flex; align-items:center; gap:8px }
    .cal-title { font-weight:600 }
    .cal-grid { display:grid; grid-template-columns: repeat(7, 1fr); gap:6px }
    .cal-wd { text-align:center; font-size:12px; color:var(--muted,#999) }
    .cal-cell { aspect-ratio:1 / 1; display:flex; align-items:center; justify-content:center; border-radius:10px; cursor:pointer; user-select:none; border:1px solid transparent; }
    .cal-cell:hover { border-color: var(--border, #2e2e2e) }
    .cal-cell.in-range { background: rgba(13,221,221,0.12) }
    .cal-cell.start, .cal-cell.end { background: var(--accent, #0dd); color:#101010; font-weight:700 }
    .cal-cell.empty { opacity:0 }

    .ops-summary, .rule-summary { font-size: 12px; color: var(--muted, #999) }
    .chips { display:flex; gap:8px; flex-wrap:wrap }
  `,[t,n]=ee.useState([]),[r,a]=ee.useState(!1),[i,s]=ee.useState(!1),[u,c]=ee.useState(null),[f,y]=ee.useState(null),[g,b]=ee.useState(""),[m,j]=ee.useState("");ee.useEffect(()=>{const k=setTimeout(()=>j(g.trim().toLowerCase()),300);return()=>clearTimeout(k)},[g]);const w=ee.useRef(null),[P,x]=ee.useState(!1),v={code:"",name:"",basePrice:"",capacityAdults:2,capacityChildren:0,totalRooms:0,bedType:"",sizeSqm:"",smoking:!1,amenities:[],scenicViews:[],hasPool:!1,hasJacuzzi:!1,hasKitchen:!1,kitchenFeatures:[],propertyType:"room",bedrooms:[],unitBedrooms:0,unitBathrooms:0,unitBeds:0,description:"",channelCodes:{direct:"",airbnb:"",booking:"",etstur:""},active:!0},[S,B]=ee.useState(v),[J,ne]=ee.useState(null),[U,T]=ee.useState("takvim"),[V,se]=ee.useState({roomType:"",start:d5(),end:rd(d5(),14),price:"",allotment:"",stopSell:!1,ruleName:"",saveAsRule:!0}),[E,_]=ee.useState([]),[W,F]=ee.useState(!1),te=new Date().getFullYear(),[Z,de]=ee.useState([5,6]),[D,X]=ee.useState(te),[re,ke]=ee.useState(""),[C,$]=ee.useState(!0),[q,Y]=ee.useState("Hafta Sonu"),[ae,fe]=ee.useState([]),[ye,ve]=ee.useState(!0),[Be,Ie]=nd("rooms.invOps",[]),[We,Ve]=nd("rooms.rulesV1",[]),[at,we]=ee.useState(null),[Q,Je]=ee.useState("ALL"),Me=["villa","bungalow","glamping","tinyhouse"].includes(S.propertyType),_e=k=>(k||[]).reduce((xe,be)=>xe+(be.beds||[]).reduce((He,Ye)=>He+Number(Ye.count||0),0),0),qe=k=>{const xe=Math.max(0,Math.min(20,Number(k||0)));B(be=>{const He=[...be.bedrooms||[]];if(xe>He.length)for(let Ye=He.length;Ye<xe;Ye++)He.push({beds:[{count:1,type:"double"}]});else xe<He.length&&(He.length=xe);return{...be,bedrooms:He,unitBedrooms:xe,unitBeds:_e(He)}})},ze=k=>B(xe=>{var He;const be=[...xe.bedrooms];return be[k]={...be[k]||{beds:[]},beds:[...((He=be[k])==null?void 0:He.beds)||[],{count:1,type:"double"}]},{...xe,bedrooms:be,unitBeds:_e(be)}}),Ge=(k,xe,be,He)=>B(Ye=>{const Pt=[...Ye.bedrooms],Rn={...Pt[k]||{beds:[]}},In=[...Rn.beds||[]],Vn={...In[xe]||{count:1,type:"double"}};return be==="count"?Vn.count=Math.max(0,Math.min(10,Number(He||0))):Vn.type=He,In[xe]=Vn,Rn.beds=In,Pt[k]=Rn,{...Ye,bedrooms:Pt,unitBeds:_e(Pt)}}),et=(k,xe)=>B(be=>{const He=[...be.bedrooms],Ye={...He[k]||{beds:[]}},Pt=[...Ye.beds||[]];return Pt.splice(xe,1),Ye.beds=Pt.length?Pt:[{count:1,type:"double"}],He[k]=Ye,{...be,bedrooms:He,unitBeds:_e(He)}}),it=async()=>{var k,xe;a(!0);try{const{data:be}=await st.get("/rooms/types");n(be)}catch(be){alert(((xe=(k=be==null?void 0:be.response)==null?void 0:k.data)==null?void 0:xe.message)||be.message||"Liste yüklenemedi")}finally{a(!1)}};ee.useEffect(()=>{it()},[]),ee.useEffect(()=>{P&&w.current&&(w.current.focus(),x(!1))},[P]);const z=async k=>{var be,He,Ye,Pt,Rn,In,Vn;if(k.preventDefault(),!S.code.trim()||!S.name.trim()){alert("Kod ve Ad zorunludur.");return}const xe={...S,basePrice:Number(S.basePrice||0),capacityAdults:Number(S.capacityAdults||0),capacityChildren:Number(S.capacityChildren||0),totalRooms:Number(S.totalRooms||0),sizeSqm:Number(S.sizeSqm||0),unitBedrooms:Number(Me?((be=S.bedrooms)==null?void 0:be.length)||0:S.unitBedrooms||0),unitBathrooms:Number(S.unitBathrooms||0),unitBeds:Number(Me?_e(S.bedrooms):S.unitBeds||0),bedType:Me?((Rn=(Pt=(Ye=(He=S.bedrooms)==null?void 0:He[0])==null?void 0:Ye.beds)==null?void 0:Pt[0])==null?void 0:Rn.type)||"":S.bedType||""};s(!0);try{J?await st.put(`/rooms/types/${J}`,xe):await st.post("/rooms/types",xe),B(v),ne(null),await it()}catch(hr){alert(((Vn=(In=hr==null?void 0:hr.response)==null?void 0:In.data)==null?void 0:Vn.message)||hr.message||"Kaydedilemedi")}finally{s(!1)}},[ge,Ee]=nd("rooms.formOpen",!1),[De,Ce]=nd("rooms.invOpen",!1),$e=k=>{var xe,be,He,Ye;ne(k._id),B({code:k.code||"",name:k.name||"",basePrice:k.basePrice??"",capacityAdults:k.capacityAdults??2,capacityChildren:k.capacityChildren??0,totalRooms:k.totalRooms??0,bedType:k.bedType||"",sizeSqm:k.sizeSqm??"",smoking:!!k.smoking,amenities:k.amenities||[],scenicViews:k.scenicViews||[],hasPool:!!k.hasPool,hasJacuzzi:!!k.hasJacuzzi,hasKitchen:!!k.hasKitchen,kitchenFeatures:k.kitchenFeatures||[],propertyType:k.propertyType||"room",bedrooms:Array.isArray(k.bedrooms)?k.bedrooms:[],unitBedrooms:k.unitBedrooms??0,unitBathrooms:k.unitBathrooms??0,unitBeds:k.unitBeds??0,description:k.description||"",channelCodes:{direct:((xe=k.channelCodes)==null?void 0:xe.direct)||"",airbnb:((be=k.channelCodes)==null?void 0:be.airbnb)||"",booking:((He=k.channelCodes)==null?void 0:He.booking)||"",etstur:((Ye=k.channelCodes)==null?void 0:Ye.etstur)||""},active:typeof k.active=="boolean"?k.active:!0}),Ee(!0),window.scrollTo({top:0,behavior:"smooth"})},Ae=async k=>{y(k._id);try{const xe={...k};delete xe._id,ne(null),B({...v,...xe,code:"",name:`${k.name} (Kopya)`,channelCodes:{direct:"",airbnb:"",booking:"",etstur:""}}),x(!0),Ee(!0),window.scrollTo({top:0,behavior:"smooth"})}finally{y(null)}},ot=async k=>{var xe,be;if(window.confirm(`“${k.name}” tipini silmek istiyor musun?`)){c(k._id);try{await st.delete(`/rooms/types/${k._id}`),await it()}catch(He){alert(((be=(xe=He==null?void 0:He.response)==null?void 0:xe.data)==null?void 0:be.message)||"Silinemedi")}finally{c(null)}}},nt=(k,xe)=>B(be=>be[k].includes(xe)?{...be,[k]:be[k].filter(He=>He!==xe)}:{...be,[k]:[...be[k],xe]}),gt=async()=>{if(!V.roomType||!V.start||!V.end){_([]);return}try{const{data:k}=await st.get(`/rooms/inventory?roomType=${V.roomType}&start=${V.start}&end=${V.end}`);_(k)}catch{_([])}};ee.useEffect(()=>{gt()},[V.roomType,V.start,V.end]);const At=ee.useMemo(()=>t.map(k=>({value:k._id,label:`${k.name} (${k.code})`})),[t]),Et=k=>{const xe=t.find(be=>be._id===k);return xe?`${xe.name} (${xe.code})`:k},kt=k=>Ie(xe=>[{...k,id:k.id||Date.now()},...xe]),mt=k=>Ie(xe=>xe.filter(be=>be.id!==k)),kn=()=>{window.confirm("Tüm işlem geçmişini silmek istiyor musunuz?")&&Ie([])},Ct=(k,xe,be)=>{const He=new Date(`${k}T00:00:00`),Ye=new Date(`${xe}T00:00:00`),Pt=new Set(be),Rn=[];for(let Or=new Date(He);Or<=Ye;Or.setDate(Or.getDate()+1))Pt.has(jm(Or))&&Rn.push(Hi(Or));if(Rn.length===0)return[];const In=[];let Vn=Rn[0],hr=Rn[0];for(let Or=1;Or<Rn.length;Or++){const Ca=Rn[Or],cl=rd(hr,1);if(Ca===cl){hr=Ca;continue}In.push([Vn,rd(hr,1)]),Vn=Ca,hr=Ca}return In.push([Vn,rd(hr,1)]),In},pn=k=>Ve(xe=>[{...k,id:Date.now()},...xe]),cr=k=>Ve(xe=>xe.filter(be=>be.id!==k)),Dt=async k=>{if(k.type==="range"){const be={roomType:k.roomType,start:k.start,end:k.end,stopSell:!!k.stopSell};k.price!==""&&k.price!=null&&(be.price=Number(k.price)),k.allotment!==""&&k.allotment!=null&&(be.allotment=Number(k.allotment)),await st.post("/rooms/inventory/bulk",be);return}const xe=Ct(k.start,k.end,k.weekdays||[]);for(const[be,He]of xe){const Ye={roomType:k.roomType,start:be,end:He,stopSell:!!k.stopSell};k.price!==""&&k.price!=null&&(Ye.price=Number(k.price)),k.allotment!==""&&k.allotment!=null&&(Ye.allotment=Number(k.allotment)),await st.post("/rooms/inventory/bulk",Ye)}},ct=async k=>{var He;if(k.preventDefault(),!V.roomType||!V.start||!V.end){alert("Oda tipi ve tarih aralığı zorunlu.");return}if(!(V.price!==""||V.allotment!==""||typeof V.stopSell=="boolean")){alert("Fiyat, allotment veya stop-sell’den en az birini giriniz.");return}const be={roomType:V.roomType,start:wo(V.start),end:wo(V.end),stopSell:!!V.stopSell};V.price!==""&&(be.price=Number(V.price)),V.allotment!==""&&(be.allotment=Number(V.allotment)),F(!0);try{await st.post("/rooms/inventory/bulk",be),await gt(),alert("Envanter güncellendi"),kt({kind:"range",when:new Date().toISOString(),roomType:V.roomType,start:be.start,end:be.end,price:be.price??null,allotment:be.allotment??null,stopSell:be.stopSell,payload:be}),V.saveAsRule&&pn({roomType:V.roomType,name:((He=V.ruleName)==null?void 0:He.trim())||"Yeni Kural",type:"range",start:be.start,end:be.end,price:be.price??"",allotment:be.allotment??"",stopSell:be.stopSell,createdAt:new Date().toISOString()})}catch(Ye){Zl(Ye,"Envanter uygulanamadı")}finally{F(!1)}},Rt=async()=>{if(!V.roomType){alert("Oda tipi seçiniz");return}if(re===""){alert("Hafta sonu fiyatını giriniz");return}const k=`${D}-01-01`,xe=`${D}-12-31`,be=[...Z].sort((He,Ye)=>He-Ye);F(!0);try{const He=Ct(k,xe,be);for(const[Ye,Pt]of He)await st.post("/rooms/inventory/bulk",{roomType:V.roomType,start:Ye,end:Pt,price:Number(re),stopSell:!1});await gt(),alert("Hafta sonları uygulandı"),kt({kind:"weekend",when:new Date().toISOString(),roomType:V.roomType,year:D,weekdays:[...be],price:Number(re)}),C&&pn({roomType:V.roomType,name:(q==null?void 0:q.trim())||"Hafta Sonu",type:"days",start:wo(k),end:wo(xe),weekdays:be,price:Number(re),stopSell:!1,createdAt:new Date().toISOString()})}catch(He){Zl(He,"Hafta sonu kuralı uygulanamadı")}finally{F(!1)}},Yr=()=>fe(k=>[...k,{id:Date.now(),ad:"Yeni Kural",weekdays:[1,2,3,4,5],start:V.start,end:V.end,price:""}]),Qt=(k,xe,be)=>fe(He=>He.map(Ye=>Ye.id===k?{...Ye,[xe]:be}:Ye)),dr=(k,xe)=>fe(be=>be.map(He=>He.id===k?{...He,weekdays:He.weekdays.includes(xe)?He.weekdays.filter(Ye=>Ye!==xe):[...He.weekdays,xe]}:He)),fr=k=>fe(xe=>xe.filter(be=>be.id!==k)),lt=(k,xe,be)=>{const He=new Date(`${k}T00:00:00`),Ye=new Date(`${xe}T00:00:00`);if(Ye<He)return 0;let Pt=0;const Rn=new Set(be);for(let In=new Date(He);In<=Ye;In.setDate(In.getDate()+1))Rn.has(jm(In))&&Pt++;return Pt},G=async()=>{var xe;if(!V.roomType){alert("Oda tipi seçiniz");return}const k=ae.filter(be=>{var He;return be.price!==""&&((He=be.weekdays)==null?void 0:He.length)&&be.start&&be.end}).map(be=>{const He=wo(be.start),Ye=wo(be.end);return!He||!Ye||new Date(`${Ye}T00:00:00`)<new Date(`${He}T00:00:00`)?null:{...be,start:He,end:Ye,price:Number(be.price)}}).filter(Boolean);if(!k.length){alert("En az bir geçerli kural giriniz");return}F(!0);try{for(const be of k){const He=Ct(be.start,be.end,be.weekdays);for(const[Ye,Pt]of He)await st.post("/rooms/inventory/bulk",{roomType:V.roomType,start:Ye,end:Pt,price:be.price,stopSell:!1});ye&&pn({roomType:V.roomType,name:((xe=be.ad)==null?void 0:xe.trim())||"Gün Bazlı",type:"days",start:be.start,end:be.end,weekdays:[...be.weekdays],price:be.price,stopSell:!1,createdAt:new Date().toISOString()})}await gt(),alert("Kurallar uygulandı"),kt({kind:"rules",when:new Date().toISOString(),roomType:V.roomType,rules:k.map(({weekdays:be,start:He,end:Ye,price:Pt})=>({weekdays:be,start:He,end:Ye,price:Pt}))})}catch(be){Zl(be,"Kurallar uygulanamadı")}finally{F(!1)}},Re=k=>{var xe;return((xe=rp.find(be=>be.val===k))==null?void 0:xe.tam)||k},pt=(k=[])=>k.slice().sort((xe,be)=>xe-be).map(Re).join(", "),Lt=k=>{if(k.kind==="range"){const xe=[];return k.price!=null&&xe.push(`Fiyat ${Ql(k.price)}`),k.allotment!=null&&xe.push(`Allotment ${k.allotment}`),xe.push(k.stopSell?"Stop-Sell":"Satış Açık"),`${k.start} → ${k.end} • ${xe.join(" / ")}`}if(k.kind==="weekend")return`${k.year} • ${pt(k.weekdays)} • ${Ql(k.price)}`;if(k.kind==="rules"){const xe=k.rules.map(Pt=>Pt.start),be=k.rules.map(Pt=>Pt.end),He=xe.slice().sort()[0],Ye=be.slice().sort().slice(-1)[0];return`${k.rules.length} kural • ${He} → ${Ye}`}return""},It=k=>{if(Ce(!0),k.roomType&&se(xe=>({...xe,roomType:k.roomType})),k.kind==="range")T("takvim"),se(xe=>({...xe,roomType:k.roomType||xe.roomType,start:k.start||xe.start,end:k.end||xe.end,price:k.price??"",allotment:k.allotment??"",stopSell:!!k.stopSell,ruleName:k.name||"Aralık",saveAsRule:!0}));else if(k.kind==="weekend")T("haftasonu"),X(k.year||te),de(k.weekdays||[5,6]),ke(k.price!=null?String(k.price):""),Y(k.name||"Hafta Sonu"),$(!0);else if(k.kind==="rules"){T("gunbazli");const xe=(k.rules||[]).map((be,He)=>({id:Date.now()+He,ad:`Kural ${He+1}`,weekdays:[...be.weekdays||[]],start:be.start,end:be.end,price:be.price}));fe(xe),ve(!0)}window.scrollTo({top:0,behavior:"smooth"})},Vt=async k=>{if(k){F(!0);try{if(k.kind==="range")await st.post("/rooms/inventory/bulk",{roomType:k.roomType,start:k.start,end:k.end,price:k.price??void 0,allotment:k.allotment??void 0,stopSell:!!k.stopSell});else if(k.kind==="weekend"||k.kind==="rules"){const xe=k.kind==="weekend"?[{start:`${k.year}-01-01`,end:`${k.year}-12-31`,weekdays:k.weekdays,price:k.price}]:k.rules||[];for(const be of xe){const He=Ct(be.start,be.end,be.weekdays||[]);for(const[Ye,Pt]of He)await st.post("/rooms/inventory/bulk",{roomType:k.roomType,start:Ye,end:Pt,price:be.price,stopSell:!1})}}await gt(),alert("İşlem tekrar uygulandı")}catch(xe){Zl(xe,"İşlem tekrar uygulanamadı")}finally{F(!1)}}},mn=ee.useMemo(()=>Array.from(new Set(We.map(xe=>xe.roomType))).map(xe=>({id:xe,label:Et(xe),count:We.filter(be=>be.roomType===xe).length})),[We,t]),zt=ee.useMemo(()=>We.filter(k=>Q==="ALL"?!0:k.roomType===Q).sort((k,xe)=>(xe.createdAt||"").localeCompare(k.createdAt||"")),[We,Q]),yt=k=>{const xe=`${k.start} → ${k.end} • ${k.price!=null&&k.price!==""?Ql(k.price):"—"} • ${k.stopSell?"Stop-Sell":"Satış Açık"}`;return k.type==="days"?`${xe} • ${pt(k.weekdays||[])}`:xe},wt=k=>{Ce(!0),we(k.id),se(xe=>({...xe,roomType:k.roomType})),k.type==="range"?(T("takvim"),se(xe=>({...xe,start:k.start,end:k.end,price:k.price??"",allotment:k.allotment??"",stopSell:!!k.stopSell,ruleName:k.name||"Kural",saveAsRule:!0}))):(T("gunbazli"),fe([{id:Date.now(),ad:k.name||"Kural",weekdays:[...k.weekdays||[]],start:k.start,end:k.end,price:k.price??""}]),ve(!0)),window.scrollTo({top:0,behavior:"smooth"})},gn=async k=>{F(!0);try{await Dt(k),await gt(),alert("Kural uygulandı")}catch(xe){Zl(xe,"Kural uygulanamadı")}finally{F(!1)}},Tn=ee.useMemo(()=>m?t.filter(k=>[k.name,k.code,k.bedType,f5(k.propertyType)].filter(Boolean).some(xe=>String(xe).toLowerCase().includes(m))):t,[t,m]),En=k=>{const xe=[...(k.amenities||[]).map(be=>ap(l5,be)),...(k.scenicViews||[]).map(be=>ap(u5,be)),...k.hasPool?["Havuz"]:[],...k.hasJacuzzi?["Jakuzi"]:[],...k.hasKitchen?["Mutfak"]:[],...(k.kitchenFeatures||[]).map(be=>ap(lS,be))].filter(Boolean);return xe.length<=3?xe.join(", "):`${xe.slice(0,3).join(", ")} +${xe.length-3} daha`};return o.jsxs("div",{children:[o.jsx("style",{children:e}),o.jsx(qs,{title:"Oda Tipleri & Envanter",subtitle:"Oda tipi oluştur • Özellikler • Envanter (fiyat/allotment/stop-sell) toplu düzenle • Kayıtlı Kurallar • İşlem geçmişi"}),o.jsxs("div",{className:"card",style:{display:"flex",gap:8,alignItems:"center",marginBottom:12,flexWrap:"wrap"},children:[o.jsx("button",{className:"btn",onClick:()=>Ee(k=>!k),"aria-expanded":ge,style:{background:"linear-gradient(135deg,#34d399 0%,#22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},children:ge?"Oda Ekle (Gizle)":"Oda Ekle"}),o.jsx("button",{className:"btn",onClick:()=>Ce(k=>!k),"aria-expanded":De,style:{background:"linear-gradient(135deg,#34d399 0%,#22d3ee 100%)",border:"none",color:"#0b1220",fontWeight:600},children:De?"Toplu Envanter Düzenle (Gizle)":"Toplu Envanter Düzenle"})]}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height .25s ease",maxHeight:ge?2e3:0,marginBottom:ge?16:0},children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:J?"Oda Tipini Düzenle":"Yeni Oda Tipi"}),o.jsxs("form",{className:"form-grid",onSubmit:z,children:[o.jsxs("label",{className:"field",children:[o.jsxs("span",{className:"field-label",children:["Kod ",o.jsx("small",{className:"muted",children:"(STD, DLX…)"})]}),o.jsx("input",{ref:w,className:"input",value:S.code,onChange:k=>B({...S,code:k.target.value}),required:!0,disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ad"}),o.jsx("input",{className:"input",value:S.name,onChange:k=>B({...S,name:k.target.value}),required:!0,disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Baz Fiyat (₺)"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"10000000",value:S.basePrice,onChange:k=>B({...S,basePrice:Math.max(0,Math.min(1e7,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yetişkin Kapasitesi"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"30",value:S.capacityAdults,onChange:k=>B({...S,capacityAdults:Math.max(0,Math.min(30,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Çocuk Kapasitesi"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"30",value:S.capacityChildren,onChange:k=>B({...S,capacityChildren:Math.max(0,Math.min(30,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Toplam Oda Adedi"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"9999",value:S.totalRooms,onChange:k=>B({...S,totalRooms:Math.max(0,Math.min(9999,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yatak Tipi (genel)"}),o.jsxs("select",{className:"select",value:S.bedType,onChange:k=>B({...S,bedType:k.target.value}),disabled:i,children:[o.jsx("option",{value:"",children:"Seçiniz"}),c5.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Metrekare"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"1000",value:S.sizeSqm,onChange:k=>B({...S,sizeSqm:Math.max(0,Math.min(1e3,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Sigara"}),o.jsxs("select",{className:"select",value:S.smoking?"1":"0",onChange:k=>B({...S,smoking:k.target.value==="1"}),disabled:i,children:[o.jsx("option",{value:"0",children:"İçilmeyen"}),o.jsx("option",{value:"1",children:"İçilebilir"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Konaklama Tipi"}),o.jsx("select",{className:"select",value:S.propertyType,onChange:k=>B({...S,propertyType:k.target.value}),disabled:i,children:Rv.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))})]}),Me?o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yatak Odası Sayısı"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"20",value:((Mn=S.bedrooms)==null?void 0:Mn.length)||0,onChange:k=>qe(k.target.value),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Banyo"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"20",value:S.unitBathrooms,onChange:k=>B({...S,unitBathrooms:Math.max(0,Math.min(20,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Yatak Odası Detayları"}),o.jsx("div",{style:{display:"grid",gap:12},children:(S.bedrooms||[]).map((k,xe)=>o.jsxs("div",{className:"card",style:{padding:12},children:[o.jsxs("div",{className:"label",style:{marginBottom:8},children:["Yatak Odası ",xe+1]}),o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Adet"}),o.jsx("th",{children:"Yatak Tipi"}),o.jsx("th",{className:"right",children:"Aksiyon"})]})}),o.jsxs("tbody",{children:[(k.beds||[]).map((be,He)=>o.jsxs("tr",{children:[o.jsx("td",{style:{width:140},children:o.jsx("input",{className:"input",type:"number",min:"0",max:"10",value:be.count,onChange:Ye=>Ge(xe,He,"count",Ye.target.value),disabled:i})}),o.jsx("td",{children:o.jsx("select",{className:"select",value:be.type,onChange:Ye=>Ge(xe,He,"type",Ye.target.value),disabled:i,children:c5.map(Ye=>o.jsx("option",{value:Ye.value,children:Ye.label},Ye.value))})}),o.jsx("td",{className:"right",children:o.jsx("button",{type:"button",className:"btn sm danger",onClick:()=>et(xe,He),disabled:i,children:"Sil"})})]},He)),(!k.beds||!k.beds.length)&&o.jsx("tr",{children:o.jsx("td",{colSpan:3,className:"muted",children:"Bu odada tanımlı yatak yok."})})]})]}),o.jsx("button",{type:"button",className:"btn sm",onClick:()=>ze(xe),disabled:i,children:"Yatak satırı ekle"})]},xe))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Toplam Yatak (otomatik)"}),o.jsx("input",{className:"input",value:_e(S.bedrooms),readOnly:!0})]})]}):o.jsxs(o.Fragment,{children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yatak Odası (adet)"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"20",value:S.unitBedrooms,onChange:k=>B({...S,unitBedrooms:Math.max(0,Math.min(20,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Banyo"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"20",value:S.unitBathrooms,onChange:k=>B({...S,unitBathrooms:Math.max(0,Math.min(20,Number(k.target.value||0)))}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Toplam Yatak"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"50",value:S.unitBeds,onChange:k=>B({...S,unitBeds:Math.max(0,Math.min(50,Number(k.target.value||0)))}),disabled:i})]})]}),o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Oda Özellikleri"}),o.jsxs("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:[l5.map(k=>o.jsx(ws,{active:S.amenities.includes(k.value),onClick:()=>!i&&nt("amenities",k.value),children:k.label},k.value)),oS.map(k=>o.jsx(ws,{active:!!S[k.key],onClick:()=>!i&&B(xe=>({...xe,[k.key]:!xe[k.key]})),children:k.label},k.key))]})]}),o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Manzara"}),o.jsx("div",{style:{display:"flex",gap:8,flexWrap:"wrap"},children:u5.map(k=>o.jsx(ws,{active:S.scenicViews.includes(k.value),onClick:()=>!i&&nt("scenicViews",k.value),children:k.label},k.value))})]}),o.jsxs("label",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Açıklama"}),o.jsx("textarea",{className:"input",rows:2,value:S.description,onChange:k=>B({...S,description:k.target.value}),disabled:i})]}),o.jsx(dS,{title:"Kanal Kodları (opsiyonel)",children:o.jsxs("div",{className:"form-grid",children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Direct"}),o.jsx("input",{className:"input",value:S.channelCodes.direct,onChange:k=>B({...S,channelCodes:{...S.channelCodes,direct:k.target.value}}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Airbnb"}),o.jsx("input",{className:"input",value:S.channelCodes.airbnb,onChange:k=>B({...S,channelCodes:{...S.channelCodes,airbnb:k.target.value}}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Booking"}),o.jsx("input",{className:"input",value:S.channelCodes.booking,onChange:k=>B({...S,channelCodes:{...S.channelCodes,booking:k.target.value}}),disabled:i})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Etstur"}),o.jsx("input",{className:"input",value:S.channelCodes.etstur,onChange:k=>B({...S,channelCodes:{...S.channelCodes,etstur:k.target.value}}),disabled:i})]})]})}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Durum"}),o.jsxs("select",{className:"select",value:S.active?"1":"0",onChange:k=>B({...S,active:k.target.value==="1"}),disabled:i,children:[o.jsx("option",{value:"1",children:"Aktif"}),o.jsx("option",{value:"0",children:"Pasif"})]})]}),o.jsxs("div",{style:{display:"flex",gap:8,gridColumn:"1 / -1"},children:[o.jsx("button",{className:"btn primary",type:"submit",disabled:i,children:i?"Kaydediliyor…":J?"Güncelle":"Ekle"}),J&&o.jsx("button",{className:"btn",type:"button",onClick:()=>{ne(null),B(v)},disabled:i,children:"Vazgeç"})]})]})]})}),o.jsxs("div",{className:"card",style:{marginBottom:16},children:[o.jsxs("div",{className:"label",style:{marginBottom:8,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[o.jsx("span",{children:"Oda Tipleri"}),o.jsx("input",{className:"input",style:{maxWidth:320},placeholder:"Ara: Kod, Ad, Tip…",value:g,onChange:k=>b(k.target.value)})]}),r?"Yükleniyor…":o.jsxs("table",{className:"table hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Kod"}),o.jsx("th",{children:"Ad"}),o.jsx("th",{children:"Baz Fiyat"}),o.jsx("th",{children:"Kapasite"}),o.jsx("th",{children:"Toplam Oda"}),o.jsx("th",{children:"Tip"}),o.jsx("th",{children:"Özellikler"}),o.jsx("th",{children:"Durum"}),o.jsx("th",{className:"right",children:"Aksiyon"})]})}),o.jsxs("tbody",{children:[Tn.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:k.code}),o.jsx("td",{children:k.name}),o.jsx("td",{children:Ql(k.basePrice)}),o.jsxs("td",{children:[k.capacityAdults,"+",k.capacityChildren]}),o.jsx("td",{children:k.totalRooms}),o.jsx("td",{children:f5(k.propertyType||"room")}),o.jsx("td",{className:"muted",style:{fontSize:12},children:En(k)}),o.jsx("td",{children:k.active===!1?"Pasif":"Aktif"}),o.jsx("td",{className:"right",children:o.jsxs("div",{style:{display:"inline-flex",gap:8},children:[o.jsx("button",{className:"btn sm",onClick:()=>$e(k),disabled:!!u||!!f,children:"Düzenle"}),o.jsx("button",{className:"btn sm",onClick:()=>Ae(k),disabled:!!u||!!f,children:f===k._id?"Kopyalanıyor…":"Kopyala"}),o.jsx("button",{className:"btn sm danger",onClick:()=>ot(k),disabled:u===k._id||!!f,children:u===k._id?"Siliniyor…":"Sil"})]})})]},k._id)),Tn.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:9,className:"muted",children:"Eşleşen oda tipi yok"})})]})]})]}),o.jsx("div",{style:{overflow:"hidden",transition:"max-height .25s ease",maxHeight:De?5e3:0},children:o.jsxs("div",{className:"card",children:[o.jsx("div",{className:"label",style:{marginBottom:8},children:"Envanter (Toplu Düzenleme)"}),o.jsx("div",{className:"form-grid",children:o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Oda Tipi"}),o.jsxs("select",{className:"select",value:V.roomType,onChange:k=>se({...V,roomType:k.target.value}),required:!0,children:[o.jsx("option",{value:"",children:"Seçiniz"}),At.map(k=>o.jsx("option",{value:k.value,children:k.label},k.value))]})]})}),o.jsx("div",{className:"tabs",children:["takvim","haftasonu","gunbazli","islemler"].map(k=>o.jsx("div",{className:`tab ${U===k?"active":""}`,onClick:()=>T(k),children:k==="takvim"?"Takvim":k==="haftasonu"?"Hafta Sonu":k==="gunbazli"?"Gün Bazlı":"İşlemler"},k))}),U==="takvim"&&o.jsxs("form",{className:"form-grid",onSubmit:ct,children:[o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Tarih Aralığı"}),o.jsxs("div",{style:{display:"flex",gap:16,alignItems:"center",flexWrap:"wrap"},children:[o.jsx(uS,{start:V.start,end:V.end,onChange:({start:k,end:xe})=>se(be=>({...be,start:k||be.start,end:xe||""}))}),o.jsxs("div",{className:"muted",children:["Başlangıç: ",o.jsx("b",{children:new Date(`${V.start}T00:00:00`).toLocaleDateString("tr-TR")}),o.jsx("br",{}),"Bitiş: ",o.jsx("b",{children:V.end?new Date(`${V.end}T00:00:00`).toLocaleDateString("tr-TR"):"—"})]})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kural Adı"}),o.jsx("input",{className:"input",placeholder:"Opsiyonel",value:V.ruleName,onChange:k=>se({...V,ruleName:k.target.value})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Fiyat (₺)"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"10000000",placeholder:"Opsiyonel",value:V.price,onChange:k=>se({...V,price:Math.max(0,Math.min(1e7,Number(k.target.value||0)))})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Allotment"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"500",placeholder:"Opsiyonel",value:V.allotment,onChange:k=>se({...V,allotment:Math.max(0,Math.min(500,Number(k.target.value||0)))})})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Satış"}),o.jsxs("select",{className:"select",value:V.stopSell?"1":"0",onChange:k=>se({...V,stopSell:k.target.value==="1"}),children:[o.jsx("option",{value:"0",children:"Açık"}),o.jsx("option",{value:"1",children:"Stop-Sell"})]})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kural Olarak Kaydet"}),o.jsxs("select",{className:"select",value:V.saveAsRule?"1":"0",onChange:k=>se({...V,saveAsRule:k.target.value==="1"}),children:[o.jsx("option",{value:"1",children:"Evet"}),o.jsx("option",{value:"0",children:"Hayır"})]})]}),o.jsx("div",{style:{display:"flex",alignItems:"end"},children:o.jsx("button",{className:"btn primary",style:{minWidth:160},disabled:W,children:W?"Uygulanıyor…":at?"Güncelle & Uygula":"Uygula"})})]}),U==="haftasonu"&&o.jsxs("div",{className:"form-grid",children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kural Adı"}),o.jsx("input",{className:"input",value:q,onChange:k=>Y(k.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Yıl"}),o.jsx("select",{className:"select",value:D,onChange:k=>X(Number(k.target.value)),children:[te-1,te,te+1,te+2].map(k=>o.jsx("option",{value:k,children:k},k))})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Hafta Sonu Günleri"}),o.jsx("div",{className:"chips",children:rp.map(k=>o.jsx(ws,{active:Z.includes(k.val),onClick:()=>de(xe=>xe.includes(k.val)?xe.filter(be=>be!==k.val):[...xe,k.val]),children:k.tam},k.val))}),o.jsx("small",{className:"muted",children:"Genelde Cuma & Cumartesi seçilir."})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Hafta Sonu Fiyatı (₺)"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"10000000",value:re,onChange:k=>ke(k.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Kural Olarak Kaydet"}),o.jsxs("select",{className:"select",value:C?"1":"0",onChange:k=>$(k.target.value==="1"),children:[o.jsx("option",{value:"1",children:"Evet"}),o.jsx("option",{value:"0",children:"Hayır"})]})]}),o.jsx("div",{style:{display:"flex",alignItems:"end"},children:o.jsx("button",{className:"btn",onClick:Rt,disabled:W||!V.roomType,children:W?"Uygulanıyor…":"Yıl Boyu Hafta Sonlarını Uygula"})})]}),U==="gunbazli"&&o.jsxs("div",{className:"card",style:{padding:12},children:[ae.length===0&&o.jsx("div",{className:"muted",style:{marginBottom:8},children:"Henüz kural yok. “+ Kural Ekle” ile başlayın."}),ae.map((k,xe)=>{var He;const be=k.start&&k.end&&((He=k.weekdays)!=null&&He.length)?lt(k.start,k.end,k.weekdays):0;return o.jsxs("div",{className:"card",style:{padding:12,marginBottom:12},children:[o.jsxs("div",{className:"label",style:{marginBottom:8},children:["Kural ",xe+1," — ",k.ad||"isimsiz"," ",be?`• ${be} gün`:""]}),o.jsxs("div",{className:"form-grid",children:[o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Ad"}),o.jsx("input",{className:"input",value:k.ad||"",onChange:Ye=>Qt(k.id,"ad",Ye.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Başlangıç"}),o.jsx("input",{className:"input",type:"date",value:k.start||"",onChange:Ye=>Qt(k.id,"start",Ye.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Bitiş"}),o.jsx("input",{className:"input",type:"date",value:k.end||"",onChange:Ye=>Qt(k.id,"end",Ye.target.value)})]}),o.jsxs("label",{className:"field",children:[o.jsx("span",{className:"field-label",children:"Fiyat (₺)"}),o.jsx("input",{className:"input",type:"number",min:"0",max:"10000000",value:k.price,onChange:Ye=>Qt(k.id,"price",Ye.target.value)})]}),o.jsxs("div",{className:"field",style:{gridColumn:"1 / -1"},children:[o.jsx("span",{className:"field-label",children:"Günler"}),o.jsx("div",{className:"chips",children:rp.map(Ye=>{var Pt;return o.jsx(ws,{active:(Pt=k.weekdays)==null?void 0:Pt.includes(Ye.val),onClick:()=>dr(k.id,Ye.val),children:Ye.tam},Ye.val)})})]})]}),o.jsx("div",{style:{display:"flex",gap:8},children:o.jsx("button",{type:"button",className:"btn sm danger",onClick:()=>fr(k.id),children:"Kuralı Sil"})})]},k.id)}),o.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[o.jsx("button",{type:"button",className:"btn sm",onClick:Yr,children:"+ Kural Ekle"}),o.jsx("button",{type:"button",className:"btn primary",onClick:G,disabled:W||!V.roomType,children:W?"Uygulanıyor…":at?"Güncelle & Uygula":"Kuralları Uygula"}),o.jsxs("label",{style:{display:"inline-flex",alignItems:"center",gap:6},children:[o.jsx("input",{type:"checkbox",checked:ye,onChange:k=>ve(k.target.checked)}),o.jsx("span",{className:"muted",children:"Kural olarak kaydet"})]})]})]}),U==="islemler"&&o.jsxs("div",{className:"card",style:{padding:12},children:[o.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:8},children:[o.jsx("div",{className:"label",children:"İşlem Geçmişi"}),Be.length>0&&o.jsx("button",{className:"btn sm danger",onClick:kn,children:"Hepsini Sil"})]}),o.jsxs("table",{className:"table hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Tarih/Saat"}),o.jsx("th",{children:"Oda Tipi"}),o.jsx("th",{children:"Tür"}),o.jsx("th",{children:"Özet"}),o.jsx("th",{className:"right",children:"Aksiyon"})]})}),o.jsxs("tbody",{children:[Be.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:new Date(k.when).toLocaleString("tr-TR")}),o.jsx("td",{children:Et(k.roomType)}),o.jsx("td",{children:k.kind==="range"?"Aralık":k.kind==="weekend"?"Hafta Sonu":"Gün Bazlı"}),o.jsx("td",{className:"ops-summary",children:Lt(k)}),o.jsx("td",{className:"right",children:o.jsxs("div",{style:{display:"inline-flex",gap:8},children:[o.jsx("button",{className:"btn sm",onClick:()=>It(k),children:"Düzenle"}),o.jsx("button",{className:"btn sm",onClick:()=>Vt(k),disabled:W,children:"Uygula"}),o.jsx("button",{className:"btn sm danger",onClick:()=>mt(k.id),children:"Sil"})]})})]},k.id)),Be.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"muted",children:"Henüz kayıtlı işlem yok. Takvim/Hafta Sonu/Gün Bazlı sekmelerinden bir uygulama yaptığınızda burada listelenecek."})})]})]})]}),o.jsx("div",{className:"label",style:{margin:"12px 0 6px"},children:"Önizleme"}),o.jsx("div",{style:{overflowX:"auto"},children:o.jsxs("table",{className:"table",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"TARİH"}),o.jsx("th",{children:"FİYAT"}),o.jsx("th",{children:"ALLOTMENT"}),o.jsx("th",{children:"STOP"})]})}),o.jsxs("tbody",{children:[E.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:new Date(k.date).toLocaleDateString("tr-TR")}),o.jsx("td",{children:Ql(k.price)}),o.jsx("td",{children:k.allotment??0}),o.jsx("td",{children:k.stopSell?"Evet":"Hayır"})]},k._id||String(k.date))),E.length===0&&o.jsx("tr",{children:o.jsx("td",{className:"muted",colSpan:4,children:"Seçilen aralık için veri yok"})})]})]})}),o.jsx("div",{className:"label",style:{margin:"16px 0 8px"},children:"Kayıtlı Kurallar"}),o.jsxs("div",{className:"card",style:{padding:12},children:[o.jsxs("div",{className:"chips",style:{marginBottom:8},children:[o.jsx(ws,{active:Q==="ALL",onClick:()=>Je("ALL"),children:"Tümü"}),mn.map(k=>o.jsxs(ws,{active:Q===k.id,onClick:()=>Je(k.id),children:[k.label," ",o.jsxs("span",{className:"muted",children:["(",k.count,")"]})]},k.id))]}),o.jsxs("table",{className:"table hover",children:[o.jsx("thead",{children:o.jsxs("tr",{children:[o.jsx("th",{children:"Oda"}),o.jsx("th",{children:"Ad"}),o.jsx("th",{children:"Tip"}),o.jsx("th",{children:"Özet"}),o.jsx("th",{className:"right",children:"İşlemler"})]})}),o.jsxs("tbody",{children:[zt.map(k=>o.jsxs("tr",{children:[o.jsx("td",{children:o.jsx("span",{className:"link",style:{cursor:"pointer",textDecoration:"underline"},onClick:()=>Je(k.roomType),title:"Bu odaya filtrele",children:Et(k.roomType)})}),o.jsx("td",{children:k.name||"-"}),o.jsx("td",{children:k.type==="range"?"Takvim (Aralık)":"Gün Bazlı"}),o.jsx("td",{className:"rule-summary",children:yt(k)}),o.jsx("td",{className:"right",children:o.jsxs("div",{style:{display:"inline-flex",gap:8},children:[o.jsx("button",{className:"btn sm",onClick:()=>wt(k),children:"Düzenle"}),o.jsx("button",{className:"btn sm",onClick:()=>gn(k),disabled:W,children:"Uygula"}),o.jsx("button",{className:"btn sm danger",onClick:()=>cr(k.id),children:"Sil"})]})})]},k.id)),zt.length===0&&o.jsx("tr",{children:o.jsx("td",{colSpan:5,className:"muted",children:"Kayıtlı kural yok."})})]})]})]})]})})]})}function dS({title:e,children:t}){const[n,r]=ee.useState(!1);return o.jsxs("div",{style:{gridColumn:"1 / -1"},children:[o.jsxs("button",{type:"button",className:"btn",onClick:()=>r(a=>!a),style:{marginBottom:8},children:[n?"▲ ":"▼ "," ",e]}),n&&o.jsx("div",{className:"card",style:{padding:12},children:t})]})}function fS(){const[e,t]=ee.useState([]);return ee.useEffect(()=>{ON(({msg:n,type:r})=>{const a=Math.random().toString(36).slice(2);t(i=>[...i,{id:a,msg:n,type:r}]),setTimeout(()=>t(i=>i.filter(s=>s.id!==a)),3500)})},[]),o.jsx("div",{style:{position:"fixed",right:16,bottom:16,display:"flex",flexDirection:"column",gap:8,zIndex:9999},children:e.map(n=>o.jsx("div",{style:{padding:"10px 14px",borderRadius:12,minWidth:240,background:n.type==="error"?"rgba(239,68,68,.1)":n.type==="warn"?"rgba(245,158,11,.1)":"rgba(59,130,246,.1)",border:`1px solid ${n.type==="error"?"rgba(239,68,68,.3)":n.type==="warn"?"rgba(245,158,11,.3)":"rgba(59,130,246,.3)"}`,color:"#fff",boxShadow:"0 6px 20px rgba(0,0,0,.15)"},children:n.msg},n.id))})}function Za({children:e}){const t=localStorage.getItem("token"),n=os();return t?e:o.jsx(N1,{to:"/login",state:{from:n},replace:!0})}function Ii({roles:e=[],children:t}){const n=localStorage.getItem("role")||"GUEST";return e.length&&!e.includes(n)?o.jsx(N1,{to:"/",replace:!0}):t}function hS(){const{id:e}=w1();return o.jsx(lv,{forceHotelIdForMaster:e})}function pS(){const{id:e}=w1();return o.jsx(Tv,{forceHotelIdForMaster:e})}function mS(){const{id:e}=w1();return o.jsx(Ev,{forceHotelIdForMaster:e})}function gS(){const{pathname:e}=os();return ee.useEffect(()=>{window.scrollTo(0,0)},[e]),null}function yS(){return o.jsxs("div",{style:{padding:24},children:[o.jsx("h2",{children:"Sayfa bulunamadı"}),o.jsx("p",{children:"Ana sayfaya dönüyorsunuz…"}),o.jsx(N1,{to:"/",replace:!0})]})}function vS(){const e=localStorage.getItem("role")||"GUEST",t=n=>o.jsx(Z3,{role:e,children:n});return o.jsxs(o.Fragment,{children:[o.jsx(gS,{}),o.jsxs(O3,{children:[o.jsx(ra,{path:"/login",element:o.jsx(DN,{})}),o.jsx(ra,{path:"/",element:o.jsx(Za,{children:t(e==="MASTER_ADMIN"?o.jsx(BN,{}):o.jsx(YN,{}))})}),o.jsx(ra,{path:"/master/hotels",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["MASTER_ADMIN"],children:t(o.jsx(UN,{}))})})}),o.jsx(ra,{path:"/master/hotels/:id/reservations",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["MASTER_ADMIN"],children:t(o.jsx(hS,{}))})})}),o.jsx(ra,{path:"/master/hotels/:id/finance",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["MASTER_ADMIN"],children:t(o.jsx(pS,{}))})})}),o.jsx(ra,{path:"/master/hotels/:id/channels",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["MASTER_ADMIN"],children:t(o.jsx(mS,{}))})})}),o.jsx(ra,{path:"/hotel/reservations",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["HOTEL_ADMIN","HOTEL_STAFF"],children:t(o.jsx(lv,{}))})})}),o.jsx(ra,{path:"/hotel/finance",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["HOTEL_ADMIN","HOTEL_STAFF"],children:t(o.jsx(Tv,{}))})})}),o.jsx(ra,{path:"/hotel/channels",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["HOTEL_ADMIN","HOTEL_STAFF"],children:t(o.jsx(Ev,{}))})})}),o.jsx(ra,{path:"/hotel/rooms",element:o.jsx(Za,{children:o.jsx(Ii,{roles:["HOTEL_ADMIN","HOTEL_STAFF"],children:t(o.jsx(cS,{}))})})}),o.jsx(ra,{path:"*",element:o.jsx(yS,{})})]}),o.jsx(fS,{})]})}ip.createRoot(document.getElementById("root")).render(o.jsx($3,{children:o.jsx(vS,{})}));export{$t as _,xS as c,vx as g};
